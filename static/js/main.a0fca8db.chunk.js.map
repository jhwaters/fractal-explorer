{"version":3,"sources":["containers/Theme.tsx","fractal/canvasdrawer.ts","store/view/actions.ts","store/view/types.ts","store/draw/actions.ts","store/draw/types.ts","fractal/math.ts","fractal/juliaQuadratic.ts","fractal/julia.ts","fractal/mandelbrot.ts","fractal/burningship.ts","fractal/builder.ts","fractal/color/colorscale.tsx","fractal/color/schemes.ts","fractal/color/index.ts","containers/Canvas.tsx","components/ColorPreview.tsx","components/ComplexNumberInput.tsx","components/material.tsx","components/NumberInput.tsx","components/DownUpButtons.tsx","store/algorithm/types.ts","store/algorithm/actions.ts","components/katex.tsx","containers/settings/Julia.tsx","containers/settings/JuliaQuadratic.tsx","containers/settings/Mandelbrot.tsx","containers/settings/BurningShip.tsx","containers/settings/AlgorithmSettings.tsx","containers/settings/CustomColor.tsx","containers/settings/ColorSettings.tsx","store/color/actions.ts","store/color/types.ts","containers/settings/ViewSettings.tsx","containers/Info.tsx","containers/settings/Settings.tsx","containers/controls/Zoom.tsx","containers/controls/Recenter.tsx","containers/controls/Julia.tsx","containers/controls/JuliaQ.tsx","containers/controls/Mandelbrot.tsx","containers/controls/BurningShipControls.tsx","containers/controls/ControlBar.tsx","containers/controls/FullResolution.tsx","containers/controls/Stretch.tsx","containers/UI.tsx","containers/App.tsx","containers/Root.tsx","store/color/reducer.ts","store/view/reducer.ts","store/algorithm/reducer.ts","store/draw/reducer.ts","store/reducer.ts","index.tsx","containers/App.module.css","components/components.module.css"],"names":["LIGHT","type","primary","teal","secondary","pink","DARK","amber","Theme","props","state","theme","palette","MuiTextField","variant","size","fullWidth","margin","MuiButtonGroup","style","MuiBox","dark","this","setState","setDark","window","matchMedia","matches","addListener","x","createMuiTheme","CssBaseline","children","React","Component","CanvasDrawer","canvas","values","scale","document","createElement","clear","w","h","width","height","ctx","getContext","clearRect","y","value","push","cmap","setTransform","beginPath","pt","rect","fillStyle","fill","update","payload","setDrawing","drawing","fullRes","pl","undefined","fullResolution","complex","re","im","fromPolar","angle","radius","Math","cos","sin","add","a","b","subtract","abs2","z","atan2","multiply","divide","d","exp","r","pow","r2","sqrt","abs","randomC","PI","asin","random","round","c","bound","iterations","power","seedX","seedY","b2","x1","y1","x2","y2","count","juliaQuadratic","juliaQuadraticX","pickFunction","s","mult","neg","sinh","num","subt","div","den","A","B","C","D","p","coefficients","an","result","k","coeffs","polynomial","2","console","log","f","math","evaluate","f1","f2","mandelbrot","multibrot","flip","burningship","burningshipX","alg","method","params","julia","range","makeJuliaQuadratic","makeMandelbrot","makeBurningShip","ColorScale","interpolator","skew","reverse","domain","scalePow","exponent","createScaler","Array","i","colors","opts","piecewise","interpolateLab","D3_SCHEMES","Inferno","Magma","Plasma","Viridis","Cool","Warm","Rainbow","Spectral","Cubehelix","Greys","ALL_SCHEMES","colorScale","scheme","customSchemes","customScale","COLORSCHEMES","builtinScale","linearScale","m","n","coordScale","center","ppu","rev","Canvas","drawer","canvasRef","centerOnClick","evt","setCenter","view","cx","cy","getBoundingClientRect","dx","nativeEvent","offsetX","dy","offsetY","createRef","resize","color","algorithm","X","makeAlgorithm","createMap","xscale","yscale","v","setValue","applyColors","finishDrawing","val","attach","draw","shouldDraw","shouldColor","recolor","classNames","styles","stretch","Stretch","className","join","ref","onDoubleClick","current","connect","previewPixels","Object","assign","pixelcount","factor","min","scaleDown","dispatch","ColorPreview","docolors","context","orientation","forEach","fillRect","defaultProps","ComplexNumberInput","GRID","onClick","getValueAtClick","precision","max","stepRadius","stepRect","stepAngle","angles","stepX","stepY","max_radius","circle","hline","vline","rect_minor","polar_minor","rad","RECT","MINOR","MAJOR","POLAR","makegrid","svg","clientX","clientY","clickX","clickY","Minor","vectorEffect","Major","markerRadius","viewBox","Grid","stroke","gridColor","rectGrid","polarGrid","Marker","markerColor","Box","rest","Box_","NumberInput","onChange","target","isEmpty","isNaN","step","inputProps","TextField","withTheme","onUp","onDown","label","disableUp","disableDown","ButtonGroup","Button","disabled","SET_METHOD","KaTeX","katex","render","displayMode","renderMath","whiteSpace","FORMULAS","latex","Julia","changeBound","setBound","changeIterations","setIterations","selectFormula","formula","valid","setFormula","custom","changeFormula","error","select","keys","map","fmla","MenuItem","key","replace","customFormula","JuliaQuadratic","changePower","setPower","changeC","setC","applyC","onApply","borderWidth","borderStyle","borderColor","text","borderRadius","padding","FormControl","InputLabel","shrink","main","textColor","Mandelbrot","BurningShip","changeFlip","setFlip","checked","FormControlLabel","control","Switch","AlgorithmSettings","apply","recenter","revert","selectMethod","updateJulia","updateJuliaQuadratic","updateMandelbrot","updateBurningShip","changedMethod","changedParams","hasChanged","renderMethodSettings","updateView","updateAlgorithm","CustomColor","changeName","name","changeNum","setNum","changeColor","addColor","removeColor","save","onSave","onClose","validName","takenNames","toLowerCase","length","slice","CUSTOM","display","renderColorInput","ColorSettings","openCustomPopup","customPopup","closeCustomPopup","changeReverse","changeSkew","selectScheme","setScheme","saveScheme","addScheme","updateColor","schemeList","edge","Slider","Popover","open","updates","ViewSettings","centerStep","setCX","setCurrent","setCY","setW","setH","setPPU","setPreviewMode","previewMode","flexDirection","justifyContent","marginTop","ViewActions","withSign","toPrecision","science","split","rx","ry","rounder","floor","log10","nolatex","fff","Typography","SettingsDrawer","openMenu","setVisible","openAlgorithm","openColor","openView","openInfo","closeAll","visible","compact","OpenMenuButton","SettingsButton","Drawer","Info","zoomIn","zoomOut","JuliaControls","iterUp","incrementIter","iterStep","iterDown","iter","setIter","JuliaQuadraticControls","angleUp","incrementAngle","angleStep","angleDown","radiusUp","incrementRadius","radiusStep","radiusDown","powerUp","incrementPower","powerStep","powerDown","randomize","a0","r0","toFixed","MandelbrotControls","BurningShipControls","JuliaQ","FullResolution","drawFull","setStretch","Controls","barStyle","flexFlow","backgroundColor","background","default","AppBar","top","Settings","float","position","bottom","App","CanvasContainer","UI","Root","store","initialState","combineReducers","action","createStore","reducer","ReactDOM","getElementById","module","exports"],"mappings":"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","file":"static/js/main.a0fca8db.chunk.js","sourcesContent":["import React from 'react';\nimport {\n  ThemeProvider as Provider, \n  createMuiTheme, \n} from '@material-ui/core/styles';\nimport { } from '@material-ui/core/styles/'\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport {\n  amber, teal, pink, lime, blueGrey, grey,\n} from '@material-ui/core/colors';\n\n\nconst LIGHT = {\n  type: 'light',\n  primary: teal,\n  secondary: pink,\n};\n\nconst DARK = {\n  type: 'dark',\n  primary: teal,\n  secondary: amber,\n};\n\ntype Props = {}\n\nclass Theme extends React.Component<Props> {\n  state: {\n    theme: any\n  }\n\n  constructor(props: React.PropsWithChildren<Props>) {\n    super(props);\n    this.state = {\n      theme: {\n        palette: {\n          type: 'light',\n          primary: teal,\n          secondary: pink,\n        },\n        props: {\n          MuiTextField: {\n            variant: 'outlined',\n            size: 'small',\n            fullWidth: true,\n            margin: 'dense',\n          },\n          MuiButtonGroup: {\n            variant: 'text',\n          }\n        },\n        style: {\n          MuiBox: {\n            margin: '1em',\n          },\n        }\n      }\n    }\n  }\n\n  setDark(dark: boolean) {\n    this.setState({\n      theme: {\n        ...this.state.theme,\n        palette: {\n          ...this.state.theme.palette,\n          ...(dark ? DARK : LIGHT),\n        }\n      }\n    })\n  }\n\n  componentDidMount() {\n    this.setDark(window.matchMedia(\"(prefers-color-scheme:dark)\").matches)\n    window.matchMedia(\"(prefers-color-scheme:dark)\").addListener(x => {\n      this.setDark(x.matches)\n    })\n  }\n\n  render() {\n    return (\n      <Provider theme={createMuiTheme(this.state.theme)}>\n        <CssBaseline/>\n        {this.props.children}\n      </Provider>\n    )\n  }\n}\n\nexport default Theme;","\nclass CanvasDrawer {\n  canvas: HTMLCanvasElement\n  values: {[k: number]: [number, number][]}\n  scale: number\n\n  constructor(canvas?: HTMLCanvasElement) {\n    this.canvas = canvas || document.createElement('canvas');\n    this.values = {};\n    this.scale = 1;\n  }\n\n  attach(canvas: HTMLCanvasElement) {\n    this.canvas = canvas;\n    this.clear();\n  }\n\n  resize({w, h}: {w: number, h: number}) {\n    if (w) this.canvas.width = w*this.scale;\n    if (h) this.canvas.height = h*this.scale;\n  }\n\n  clear() {\n    const w = this.canvas.width;\n    const h = this.canvas.height;\n    const ctx = this.canvas.getContext('2d');\n    if (ctx) ctx.clearRect(0, 0, w, h);\n    this.values = {};\n  }\n\n  setValue(x: number, y: number, value: number) {\n    if (!this.values[value]) this.values[value] = [];\n    this.values[value].push([x, y]);\n  }\n\n  applyColors(cmap: (n: number) => string) {\n    const ctx = this.canvas.getContext('2d') as CanvasRenderingContext2D;\n    if (this.scale !== 1) {\n      ctx.setTransform(this.scale, 0, 0, this.scale, 0, 0)\n    }\n    for (const value in this.values) {\n      ctx.beginPath();\n      for (const pt of this.values[value]) {\n        ctx.rect(pt[0], pt[1], 1, 1);\n      }\n      ctx.fillStyle = cmap(+value);\n      ctx.fill();\n    }\n  }\n\n}\n\nexport default CanvasDrawer;","import {\n  State,\n  Update,\n  Recenter,\n  SetCenter,\n  SetDims,\n  ZoomIn,\n  ZoomOut,\n  UPDATE,\n  RECENTER,\n  SET_CENTER,\n  SET_DIMS,\n  ZOOM_IN,\n  ZOOM_OUT,\n} from './types';\n\n\nexport const update = (update: Partial<State>): Update => ({\n  type: UPDATE,\n  payload: update,\n})\n\nexport const recenter = (): Recenter => ({\n  type: RECENTER,\n})\n\nexport const setCenter = (cx: number, cy: number): SetCenter => ({\n  type: SET_CENTER,\n  payload: {cx, cy},\n})\n\nexport const setDims = (w: number, h: number): SetDims => ({\n  type: SET_DIMS,\n  payload: {w, h}\n})\n\nexport const zoomIn = (factor: number): ZoomIn => ({\n  type: ZOOM_IN,\n  payload: factor,\n})\n\nexport const zoomOut = (factor: number): ZoomOut => ({\n  type: ZOOM_OUT,\n  payload: factor,\n})","//import Big from 'big.js';\n\nexport type State = {\n  [k: string]: number | boolean\n  cx: number\n  cy: number\n  w: number\n  h: number\n  ppu: number // pixels per unit\n  previewPixels: number\n  stretch: boolean\n}\n\nexport const UPDATE = 'VIEW_UPDATE';\nexport const ZOOM_IN = 'VIEW_ZOOM_IN';\nexport const ZOOM_OUT = 'VIEW_ZOOM_OUT';\nexport const RECENTER = 'VIEW_RECENTER';\nexport const SET_DIMS = 'VIEW_SET_DIMS';\nexport const SET_CENTER = 'VIEW_SET_CENTER';\n\nexport type Update = {\n  type: typeof UPDATE,\n  payload: Partial<State>,\n}\n\nexport type Recenter = {\n  type: typeof RECENTER,\n}\n\nexport type SetDims = {\n  type: typeof SET_DIMS,\n  payload: {w: number, h: number},\n}\n\nexport type SetCenter = {\n  type: typeof SET_CENTER,\n  payload: {cx: number, cy: number},\n}\n\nexport type ZoomIn = {\n  type: typeof ZOOM_IN,\n  payload: number,\n}\n\nexport type ZoomOut = {\n  type: typeof ZOOM_OUT,\n  payload: number,\n}\n\nexport type Action = Update | ZoomIn | ZoomOut | Recenter | SetDims | SetCenter;","import {\n  SetDrawing,\n  SetRecolor,\n  SET_DRAWING,\n  SET_RECOLOR,\n} from './types';\n\nexport const setDrawing = (drawing: boolean, fullRes?: boolean): SetDrawing => {\n  const pl: {drawing: boolean, fullResolution?: boolean} = {drawing};\n  if (fullRes !== undefined) {\n    pl.fullResolution = fullRes;\n  } else if (drawing) {\n    pl.fullResolution = false;\n  }\n  return ({\n    type: SET_DRAWING,\n    payload: pl\n  })\n}\n\nexport const setRecolor = (recolor: boolean): SetRecolor => {\n  return {\n    type: SET_RECOLOR,\n    payload: recolor\n  }\n}","export const SET_DRAWING = 'SET_DRAWING'\nexport const SET_RECOLOR = 'SET_RECOLOR'\n\nexport type State = {\n  drawing: boolean\n  recolor: boolean\n  fullResolution: boolean\n}\n\nexport type SetDrawing = {\n  type: typeof SET_DRAWING,\n  payload: {\n    drawing: boolean,\n    fullResolution?: boolean,\n  }\n}\n\nexport type SetRecolor = {\n  type: typeof SET_RECOLOR,\n  payload: boolean\n}\n\nexport type Action = SetDrawing | SetRecolor","\nexport type Complex = {re: number, im: number}\n\nfunction complex(re: number | Complex, im?: number): Complex {\n  if (typeof re === 'number') return {re, im: im || 0};\n  else return re;\n}\n\nfunction fromPolar(angle: number, radius: number) {\n  return {\n    re: radius * Math.cos(angle),\n    im: radius * Math.sin(angle),\n  }\n}\n\nfunction add(a: Complex, b: Complex | number): Complex {\n  if (typeof b === 'number') {\n    return {re: a.re + b, im: a.im}\n  } else {\n    return {re: a.re + b.re, im: a.im + b.im}\n  }\n}\n\nfunction neg(a: Complex): Complex {\n  return {re: -a.re, im: -a.im}\n}\n\nfunction subtract(a: Complex, b: Complex | number): Complex {\n  if (typeof b === 'number') {\n    return {re: a.re - b, im: a.im}\n  } else {\n    return {re: a.re - b.re, im: a.im - b.im}\n  }\n}\n\nfunction abs2(z: Complex): number {\n  return z.re * z.re + z.im * z.im;\n}\n\nfunction abs(z: Complex): number {\n  return Math.sqrt(abs2(z));\n}\n\nfunction angle(z: Complex): number {\n  return Math.atan2(z.im, z.re);\n}\n\nfunction multiply(a: Complex, b: Complex | number): Complex {\n  if (typeof b === 'number') {\n    return {\n      re: a.re * b, \n      im: a.im * b,\n    }\n  } else {\n    return {\n      re: a.re*b.re - a.im*b.im,\n      im: a.re*b.im + a.im*b.re,\n    }\n  }\n}\n\nfunction divide(a: Complex, b: Complex | number): Complex {\n  if (typeof b === 'number') {\n    return {\n      re: a.re / b,\n      im: a.im / b,\n    }\n  } else {\n    const d = abs2(b);\n    return {\n      re: (a.re * b.re + a.im * b.im) / d,\n      im: (a.im * b.re - a.re * b.im) / d,\n    }\n  }\n}\n\nfunction exp(z: Complex): Complex {\n  const r = Math.exp(z.re)\n  return {\n    re: r * Math.cos(z.im),\n    im: r * Math.sin(z.im),\n  }\n}\n\nfunction pow(a: Complex, b: number): Complex {\n  const r2 = abs2(a);\n  const ang = angle(a);\n  return fromPolar(ang * b, Math.pow(r2, b/2))\n}\n\nfunction sinh(z: Complex): Complex {\n  const a = subtract(exp(z), exp(neg(z)))\n  return {\n    re: a.re/2,\n    im: a.im/2,\n  }\n}\n\nfunction sqrt(z: Complex): Complex {\n  const angle = Math.atan2(z.im, z.re);\n  return fromPolar(\n    angle / 2,\n    Math.sqrt(abs(z))\n  )\n}\n\nfunction polynomial(c: {[k: number]: number} | number[]): (z: Complex) => Complex;\nfunction polynomial(c: {[k: number]: number} | number[], z: Complex): Complex;\nfunction polynomial(coefficients: {[k: number]: number} | number[], z?: Complex) {\n  if (z) {\n    const r2 = abs2(z);\n    const an = angle(z);\n    let result = complex(0, 0);\n    for (const k in coefficients) {\n      result = add(result, fromPolar(+k * an, Math.pow(r2, coefficients[k]/2)))\n    }\n    return result;\n  } else {\n    const coeffs: {[key: number]: number} = {};\n    for (const k in coefficients) {\n      coeffs[k] = coefficients[k]/2;\n    }\n    return (z: Complex) => {\n      const r2 = abs2(z);\n      const an = angle(z);\n      let result = complex(0, 0);\n      for (const k in coeffs) {\n        result = add(result, fromPolar(+k * an, Math.pow(r2, coeffs[k])))\n      }\n      return result;\n    }\n    \n  }\n}\n\nexport {\n  add,\n  abs,\n  abs2,\n  angle,\n  complex,\n  exp,\n  divide,\n  multiply,\n  neg,\n  polynomial,\n  pow,\n  sinh,\n  sqrt,\n  subtract,\n}","import { abs2, add, pow, complex } from './math';\n\n\nexport function randomC() {\n  let angle = Math.PI -2 * Math.asin(Math.pow(Math.random(), 0.9));\n  if (Math.random() < 0.5) angle = 2*Math.PI-angle;\n  const radius = 0.3 + Math.sin(angle / 2) * 0.6 * (Math.random() * 0.4 + 0.8);\n  return {\n    x: Math.round(radius * Math.cos(angle) * 1000) / 1000,\n    y: Math.round(radius * Math.sin(angle) * 1000) / 1000,\n  }\n}\n\nexport function juliaQuadratic(seedX: number, seedY: number, bound: number, iterations: number) {\n  const b2 = bound * bound;\n  const im = seedY;\n  const re = seedX;\n  return (x: number, y: number) => {\n    let x1 = x, y1 = y;\n    let x2 = x1 * x1;\n    let y2 = y1 * y1;\n    let count = 0;\n    while (count < iterations) {\n      if (x2 + y2 < b2) {\n        count++;\n        y1 = 2*x1*y1 + im;\n        x1 = x2 - y2 + re;\n        x2 = x1*x1;\n        y2 = y1*y1;\n      } else {\n        break;\n      }\n    }\n    return count;\n  }\n}\n\nexport function juliaQuadraticX(seedX: number, seedY: number, power: number, bound: number, iterations: number) {\n  const b2 = bound * bound;\n  const c = complex(seedX, seedY)\n  return (x: number, y: number) => {\n    let z = complex(x, y)\n    let count = 0;\n    while (count < iterations) {\n      if (abs2(z) < b2) {\n        count++;\n        z = add(pow(z, power), c)\n      } else {\n        break;\n      }\n    }\n    return count;\n  }\n}\n\nexport default function({c, bound, iterations, power=1}: {\n  c: {x: number, y: number}, \n  bound: number, \n  iterations: number,\n  power?: number\n}) {\n  if (power === 2) {\n    return juliaQuadratic(c.x, c.y, bound, iterations);\n  } else {\n    return juliaQuadraticX(c.x, c.y, power, bound, iterations);\n  }\n}\n","import * as math from 'mathjs';\nimport {\n  Complex,\n  complex, \n  abs2, \n  add, \n  subtract as subt,\n  multiply as mult,\n  divide as div, \n  exp, \n  sqrt, \n  sinh, \n  polynomial,\n} from './math'\n\n\nfunction pickFunction(s: string): (c: Complex) => (z: Complex) => Complex {\n  if (s === 'e^(z^3)-0.6') {\n    return (c: Complex) => (z: Complex) => add(\n      exp(mult(z, mult(z, z))),\n      complex(-0.6, 0),\n    )\n  }\n  if (s === 'sqrt(sinh(z^2))+0.06+0.12i') {\n    return (c: Complex) => (z: Complex) => add(sqrt(sinh(mult(z, z))), complex(0.06, 0.12));\n  }\n  if (s === '(1-z^3/6)/((z-z^2/2)^2)+c') {\n    return (c: Complex) => (z: Complex) => {\n      const num = subt(complex(1), div(mult(z, mult(z, z)), 3))\n      const den = subt(z, div(mult(z, z), 2))\n      return add(div(num, mult(den, den)), c)\n    }\n  }\n  if (s === '1-z^2+z^5/(2+4z)+c') {\n    return (c: Complex) => (z: Complex) => {\n      const A = complex(1)\n      const B = mult(z, z);\n      const C = mult(z, mult(z, mult(z, mult(z, z))));\n      const D = add(complex(2), mult(z, 4))\n      return add(subt(add(c, A), B), div(C, D))\n    }\n  }\n  if (s === 'A') {\n    return (c: Complex) => {\n      const p = polynomial({2: 1});\n      const b = complex(-0.8, 0.2);\n      return (z: Complex) => add(p(z), b);\n    }\n  }\n  console.log('unknown formula; parsing: ' + s)\n  const f = math.parse(s);\n  return (c: Complex) => {\n    return (z: Complex) => f.evaluate({z, c})\n  }\n}\n\nexport default function({f, bound, iterations}: {f: string, bound: number, iterations: number}) {\n  const f1 = pickFunction(f);\n  const b2 = bound * bound;\n  return (x: number, y: number) => {\n    let z = math.complex(x, y);\n    const f2 = f1(z);\n    let count = 0;\n    while (count < iterations) {\n      if (abs2(z) < b2) {\n        count++;\n        z = f2(z) as math.Complex\n      } else {\n        break;\n      }\n    }\n    return count;\n  }\n}","import { complex, pow, abs2, add } from './math';\n\nexport function mandelbrot(bound: number, iterations: number) {\n  const b2 = bound * bound;\n  return function(x: number, y: number) {\n    let x1 = 0, y1 = 0;\n    let x2 = x1 * x1;\n    let y2 = y1 * y1;\n    let count = 0;\n    while (count < iterations) {\n      if (x2 + y2 < b2) {\n        count++;\n        y1 = 2*x1*y1 + y;\n        x1 = x2 - y2 + x;\n        x2 = x1*x1;\n        y2 = y1*y1;\n      } else {\n        break;\n      }\n    }\n    return count;\n  }\n}\n\nexport function multibrot(power: number, bound: number, iterations: number) {\n  const b2 = bound * bound;\n  return function(x: number, y: number) {\n    let z = complex(0, 0);\n    let c = complex(x, y);\n    let count = 0;\n    while (count < iterations) {\n      if (abs2(z) < b2) {\n        count++;\n        z = add(pow(z, power), c)\n      } else {\n        break;\n      }\n    }\n    return count;\n  }\n}\n\nexport default function({bound, iterations, power=2}: {bound: number, iterations: number, power?: number}) {\n  if (power === 2) {\n    return mandelbrot(bound, iterations)\n  } else {\n    return multibrot(power, bound, iterations);\n  }\n}","import { pow, add, complex, abs2 } from './math';\n\nfunction burningship(bound: number, iterations: number, flip: boolean=true) {\n  const b2 = bound * bound;\n  return function(x: number, y: number) {\n    if (flip) {\n      y = -y;\n    }\n    let x1 = x, y1 = y;\n    let x2 = x1 * x1;\n    let y2 = y1 * y1;\n    let count = 0;\n    while (count < iterations) {\n      if (x2 + y2 < b2) {\n        count++;\n        y1 = Math.abs(2*x1*y1) + y;\n        x1 = x2 - y2 + x;\n        x2 = x1*x1;\n        y2 = y1*y1;\n      } else {\n        break;\n      }\n    }\n    return count;\n  }\n}\n\nfunction burningshipX(\n  power: number, \n  bound: number, \n  iterations: number, \n  flip: boolean=true\n) {\n  const b2 = bound * bound;\n  return function(x: number, y: number) {\n    if (flip) {\n      y = -y;\n    }\n    let z = complex(0, 0)\n    const c = complex(x, y)\n    let count = 0;\n    while (count < iterations) {\n      if (abs2(z) < b2) {\n        count++;\n        z = add(pow(complex(Math.abs(z.re), Math.abs(z.im)), power), c)\n      } else {\n        break;\n      }\n    }\n    return count;\n  }\n}\n\nexport default function({power, bound, iterations, flip=true}: {\n  power: number, \n  bound: number, \n  iterations: number, \n  flip?: boolean\n}) {\n  if (power === 2) {\n    return burningship(bound, iterations, flip);\n  } else {\n    return burningshipX(power, bound, iterations, flip);\n  }\n}","import juliaQuadratic from './juliaQuadratic';\nimport julia from './julia';\nimport mandelbrot from './mandelbrot';\nimport burningship from './burningship';\nimport {\n  State as AlgState,\n  JuliaParams,\n  JuliaQuadraticParams,\n  MandelbrotParams,\n  BurningShipParams,\n} from '../store/algorithm/types';\n\n\ntype Julia = {\n  method: 'julia',\n  params: JuliaParams,\n}\n\ntype JQ = {\n  method: 'julia-quadratic',\n  params: JuliaQuadraticParams,\n}\n\ntype Mand = {\n  method: 'mandelbrot',\n  params: MandelbrotParams,\n}\n\ntype Burn = {\n  method: 'burningship',\n  params: BurningShipParams\n}\n\ntype Alg = Julia | JQ | Mand | Burn\n\ntype F = {\n  f: (x: number, y: number) => number,\n  range: [number, number],\n}\n\nfunction makeJulia(params: JuliaParams): F {\n  return {\n    f: julia(params),\n    range: [0, params.iterations],\n  }\n}\n\nfunction makeJuliaQuadratic(params: JuliaQuadraticParams): F {\n  return {\n    f: juliaQuadratic(params),\n    range: [0, params.iterations]\n  }\n}\n\nfunction makeMandelbrot(params: MandelbrotParams): F {\n  return {\n    f: mandelbrot(params),\n    range: [0, params.iterations],\n  }\n}\n\nfunction makeBurningShip(params: BurningShipParams): F {\n  return {\n    f: burningship(params),\n    range: [0, params.iterations],\n  }\n}\n\nexport default function(alg: AlgState): F | undefined {\n  if (alg.method === 'julia') {\n    return makeJulia(alg['julia']);\n  }\n  if (alg.method === 'julia-quadratic') {\n    return makeJuliaQuadratic(alg['julia-quadratic'])\n  }\n  if (alg.method === 'mandelbrot') {\n    return makeMandelbrot(alg['mandelbrot']);\n  }\n  if (alg.method === 'burningship') {\n    return makeBurningShip(alg['burningship']);\n  }\n}","import {\n  interpolateLab,\n  piecewise,\n  scalePow,\n  ScalePower,\n} from 'd3';\nimport { ColorInterpolator } from '../types';\n\n\nclass ColorScale {\n  interpolator: ColorInterpolator\n  skew: number\n  reverse: boolean\n\n  constructor(interpolator: ColorInterpolator, {skew, reverse}: {\n    reverse?: boolean,\n    skew?: number,\n  }={}) {\n    this.interpolator = interpolator;\n    this.reverse = reverse || false;\n    this.skew = skew || 0;\n  }\n\n  static piecewise(colors: string[], opts?: {skew?: number, reverse?: boolean}) {\n    return new ColorScale(piecewise(interpolateLab, colors), opts)\n  }\n\n  createScaler(domain?: [number, number]): ScalePower<number,number> {\n    const scale = scalePow()\n      .domain(domain || [0,1])\n      .range(this.reverse ? [1, 0] : [0, 1])\n    if (this.skew) {\n      scale.exponent(2**this.skew);\n    }\n    return scale;\n  }\n\n  createMap(domain?: [number, number]): string[] {\n    const scale = this.createScaler(domain);\n    const result: string[] = Array(1 + Math.abs(scale.domain()[1] - scale.domain()[0]));\n    for (let i = scale.domain()[0]; i <= scale.domain()[1]; i++) {\n      result[i] = this.interpolator(scale(i));\n    }\n    return result;\n  }\n}\n\nexport default ColorScale","import {\n  interpolateInferno as Inferno,\n  interpolateMagma as Magma,\n  interpolatePlasma as Plasma,\n  interpolateViridis as Viridis,\n  interpolateCool as Cool,\n  interpolateWarm as Warm,\n  interpolateGreys as Greys,\n  interpolateRainbow as Rainbow,\n  interpolateSpectral as Spectral,\n  interpolateCubehelixDefault as Cubehelix\n} from 'd3';\nimport { ColorInterpolator } from '../types';\n\ntype SchemeDict = {[k: string]: ColorInterpolator}\n\nexport const D3_SCHEMES: SchemeDict = {\n  Inferno,\n  Magma,\n  Plasma,\n  Viridis,\n  Cool,\n  Warm,\n  Rainbow,\n  Spectral,\n  Cubehelix,\n  Greys,\n}\n\nexport const OTHER_SCHEMES: SchemeDict = {\n}\n\nconst ALL_SCHEMES: SchemeDict = {\n  ...D3_SCHEMES,\n  ...OTHER_SCHEMES,\n}\n\nexport default ALL_SCHEMES\n","import ColorScale from './colorscale';\nimport COLORSCHEMES from './schemes';\n\n\nexport function customScale(colors: string[], opts: {\n  reverse?: boolean,\n  skew?: number,\n}={}) {\n  return ColorScale.piecewise(colors, opts);\n}\n\nexport function builtinScale(scheme: string, opts: {\n  reverse?: boolean,\n  skew?: number,\n}={}) {\n  return new ColorScale(COLORSCHEMES[scheme], opts);\n}\n\nexport function colorScale({scheme, reverse, skew, customSchemes}: {\n  scheme: string\n  reverse: boolean,\n  skew: number,\n  customSchemes: {[k: string]: string[]}\n}) {\n  if (customSchemes[scheme]) {\n    return customScale(customSchemes[scheme], {reverse, skew});\n  } else {\n    return builtinScale(scheme, {reverse, skew});\n  }\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport CanvasDrawer from '../fractal/canvasdrawer';\nimport { State as AppState } from '../store/types';\nimport { State as AlgState } from '../store/algorithm/types';\nimport { State as ColorState } from '../store/color/types';\nimport { setCenter } from '../store/view/actions';\nimport { setDrawing } from '../store/draw/actions';\nimport { makeAlgorithm } from '../fractal';\nimport { colorScale } from '../fractal';\nimport styles from './App.module.css';\n\n\nfunction scaleDown({w, h, ppu, previewPixels}: {\n  w: number,\n  h: number,\n  ppu: number,\n  previewPixels: number,\n}) {\n  const pixelcount = w * h;\n  const factor = Math.min(1, Math.sqrt(previewPixels / pixelcount))\n  const result = {\n    w: Math.round(w * factor),\n    h: Math.round(h * factor),\n    ppu: Math.round(ppu * factor),\n  }\n  return result\n}\n\nfunction linearScale(domain: [number, number], range: [number,number]) {\n  const m = (range[1] - range[0]) / (domain[1] - domain[0])\n  const b = range[0] - m*domain[0]\n  return (n: number) => m*n + b;\n}\n\nfunction coordScale(size: number, center: number, ppu: number, rev: boolean=false) {\n  const radius = size / 2 / ppu;\n  if (rev) {\n    return linearScale([size-1, 0], [center-radius, center+radius])\n  }\n  return linearScale([0, size-1], [center-radius, center+radius])\n}\n\ntype Props = {\n  view: {\n    w: number\n    h: number\n    ppu: number\n    cx: number\n    cy: number\n  }\n  color: ColorState\n  algorithm: AlgState\n  stretch: boolean\n  shouldDraw: boolean\n  shouldColor: boolean\n  setCenter: (x: number, y: number) => void\n  finishDrawing: () => void\n}\n\nclass Canvas extends React.Component<Props> {\n  drawer: CanvasDrawer\n  canvasRef: React.RefObject<HTMLCanvasElement>\n\n  constructor(props: Props) {\n    super(props);\n    this.drawer = new CanvasDrawer();\n    this.canvasRef = React.createRef();\n  }\n\n  get canvas() {\n    return this.canvasRef.current\n  }\n\n  resize() {\n    this.drawer.resize({w: this.props.view.w, h: this.props.view.h});\n  }\n\n  colorScale() {\n    return colorScale(this.props.color);\n  }\n\n  draw() {\n    this.resize()\n    const {algorithm} = this.props;\n    const X = makeAlgorithm(algorithm)\n    if (X) {\n      const {f, range} = X;\n      const cmap = this.colorScale().createMap(range);\n      this.drawer.clear();\n      const {cx, cy, w, h, ppu} = this.props.view;\n      const xscale = coordScale(w, cx, ppu);\n      const yscale = coordScale(h, cy, ppu, true);\n      for (let r = 0; r < h; r++) {\n        const y = yscale(r);\n        for (let c = 0; c < w; c++) {\n          const x = xscale(c);\n          const v = f(x, y);\n          this.drawer.setValue(c, r, v)\n        }\n      }\n      this.drawer.applyColors((n: number) => cmap[n]);\n      this.props.finishDrawing();\n    }\n  }\n\n  recolor() {\n    const {algorithm} = this.props;\n    const X = makeAlgorithm(algorithm)\n    if (X) {\n      const cmap = this.colorScale().createMap(X.range);\n      this.drawer.applyColors((n: number) => cmap[n]);\n    }\n  }\n\n  changeIterations() {\n    const {algorithm} = this.props;\n    const {iterations} = algorithm;\n    const X = makeAlgorithm(algorithm)\n    if (X) {\n      const {f, range} = X;\n      const cmap = this.colorScale().createMap(range);\n      for (const val in this.drawer.values) {\n        if (val > iterations) {\n          this.drawer.values[iterations].push(...this.drawer.values[val]);\n          this.drawer.values[val] = []\n        }\n      }\n      const {cx, cy, w, h, ppu} = this.props.view;\n      const xscale = coordScale(w, cx, ppu);\n      const yscale = coordScale(h, cy, ppu, true);\n      /* TODO\n      for (const [r, c] of this.drawer.values[previousIterMax]) {\n        const y = yscale(r);\n        const x = xscale(c);\n        const v = f(x, y);\n        this.drawer.setValue(c, r, v)\n      }\n      */\n      this.drawer.applyColors((n: number) => cmap[n]);\n      this.props.finishDrawing();\n    }\n  }\n\n  componentDidMount() {\n    if (this.canvas) {\n      this.drawer.attach(this.canvas)\n      this.resize()\n      this.draw()\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.props.shouldDraw) {\n      this.resize();\n      this.draw();\n    }\n    else if (this.props.shouldColor) {\n      this.recolor();\n    }\n  }\n\n  centerOnClick = (evt: any) => {\n    if (this.props.setCenter) {\n      if (this.canvas) {\n        const {h, w, ppu, cx, cy} = this.props.view;\n        const rect = this.canvas.getBoundingClientRect();\n        const pixel_x = (evt.nativeEvent.offsetX / rect.width) * w;\n        const pixel_y = (evt.nativeEvent.offsetY / rect.height) * h;\n        const dx = (pixel_x - (w / 2)) / ppu;\n        const dy = (pixel_y - (h / 2)) / ppu;\n        this.props.setCenter(cx + dx, cy - dy);\n      }\n    }\n  }\n\n  render() {\n    const classNames = [styles.Canvas]\n    if (this.props.stretch) {\n      classNames.push(styles.Stretch)\n    }\n    return (\n      <canvas\n        className={classNames.join(' ')}\n        ref={this.canvasRef}\n        onDoubleClick={this.centerOnClick}\n      />\n    )\n  }\n}\n\n\nexport default connect(\n  (state: AppState) => {\n    const {w, h, ppu, cx, cy, previewPixels, stretch} = state.view;\n    let result = {\n      algorithm: {...state.algorithm},\n      color: state.color,\n      shouldDraw: state.draw.drawing,\n      shouldColor: !state.draw.drawing && state.draw.recolor,\n      stretch: stretch,\n      view: {w, h, ppu, cx, cy},\n    }\n    if (!state.draw.fullResolution) {\n      Object.assign(result.view, scaleDown({w, h, ppu, previewPixels}))\n    }\n    return result;\n  },\n  (dispatch) => ({\n    setCenter: (x: number, y: number) => {\n      dispatch(setCenter(x, y));\n      dispatch(setDrawing(true));\n    },\n    finishDrawing: () => dispatch(setDrawing(false)),\n  })\n)(Canvas)","import React from 'react';\nimport { SchemeName } from '../store/color/types';\nimport { colorScale } from '../fractal';\nimport styles from './components.module.css';\n\ntype Props = {\n  width: number,\n  height: number,\n  orientation: string,\n  scheme: SchemeName,\n  customSchemes: {[k: string]: string[]}\n  reverse: boolean,\n  skew: number,\n  style?: any,\n}\n\nclass ColorPreview extends React.Component<Props> {\n  ref: React.RefObject<HTMLCanvasElement>\n\n  static defaultProps = {\n    width: 200,\n    height: 10,\n    orientation: 'horizontal',\n  }\n\n  constructor(props: Props) {\n    super(props);\n    this.ref = React.createRef();\n  }\n\n  componentDidMount() {\n    this.docolors();\n  }\n\n  componentDidUpdate() {\n    this.docolors();\n  }\n\n  docolors() {\n    const canvas = this.ref.current;\n    if (canvas) {\n      const context = canvas.getContext('2d');\n      if (context) {\n        const { scheme, reverse, skew, customSchemes, width, height, orientation } = this.props;\n        if (orientation === 'horizontal') {\n          const cm = colorScale({scheme, reverse, skew, customSchemes}).createMap([0,width]);\n          cm.forEach((color, i) => {\n            context.fillStyle = color;\n            context.fillRect(i, 0, 1, height);\n          })\n        } else {\n          const cm = colorScale({scheme, reverse, skew, customSchemes}).createMap([height,0]);\n          cm.forEach((color, i) => {\n            context.fillStyle = color;\n            context.fillRect(0, i, width, 1);\n          })\n        }\n      }\n    }\n  }\n\n  render() {\n    return (\n      <canvas ref={this.ref} \n        width={this.props.width} \n        height={this.props.height} \n        style={this.props.style}\n        className={styles.ColorPreview}\n      />\n    )\n  }\n}\n\nexport default ColorPreview;","import React from 'react';\nimport styles from './components.module.css';\n\n\nfunction makegrid({max, stepX, stepY, stepRadius, stepAngle, angles}: {\n  max: number,\n  stepX: number,\n  stepY: number,\n  stepAngle: number,\n  stepRadius: number,\n  angles?: number[],\n}) {\n  const max_radius = max * 1.5;\n\n  function circle(cx: number, cy: number, r: number) {\n    return (\n      'M' + cx+r + ',' + cy + \n      'A' + r + ',' + r + ',0,1,0,' + cx + ',' + cy + r +\n      'A' + r + ',' + r + ',0,0,0,' + cx + r + ',' + cy\n    )\n  }\n\n  function hline(v: number) {\n    return 'M' + (-max) + ',' + v + 'H' + max;\n  }\n\n  function vline(v: number) {\n    return 'M' + v + ',' + (-max) + 'V' + max;\n  }\n  \n  let rect_minor = ''\n  let i = 0;\n  while (i <= max) {\n    rect_minor += vline(i) + vline(-i);\n    i += stepX;\n  }\n\n  i = 0;\n  while (i <= max) {\n    rect_minor += hline(i) + hline(-i);\n    i += stepY;\n  }\n  \n  let polar_minor = '';\n  \n  if (angles) {\n    angles.forEach(a => {\n      const rad = a * Math.PI / 180;\n      polar_minor += 'M0,0L' + max_radius * Math.cos(rad) + ',' + max_radius * Math.sin(rad);\n    })\n  } else {\n    i = 0;\n    while (i < 360) {\n      const rad = i * Math.PI / 180;\n      polar_minor += 'M0,0L' + max_radius * Math.cos(rad) + ',' + max_radius * Math.sin(rad);\n      i += stepAngle;\n    }\n  }\n\n  i = stepRadius;\n  while (i <= max_radius) {\n    polar_minor += circle(0, 0, i);\n    i += stepRadius;\n  }\n\n  return {\n    RECT: {MINOR: rect_minor, MAJOR: hline(0) + vline(0)},\n    POLAR: {MINOR: polar_minor, MAJOR: circle(0, 0, 1)},\n  }\n  \n}\n\ntype Props = {\n  value: {x: number, y: number},\n  max: number,\n  onClick?: (x: number, y: number) => void,\n  onDoubleClick?: (x: number, y: number) => any,\n  size: number,\n  precision: number,\n  stepRect: number,\n  stepRadius: number,\n  stepAngle: number,\n  angles?: number[],\n  style?: React.CSSProperties,\n\n  markerColor: string,\n  gridColor?: string,\n  textColor?: string,\n}\n\n\n\nclass ComplexNumberInput extends React.Component<Props> {\n  ref: React.RefObject<SVGSVGElement>\n  GRID: {\n    RECT?: {MAJOR?: string, MINOR?: string},\n    POLAR?: {MAJOR?: string, MINOR?: string},\n  }\n  round: (n: number) => number\n\n  static defaultProps = {\n    size: 100,\n    precision: 3,\n    stepAngle: 30,\n    stepRadius: 0.2,\n    stepRect: 0.2,\n\n    markerColor: 'blue',\n    //gridColor: 'black',\n  }\n\n  constructor(props: React.PropsWithChildren<Props>) {\n    super(props);\n    this.ref = React.createRef();\n    const r = Math.pow(10, props.precision);\n    this.round = (n: number) => Math.round(n*r) / r;\n    const {max, stepRadius, stepRect, stepAngle, angles} = this.props;\n    this.GRID = makegrid({max, stepRadius, stepAngle, angles, stepX: stepRect, stepY: stepRect});\n  }\n\n  getValueAtClick(evt: any): [number, number] | undefined {\n    const svg = this.ref.current;\n    if (svg) {\n      const rect = svg.getBoundingClientRect();\n      const {x, y} = rect;\n      const {clientX, clientY} = evt.nativeEvent;\n      const clickX = ((clientX - x) / this.props.size - 0.5) * 2*this.props.max;\n      const clickY = -((clientY - y) / this.props.size - 0.5) * 2*this.props.max;\n      return [this.round(clickX), this.round(clickY)];\n    }\n  }\n\n  onClick = (evt: any) => {\n    if (this.props.onClick) {\n      const p = this.getValueAtClick(evt);\n      if (p) this.props.onClick(...p);\n    }\n  }\n\n  onDoubleClick = (evt: any) => {\n    if (this.props.onDoubleClick) {\n      const p = this.getValueAtClick(evt);\n      if (p) this.props.onDoubleClick(...p);\n    }\n  }\n\n  polarGrid() {\n    if (this.GRID.POLAR) {\n      return (\n        <>\n        {this.GRID.POLAR.MINOR ? (\n          <path d={this.GRID.POLAR.MINOR} \n            className={styles.Minor} \n            vectorEffect=\"non-scaling-stroke\"/>\n        ) : null}\n        {this.GRID.POLAR.MAJOR ? (\n          <path d={this.GRID.POLAR.MAJOR} \n            className={styles.Major} \n            vectorEffect=\"non-scaling-stroke\"/>\n        ) : null}\n        </>\n      )\n    }\n    return null;\n  }\n\n  rectGrid() {\n    if (this.GRID.RECT) {\n      return (\n        <>\n        {this.GRID.RECT.MINOR ? (\n          <path d={this.GRID.RECT.MINOR} \n            className={styles.Minor} \n            vectorEffect=\"non-scaling-stroke\"/>\n        ) : null}\n        {this.GRID.RECT.MAJOR ? (\n          <path d={this.GRID.RECT.MAJOR} \n            className={styles.Major} \n            vectorEffect=\"non-scaling-stroke\"/>\n        ) : null}\n        </>\n      )\n    }\n    return null;\n  }\n  \n  render() {\n    const markerRadius = this.props.max / 30;\n    const viewBox = [-this.props.max, -this.props.max, 2*this.props.max, 2*this.props.max]\n    return (\n      <svg \n        ref={this.ref}\n        onClick={this.onClick}\n        onDoubleClick={this.onDoubleClick}\n        viewBox={viewBox.join(' ')}\n        className={styles.ComplexNumberInput}\n        style={{...this.props.style, width: this.props.size, height: this.props.size}}\n      >\n        <g className={styles.Grid}\n          style={{stroke: this.props.gridColor}}\n        >\n          {this.rectGrid()}\n          {this.polarGrid()}\n        </g>\n        <circle \n          cx={this.props.value.x}\n          cy={-this.props.value.y}\n          r={markerRadius} \n          className={styles.Marker}\n          style={{\n            stroke: this.props.markerColor,\n            fill: this.props.markerColor,\n          }}\n        />\n      </svg>\n    )\n  }\n}\n\nexport default ComplexNumberInput","import React from 'react'\nimport Box_ from '@material-ui/core/Box';\n\nexport const Box = ({m=1, ...rest}: {[k: string]: any}) => React.createElement(Box_, {m, ...rest});\n\nexport { default as withTheme } from '@material-ui/core/styles/withTheme';\nexport { default as Button } from '@material-ui/core/Button';\nexport { default as ButtonGroup } from '@material-ui/core/ButtonGroup';\nexport { default as FormControl } from '@material-ui/core/FormControl';\nexport { default as Input } from '@material-ui/core/Input';\nexport { default as InputLabel } from '@material-ui/core/InputLabel';\nexport { default as TextField } from '@material-ui/core/TextField';\n\nexport { default as Slider } from '@material-ui/core/Slider';\nexport { default as Switch } from '@material-ui/core/Switch';\nexport { default as Typography } from '@material-ui/core/Typography';\n\nexport {\n  AppBar,\n  BottomNavigation,\n  Card,\n  Container,\n  Drawer,\n  FormControlLabel,\n  IconButton,\n  MenuItem,\n  Paper,\n  Popover,\n  Select,\n} from '@material-ui/core'\n","import React from 'react';\nimport { TextField } from './material';\n\n\nfunction checkNumber(s: string) {\n  if (s === '') {\n    return true\n  }\n  if (!isNaN(+s)) {\n    return true\n  }\n  return false\n}\n\ntype Props = {\n  [k: string]: any,\n  step?: number,\n  min?: number,\n  max?: number,\n  inputProps?: any,\n  value?: number | string,\n  onChange?: (evt: React.ChangeEvent<HTMLInputElement>) => void,\n}\n\nclass NumberInput extends React.Component<Props> {\n  state: {isEmpty: boolean}\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      isEmpty: false\n    }\n  }\n\n  onChange = (evt: React.ChangeEvent<HTMLInputElement>) => {\n    const s = evt.target.value;\n    if (s === '') {\n      this.setState({isEmpty: true})\n    } else {\n      this.setState({isEmpty: false})\n    }\n    if (this.props.onChange) {\n      if (!isNaN(+s)) {\n        this.props.onChange(evt)\n      }\n    }\n  }\n\n  render() {\n    const {step, min, max, inputProps, onChange, value, ...rest} = this.props;\n    return React.createElement(TextField, {\n      type: 'number',\n      value: value ? value : this.state.isEmpty ? '' : value,\n      inputProps: {step, min, max, ...inputProps},\n      onChange: this.onChange,\n      ...rest, \n    })\n  }\n}\n\n\nexport default NumberInput","import React from 'react';\nimport {Button, ButtonGroup } from './material';\nimport { withTheme } from './material';\n\nimport {\n  FormControl,\n  FormControlLabel,\n  OutlinedInput,\n  InputLabel,\n  Box,\n} from '@material-ui/core'\n\n\ntype Props = {\n  [k: string]: any\n  onUp?: () => void\n  onDown?: () => void\n  disableUp?: boolean\n  disableDown?: boolean\n  label?: string\n  theme?: any\n}\n\nconst DownUpButtons = ({onUp, onDown, label, disableUp, disableDown, theme, ...rest}: Props) => {\n  return (\n    <ButtonGroup>\n      <Button \n        onClick={onDown} \n        disabled={disableDown}\n      >\n        {label}-\n      </Button>\n      \n      <Button \n        onClick={onUp}\n        disabled={disableUp}\n      >\n        {label}+\n      </Button>\n    </ButtonGroup>\n  )\n}\n\nexport default withTheme(DownUpButtons)","export const SET_METHOD = 'ALGORITHM_SET_METHOD';\nexport const UPDATE = 'ALGORITHM_UPDATE';\n//export const UPDATE_PARAMS = 'ALGORITHM_UPDATE_PARAMS';\n\nexport type CartesianCoord = {x: number, y: number}\n\nexport type PolarCoord = {radius: number, angle: number}\n\nexport type Coordinate = CartesianCoord\n\nexport type MethodName = 'burningship' | 'julia' | 'julia-quadratic' | 'mandelbrot'\n\ninterface CommonParams {\n  [k: string]: any,\n  bound: number,\n  iterations: number\n}\n\nexport interface BurningShipParams extends CommonParams {\n  flip: boolean\n  power: number\n}\n\nexport interface MandelbrotParams extends CommonParams {\n  power: number\n}\n\nexport interface JuliaParams extends CommonParams {\n  f: string,\n}\n\nexport interface JuliaQuadraticParams extends CommonParams {\n  c: Coordinate,\n}\n\nexport type MethodParams = JuliaParams | JuliaQuadraticParams | CommonParams\n\nexport type State = {\n  [k: string]: any\n  method: MethodName,\n  'julia': JuliaParams,\n  'julia-quadratic': JuliaQuadraticParams,\n  'burningship': BurningShipParams,\n  'mandelbrot': MandelbrotParams,\n}\n\nexport type SetMethod = {\n  type: typeof SET_METHOD,\n  payload: MethodName,\n}\n\nexport type Update = {\n  type: typeof UPDATE,\n  payload:\n    {method: 'julia', params: Partial<JuliaParams>} |\n    {method: 'julia-quadratic', params: Partial<JuliaQuadraticParams>} |\n    {method: 'burningship', params: Partial<BurningShipParams>} |\n    {method: 'mandelbrot', params: Partial<MandelbrotParams>}\n}\n\nexport type Action = SetMethod | Update\n","import {\n  MethodName,\n  MethodParams,\n  SetMethod,\n  Update,\n  UPDATE,\n  SET_METHOD,\n} from './types';\n\n\nexport const setMethod = (method: MethodName): SetMethod => ({\n  type: SET_METHOD,\n  payload: method,\n})\n\nexport const update = (\n  method: MethodName,\n  params: Partial<MethodParams>,\n): Update => ({\n  type: UPDATE,\n  payload: {method, params}\n})","import React from 'react'\nimport katex from 'katex'\nimport 'katex/dist/katex.css';\n\n\ntype Props = {\n  math: string\n  displayMode: boolean\n}\n\nclass KaTeX extends React.Component<Props> {\n  ref: React.RefObject<HTMLSpanElement>\n\n  static defaultProps = {\n    displayMode: false\n  }\n\n  constructor(props: Props) {\n    super(props);\n    this.ref = React.createRef();\n  }\n\n  renderMath() {\n    if (this.ref.current) {\n      katex.render(this.props.math, this.ref.current, {\n        displayMode: this.props.displayMode\n      })\n    }\n  }\n\n  componentDidMount() {\n    this.renderMath()\n  }\n\n  componentDidUpdate() {\n    this.renderMath()\n  }\n\n\n  render() {\n    return <span ref={this.ref} style={{whiteSpace: 'nowrap'}}/>\n  }\n}\n\nexport default KaTeX","import React from 'react';\nimport { JuliaParams } from '../../store/algorithm/types';\nimport Katex from '../../components/katex';\nimport * as math from 'mathjs';\nimport {\n  Box,\n  NumberInput,\n  MenuItem,\n  TextField,\n} from '../../components';\n\n\nexport const FORMULAS: {[k: string]: {latex?: string, previewPixels?: number}} = {\n  'e^(z^3)-0.6': {\n    latex: 'e^{z^3}-0.6',\n    previewPixels: 160000,\n  },\n  'sqrt(sinh(z^2))+0.06+0.12i': {\n    latex: '\\\\sqrt{\\\\sinh(z^2)}+0.06+0.12i',\n    previewPixels: 90000,\n  },\n  '(1-z^3/6)/((z-z^2/2)^2)+c': {\n    latex: '\\\\frac{1-\\\\frac{z^3}{6}}{\\\\left(z-\\\\frac{z^2}{2}\\\\right)^2}+x+yi',\n    previewPixels: 90000,\n  },\n  '1-z^2+z^5/(2+4z)+c': {\n    latex: '1 - z^2 + \\\\frac{z^5}{2+4z}+x+yi',\n    previewPixels: 90000,\n  },\n  //'CUSTOM': {previewPixels: 6400},\n}\n\n\ninterface Props {\n  value: JuliaParams\n  onChange: (x: Partial<JuliaParams>, p?: {previewPixels?: number}) => void\n  onApply: () => void\n}\n\nfunction isComplexNumber(x: any): x is {re: number, im: number} {\n  if ('re' in x && typeof x.re === 'number') {\n    if ('im' in x && typeof x.im === 'number') {\n      return true;\n    }\n  }\n  return false;\n}\n\nclass Julia extends React.Component<Props> {\n  state: {\n    formula: string,\n    valid: boolean,\n    custom: string,\n  }\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      formula: props.value.f,\n      valid: false,\n      custom: '',\n    }\n  }\n\n  setBound(bound: number) { this.props.onChange({bound}) }\n  setIterations(iterations: number) { this.props.onChange({iterations}) }\n  setFormula(f: string) {\n    this.props.onChange({f}, {\n      previewPixels: (FORMULAS[f] || {previewPixels: 6400}).previewPixels,\n    })\n  }\n\n  changeBound = (evt: any) => this.setBound(evt.target.value)\n  changeIterations = (evt: any) => this.setIterations(evt.target.value)\n\n  selectFormula = (evt: any) => {\n    const f = evt.target.value;\n    if (f === 'CUSTOM') {\n      this.setState({formula: 'CUSTOM'})\n      if (this.state.valid) {\n        this.setFormula(this.state.custom);\n      }\n    } else {\n      this.setState({formula: f})\n      this.setFormula(f)\n    }\n  }\n\n  changeFormula = (evt: any) => {\n    const custom = evt.target.value;\n    let a;\n    try {\n      a = math.evaluate(custom, {z: math.complex(1,2), c: math.complex(-1,-0.5)});\n    } catch {\n      this.setState({custom, valid: false})\n    }\n    if (a !== undefined) {\n      if (isComplexNumber(a)) {\n        this.setState({custom, valid: true})\n        this.setFormula(custom);\n      } else {\n        this.setState({custom, valid: false})\n      }\n    }\n  }\n\n  customFormula() {\n    return (\n      <TextField\n        variant=\"filled\"\n        label={<Katex math=\"f_c(z)=\"/>}\n        value={this.state.custom}\n        onChange={this.changeFormula}\n        error={!this.state.valid}\n      />\n    )\n  }\n\n\n  render() {\n    console.log(this.state.valid)\n    return (\n      <>\n      <Box>\n        <NumberInput \n          label=\"Iterations\"\n          value={this.props.value.iterations} \n          onChange={this.changeIterations} \n          step={1}\n        />\n      </Box>\n\n      <Box>\n          <TextField select\n            label=\"Formula\"\n            onChange={this.selectFormula} \n            value={this.state.formula}\n          >\n            {Object.keys(FORMULAS).map(f => {\n              const fmla = FORMULAS[f].latex;\n              if (fmla) {\n                return (\n                  <MenuItem key={f} value={f}>\n                    <Katex math={'f_c(z)='+fmla.replace('x+yi', 'c')}/>\n                  </MenuItem>\n                )\n              } else {\n                return (\n                  <MenuItem key={f} value={f}>{f}</MenuItem>\n                )\n              }\n            })}\n            {//<MenuItem value=\"CUSTOM\">Custom</MenuItem>\n            }\n          </TextField>\n      </Box>\n      {this.state.formula === 'CUSTOM' ? (\n        <Box>{this.customFormula()}</Box>\n      ) : null}\n      </>\n    )\n  }\n\n}\n\nexport default Julia","import React from 'react';\nimport { JuliaQuadraticParams } from '../../store/algorithm/types';\nimport ComplexNumberInput from '../../components/ComplexNumberInput';\nimport { withTheme } from '@material-ui/core/styles';\nimport {\n  Box,\n  FormControl,\n  InputLabel,\n  NumberInput,\n} from '../../components';\n\n\ninterface Props {\n  value: JuliaQuadraticParams\n  theme: any\n  onChange: (x: Partial<JuliaQuadraticParams>) => void\n  onApply: () => void\n}\n\ntype Evt = React.ChangeEvent<HTMLInputElement>\n\nclass JuliaQuadratic extends React.Component<Props> {\n\n  setIterations(iterations: number) { this.props.onChange({iterations}) }\n  changeIterations = (evt: Evt) => this.setIterations(+evt.target.value)\n\n  setBound(bound: number) { this.props.onChange({bound}) }\n  changeBound = (evt: Evt) => this.setBound(+evt.target.value)\n\n  setPower(power: number) { this.props.onChange({power})} \n  changePower = (evt: Evt) => this.setPower(+evt.target.value)\n\n  setC(x: number, y: number) { this.props.onChange({c: {x, y}}) }\n  changeC = (x: number, y: number) => this.setC(x, y);\n\n  applyC = (x: number, y: number) => {\n    this.setC(x, y);\n    this.props.onApply()\n  }\n\n  render() {\n    return (\n      <>\n      <Box>\n        <NumberInput\n          label=\"Iterations\"\n          value={this.props.value.iterations} \n          onChange={this.changeIterations}\n          step={1}\n          min={1}\n        />\n      </Box>\n      <Box>\n        <NumberInput\n          label=\"Boundary\"\n          value={this.props.value.bound} \n          onChange={this.changeBound}\n          step={1}\n          min={1}\n        />\n      </Box>\n      <Box>\n        <NumberInput\n          label=\"Exponent\"\n          value={this.props.value.power} \n          onChange={this.changePower}\n          step={0.1}\n        />\n      </Box>\n      <Box style={{\n        borderWidth: '1px',\n        borderStyle: 'solid',\n        borderColor: this.props.theme.palette.text.secondary,\n        borderRadius: '5px',\n        padding: '5px',\n      }}>\n        <FormControl>\n          <InputLabel shrink>\n          c = \n          {Math.round(this.props.value.c.x * 1000)/1000}\n          {this.props.value.c.y < 0 ? '-' : '+'}\n          {Math.abs(Math.round(this.props.value.c.y * 1000)/1000)}i\n          </InputLabel>\n          <ComplexNumberInput\n            value={this.props.value.c}\n            onClick={this.changeC}\n            onDoubleClick={this.applyC}\n            size={200}\n            max={1.15}\n            precision={2}\n            markerColor={this.props.theme.palette.secondary.main}\n            gridColor={this.props.theme.palette.text.primary}\n            textColor={this.props.theme.palette.text.secondary}\n          />\n        </FormControl>\n      </Box>   \n      </>\n    )\n  }\n\n}\n\nexport default withTheme(JuliaQuadratic)","import React from 'react';\nimport { MandelbrotParams } from '../../store/algorithm/types';\nimport {\n  Box,\n  NumberInput,\n} from '../../components';\n\n\ninterface Props {\n  value: MandelbrotParams\n  onChange: (x: Partial<MandelbrotParams>) => void\n  onApply: () => void\n}\n\nclass Mandelbrot extends React.Component<Props> {\n\n  setPower(power: number) { this.props.onChange({power}) }\n  setIterations(iterations: number) { this.props.onChange({iterations}) }\n\n  changePower = (evt: any) => this.setPower(+evt.target.value)\n  changeIterations = (evt: any) => this.setIterations(+evt.target.value)\n\n  render() {\n    return (\n      <>\n      <Box>\n        <NumberInput\n          label=\"Iterations\" \n          value={this.props.value.iterations} \n          onChange={this.changeIterations} \n        />\n      </Box>\n      <Box>\n        <NumberInput \n          label=\"Exponent\"\n          value={this.props.value.power} \n          onChange={this.changePower} \n        />\n      </Box>\n      </>\n    )\n  }\n\n}\n\nexport default Mandelbrot","import React from 'react';\nimport { BurningShipParams as Params } from '../../store/algorithm/types';\nimport {\n  Box,\n  FormControlLabel,\n  NumberInput,\n  Switch,\n} from '../../components';\n\n\ninterface Props {\n  value: Params\n  onChange: (x: Partial<Params>) => void\n  onApply: () => void\n}\n\nclass BurningShip extends React.Component<Props> {\n\n  setIterations(iterations: number) { this.props.onChange({iterations}) }\n  changeIterations = (evt: React.ChangeEvent<HTMLInputElement>) => this.setIterations(+evt.target.value)\n  \n  setFlip(flip: boolean) { this.props.onChange({flip}) }\n  changeFlip = (evt: React.ChangeEvent<HTMLInputElement>) => this.setFlip(evt.target.checked)\n\n  setPower(power: number) { this.props.onChange({power}) }\n  changePower = (evt: any) => this.setPower(+evt.target.value)\n\n  render() {\n    return (\n      <>\n      <Box>\n        <NumberInput\n          label=\"Iterations\"\n          value={this.props.value.iterations} \n          onChange={this.changeIterations} \n          min={1}\n          step={1}\n        />\n      </Box>\n      <Box>\n        <NumberInput\n          label=\"Exponent\"\n          value={this.props.value.power} \n          onChange={this.changePower} \n          step={0.1}\n        />\n      </Box>\n      <Box>\n        <FormControlLabel label=\"Flip\"\n          control={\n            <Switch\n              checked={this.props.value.flip}\n              onChange={this.changeFlip}\n            />\n          }\n        />\n      </Box>\n      </>\n    )\n  }\n\n}\n\nexport default BurningShip","import React from 'react';\nimport { connect } from 'react-redux';\nimport { State as AppState } from '../../store/types';\nimport {\n  State,\n  MethodName,\n  MethodParams,\n  JuliaParams,\n  JuliaQuadraticParams,\n  BurningShipParams,\n  MandelbrotParams,\n} from '../../store/algorithm/types';\nimport { update as updateAlgorithm } from '../../store/algorithm/actions';\nimport { update as updateView, recenter as recenterView } from '../../store/view/actions';\nimport { setDrawing } from '../../store/draw/actions';\nimport JuliaSettings from './Julia';\nimport JuliaQuadraticSettings from './JuliaQuadratic';\nimport MandelbrotSettings from './Mandelbrot';\nimport BurningShipSettings from './BurningShip';\nimport {\n  Box,\n  Button,\n  ButtonGroup,\n  MenuItem,\n  TextField,\n} from '../../components/material';\n\ntype Props = {\n  value: State,\n  onClose: () => void,\n  onChange: (method: MethodName, params: MethodParams, x?: {recenter?: boolean, previewPixels?: number}) => void,\n}\n\ninterface MyState extends State {\n  previewPixels?: number\n}\n\nclass AlgorithmSettings extends React.Component<Props> {\n  state: MyState\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      ...props.value,\n    };\n  }\n\n  apply = () => {\n    const {method} = this.state;\n    const opts: {recenter: boolean, previewPixels?: number} = {\n      recenter: (method !== this.props.value.method) || (method === 'julia'),\n    };\n    if (this.state.previewPixels) {\n      opts.previewPixels = this.state.previewPixels;\n    } else {\n      opts.previewPixels = 160000\n    }\n    this.props.onChange(method, this.state[method], opts);\n  }\n\n  revert = () => {\n    const method = this.state.method;\n    this.setState({\n      [method]: {...this.props.value[method]},\n    });\n  }\n\n  changedParams() {\n    for (const m of ['julia', 'julia-quadratic', 'mandelbrot', 'burningship']) {\n      for (const k in this.state[m]) {\n        if (this.state[m][k] !== this.props.value[m][k]) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  changedMethod() {\n    return this.state.method !== this.props.value.method;\n  }\n\n  hasChanged() {\n    if (this.changedMethod()) return true;\n    if (this.changedParams()) return true;\n    return false;\n  }\n\n  selectMethod = (evt: any) => this.setState({\n    method: evt.target.value,\n  });\n\n  updateJulia = (x: Partial<JuliaParams>, p?: {previewPixels?: number}) => {\n    this.setState({\n      ...p,\n      julia: {...this.state.julia, ...x},\n    })\n  }\n\n  updateJuliaQuadratic = (x: Partial<JuliaQuadraticParams>) => {\n    this.setState({\n      'julia-quadratic': {...this.state['julia-quadratic'], ...x},\n    })\n  }\n\n  updateMandelbrot = (x: Partial<MandelbrotParams>) => {\n    this.setState({\n      mandelbrot: {...this.state.mandelbrot, ...x},\n    })\n  }\n\n  updateBurningShip = (x: Partial<BurningShipParams>) => {\n    this.setState({\n      burningship: {...this.state.burningship, ...x},\n    })\n  }\n\n  renderMethodSettings() {\n    if (this.state.method === 'julia') {\n      return (\n        <JuliaSettings\n          onApply={this.apply}\n          onChange={this.updateJulia}\n          value={this.state['julia']}\n        />\n      )\n    }\n    if (this.state.method === 'julia-quadratic') {\n      return (\n        <JuliaQuadraticSettings\n          onApply={this.apply}\n          onChange={this.updateJuliaQuadratic}\n          value={this.state['julia-quadratic']}\n        />\n      )\n    }\n    if (this.state.method === 'mandelbrot') {\n      return (\n        <MandelbrotSettings\n          onApply={this.apply}\n          onChange={this.updateMandelbrot}\n          value={this.state['mandelbrot']}\n        />\n      )\n    }\n    if (this.state.method === 'burningship') {\n      return (\n        <BurningShipSettings\n          onApply={this.apply}\n          onChange={this.updateBurningShip}\n          value={this.state['burningship']}\n        />\n      )\n    }\n  }\n\n  render() {\n    const disabled = !this.hasChanged();\n    return (\n      <>\n        <Box>\n          <TextField select\n            label=\"Method\"\n            value={this.state.method}\n            onChange={this.selectMethod}\n          >\n            <MenuItem value=\"burningship\">Burning Ship</MenuItem>\n            <MenuItem value=\"julia-quadratic\">Julia (1 term)</MenuItem>\n            <MenuItem value=\"mandelbrot\">Mandelbrot</MenuItem>\n            <MenuItem value=\"julia\">Other</MenuItem>\n          </TextField>\n        </Box>\n        {this.renderMethodSettings()}\n\n      <ButtonGroup fullWidth color=\"primary\" variant=\"text\">\n        <Button \n          onClick={this.apply} \n          disabled={disabled}\n        >Apply</Button>\n      </ButtonGroup>\n      </>\n    )\n  }\n}\n\nexport default connect(\n  (state: AppState) => ({\n    value: state.algorithm,\n  }),\n  (dispatch) => ({\n    onChange: (method: MethodName, params: MethodParams, opts?: {\n      recenter?: boolean,\n      previewPixels?: number,\n    }) => {\n      if (opts) {\n        if (opts.previewPixels) dispatch(updateView({previewPixels: opts.previewPixels}));\n        if (opts.recenter) dispatch(recenterView());\n      }\n      dispatch(updateAlgorithm(method, params));\n      dispatch(setDrawing(true));\n    },\n  })\n)(AlgorithmSettings)","import React from 'react';\nimport ColorPreview from '../../components/ColorPreview';\nimport {\n  Box,\n  Button,\n  TextField,\n  DownUpButtons,\n} from '../../components';\n\ntype Props = {\n  takenNames: string[],\n  onSave: (name: string, colors: string[]) => void;\n  onClose: () => void;\n}\n\ntype State = {\n  name: string,\n  num: number,\n  colors: string[],\n}\n\nclass CustomColor extends React.Component<Props> {\n  state: State\n\n  static defaultProps = {\n    takenNames: [],\n  }\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      name: '',\n      num: 2,\n      colors: ['#FF0055', '#0055FF'],\n    }\n  }\n\n  changeName = (evt: React.ChangeEvent<HTMLInputElement>) => {\n    const name = evt.target.value;\n    this.setState({name});\n  }\n\n  setNum(n: number) {\n    const num = Math.max(2, n)\n    let colors = [...this.state.colors];\n    if (num > colors.length) {\n      const x = colors[colors.length-1];\n      while (colors.length < num) {\n        colors.push(x);\n      }\n    } else {\n      colors = colors.slice(0,num);\n    }\n    this.setState({num, colors});\n  }\n\n  changeNum = (evt: React.ChangeEvent<HTMLInputElement>) => this.setNum(+evt.target.value)\n\n  changeColor = (i: number) => {\n    return (evt: React.ChangeEvent<HTMLInputElement>) => {\n      const colors = [...this.state.colors];\n      colors[i] = evt.target.value;\n      this.setState({colors});\n    }\n  }\n\n  addColor = () => this.setNum(this.state.num + 1);\n  removeColor = () => this.setNum(this.state.num - 1);\n\n  save = () => {\n    this.props.onSave(this.state.name, this.state.colors);\n    this.props.onClose();\n  }\n\n  validName = () => {\n    if (this.state.name === '') {\n      return false;\n    }\n    this.props.takenNames.forEach(k => {\n      if (k.toLowerCase() === this.state.name.toLowerCase()) {\n        return false;\n      }\n    })\n    return true;\n  }\n\n  renderColorInput(i: number) {\n    if (i < this.state.colors.length) {\n      return (\n        <input type=\"color\"\n          value={this.state.colors[i]}\n          onChange={this.changeColor(i)}\n        />\n      )\n    }\n    return null;\n  }\n\n  render() {\n    return (\n      <>\n        <Box>\n          <TextField\n            label=\"Name\"\n            variant=\"filled\"\n            value={this.state.name}\n            onChange={this.changeName}\n            inputProps={{type: 'text'}}\n          />\n        </Box>\n        <Box>\n          <ColorPreview\n            style={{width: '100%', height: '4mm'}}\n            scheme=\"CUSTOM\"\n            customSchemes={{CUSTOM: this.state.colors}}\n            reverse={false}\n            skew={0}\n            width={100}\n            height={10}\n          />\n        </Box>\n        <Button \n          fullWidth color=\"primary\"\n          disabled={!this.validName()}\n          onClick={this.save}\n        >Save</Button>\n        <Box>\n          <div style={{display: 'flex', 'flexDirection': 'column'}}>\n          {this.state.colors.map((color: string, i: number) => {\n            if (i < this.state.colors.length-1) {\n              return <Box>{this.renderColorInput(i)}</Box>;\n            } else {\n              return (\n              <Box>\n                {this.renderColorInput(i)}\n                <DownUpButtons\n                  onDown={this.removeColor}\n                  disableDown={this.state.colors.length < 3}\n                  onUp={this.addColor}\n                />\n              </Box>\n              )\n            }\n          })}\n          </div>\n        </Box>\n      </>\n    )\n  }\n}\n\nexport default CustomColor","import React from 'react';\nimport { connect } from 'react-redux';\nimport { State as AppState } from '../../store/types';\nimport * as ColorTypes from '../../store/color/types';\nimport { update as updateColor, addScheme } from '../../store/color/actions';\nimport { setRecolor } from '../../store/draw/actions';\nimport { ColorPreview } from '../../components';\nimport CustomColor from './CustomColor';\nimport {\n  Box,\n  Button,\n  ButtonGroup,\n  FormControl,\n  FormControlLabel,\n  InputLabel,\n  MenuItem,\n  Popover,\n  Slider,\n  Switch,\n  TextField,\n} from '../../components'\n\ntype Props = {\n  current: ColorTypes.State,\n  onClose: () => void,\n  updateColor: (update: Partial<ColorTypes.State>) => void;\n  addScheme: (k: string, colors: string[]) => void;\n}\n\nclass ColorSettings extends React.Component<Props> {\n  state: {\n    scheme: ColorTypes.SchemeName,\n    reverse: boolean,\n    skew: number,\n    customPopup: boolean,\n  }\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      scheme: props.current.scheme,\n      reverse: props.current.reverse,\n      skew: props.current.skew,\n      customPopup: false,\n    }\n  }\n\n  openCustomPopup = () => this.setState({customPopup: true})\n  closeCustomPopup = () => this.setState({customPopup: false})\n\n  setScheme(scheme: string) {\n    this.setState({scheme});\n  }\n\n  changeReverse = (evt: any) => this.setState({reverse: evt.target.checked});\n  changeSkew = (evt: any, skew: number | number[]) => this.setState({skew});\n\n  selectScheme = (evt: any) => {\n    const scheme = evt.target.value;\n    if (scheme === 'CUSTOM') {\n      this.openCustomPopup();\n    } else {\n      this.setScheme(scheme);\n    }\n  }\n\n  hasChanged = () => {\n    if (this.state.scheme !== this.props.current.scheme) return true;\n    if (this.state.reverse !== this.props.current.reverse) return true;\n    if (this.state.skew !== this.props.current.skew) return true;\n    return false;\n  }\n\n  saveScheme = (k: string, colors: string[]) => {\n    this.props.addScheme(k, colors);\n    this.setScheme(k);\n  }\n\n  apply = () => {\n    this.props.updateColor({\n      scheme: this.state.scheme,\n      reverse: this.state.reverse,\n      skew: this.state.skew,\n    });\n  }\n\n  render() {\n    return (\n      <>\n        <Box>\n          <TextField select\n            size=\"small\"\n            label=\"Scheme\"\n            value={this.state.scheme}\n            onChange={this.selectScheme}\n          >\n            <MenuItem value=\"CUSTOM\">CREATE NEW SCHEME</MenuItem>\n            {this.props.current.schemeList.map(k => (\n              <MenuItem key={k} value={k}>{k}</MenuItem>\n            ))}\n            {Object.keys(this.props.current.customSchemes).map(k => (\n              <MenuItem key={k} value={k}>{k}</MenuItem>\n            ))}\n          </TextField>\n          <FormControlLabel\n            label=\"Reversed\"\n            control={\n              <Switch checked={this.state.reverse}\n                onChange={this.changeReverse}\n                edge=\"end\"\n              />\n            }\n          />\n        </Box>\n\n        <Box>\n          <FormControl fullWidth>\n            <InputLabel shrink>Skew</InputLabel>\n            <Slider\n              color=\"secondary\"\n              value={this.state.skew}\n              onChange={this.changeSkew}\n              min={-5}\n              max={5}\n              step={0.1}\n            />\n          </FormControl>\n        </Box>\n\n        <Box>\n          <ColorPreview \n            style={{width: '100%', height: '4mm'}}\n            scheme={this.state.scheme}\n            customSchemes={this.props.current.customSchemes}\n            reverse={this.state.reverse}\n            skew={this.state.skew}\n            width={100}\n            height={10}\n          />\n        </Box>\n\n        <Box>\n          <ColorPreview \n            style={{width: '100%', height: '4mm'}}\n            scheme={this.props.current.scheme}\n            customSchemes={this.props.current.customSchemes}\n            reverse={this.props.current.reverse}\n            skew={this.props.current.skew}\n            width={100}\n            height={10}\n          />\n          <InputLabel>Current</InputLabel>\n        </Box>\n\n        <ButtonGroup fullWidth color=\"primary\" variant=\"text\">\n        <Button \n          onClick={this.apply}\n          disabled={!this.hasChanged()}\n        >Apply</Button>\n        </ButtonGroup>\n\n        <Popover\n          open={this.state.customPopup}\n          onClose={this.closeCustomPopup}\n        >\n          <Box>\n            <InputLabel>New Colorscheme</InputLabel>\n            <CustomColor\n              onSave={this.saveScheme}\n              onClose={this.closeCustomPopup}\n              takenNames={[\n                ...this.props.current.schemeList,\n                ...Object.keys(this.props.current.customSchemes)\n              ]}\n            />\n          </Box>\n        </Popover>\n      </>\n    )\n  }\n}\n\nexport default connect(\n  (state: AppState) => ({current: state.color}),\n  (dispatch) => ({\n    updateColor: (updates: Partial<ColorTypes.State>) => {\n      dispatch(updateColor(updates));\n      dispatch(setRecolor(true));\n    },\n    addScheme: (k: string, colors: string[]) => {\n      dispatch(addScheme(k, colors));\n    }\n  }),\n)(ColorSettings);","import {\n  UPDATE,\n  ADD_SCHEME,\n  State,\n  Update,\n  AddScheme,\n} from './types';\n\n\nexport const update = (color: Partial<State>): Update => ({\n  type: UPDATE,\n  payload: color,\n})\n\nexport const addScheme = (name: string, colors: string[]): AddScheme => ({\n  type: ADD_SCHEME,\n  payload: {name, colors}\n})\n","export const ADD_SCHEME = 'COLOR_ADD_SCHEME';\nexport const UPDATE = 'COLOR_UPDATE';\n\nexport type SchemeName = string\n\nexport type State = {\n  scheme: SchemeName,\n  reverse: boolean,\n  skew: number,\n  schemeList: string[],\n  customSchemes: {[k: string]: string[]}\n}\n\nexport type Update = {\n  type: typeof UPDATE,\n  payload: Partial<State>,\n}\n\nexport type AddScheme = {\n  type: typeof ADD_SCHEME,\n  payload: {\n    name: string,\n    colors: string[],\n  }\n}\n\nexport type Action = Update | AddScheme","import React from 'react';\nimport { connect } from 'react-redux';\nimport { State as AppState } from '../../store/types';\nimport { State as ViewState } from '../../store/view/types';\nimport * as ViewActions from '../../store/view/actions';\nimport { setDrawing } from '../../store/draw/actions';\nimport {\n  Box,\n  Button,\n  ButtonGroup,\n  InputLabel,\n  NumberInput,\n} from '../../components';\n\ntype Props = {\n  current: ViewState\n  onClose: () => void\n  updateView: (update: Partial<ViewState>) => void\n}\n\nclass ViewSettings extends React.Component<Props> {\n  state: {\n    current: ViewState,\n  }\n  centerStep: number\n\n  constructor(props: Props) {\n    super(props);\n    this.centerStep = 10 / this.props.current.ppu;\n    this.state = {\n      current: props.current,\n    }\n  }\n\n  hasChanged = () => {\n    for (const k of ['cx', 'cy', 'w', 'h', 'ppu']) {\n      if (this.props.current[k] !== this.state.current[k]) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  apply = () => {\n    let {cx, cy, w, h, ppu} = this.state.current;\n    ppu = ppu * h / this.props.current.h;\n    this.props.updateView({cx, cy, w, h, ppu});\n  }\n\n  revert = () => {\n    this.setState({...this.props.current});\n  }\n\n  setCurrent(x: Partial<ViewState>) {\n    this.setState({current: {...this.state.current, ...x}});\n  }\n\n  setCX = (evt: any) => this.setCurrent({cx: +evt.target.value});\n  setCY = (evt: any) => this.setCurrent({cy: +evt.target.value});\n  setW = (evt: any) => this.setCurrent({w: +evt.target.value});\n  setH = (evt: any) => this.setCurrent({h: +evt.target.value});\n  setPPU = (evt: any) => this.setCurrent({ppu: +evt.target.value});\n  setPreviewMode = (evt: any) => this.setCurrent({previewMode: evt.target.checked});\n\n  render() {\n    return (\n      <>\n        <Box>\n          <InputLabel>Full Resolution</InputLabel>\n          <div style={{\n            display: 'flex', \n            flexDirection: 'row', \n            justifyContent: 'space-between',\n            marginTop: '0.5em',\n          }}>\n            <NumberInput\n              fullWidth={false}\n              label=\"width\"\n              value={+this.state.current.w} \n              onChange={this.setW}\n              step={1}\n              min={1}\n              inputProps={{style: {width: '4em'}}}\n            />\n            <NumberInput\n              fullWidth={false}\n              label=\"height\" \n              value={+this.state.current.h} \n              onChange={this.setH} \n              step={1}\n              min={1}\n              inputProps={{style: {width: '4em'}}}\n            />\n          </div>\n        </Box>\n\n        <Box>\n          <NumberInput\n            label=\"center x-coordinate\"\n            value={+this.state.current.cx} \n            onChange={this.setCX} \n            step={this.centerStep}\n          />\n        </Box>\n\n        <Box>\n          <NumberInput\n            label=\"center y-coordinate\"\n            value={+this.state.current.cy} \n            onChange={this.setCY} \n            step={this.centerStep}\n          />\n        </Box>\n\n        <Box>\n          <NumberInput\n            label=\"Scale (pixels per unit)\"\n            value={+this.state.current.ppu} \n            onChange={this.setPPU} \n            step={10}\n            min={0}\n          />\n        </Box>\n\n      <ButtonGroup fullWidth color=\"primary\" variant=\"text\" style={{\n        marginTop: '1em'\n      }}>\n        <Button \n          onClick={this.apply} \n          disabled={!this.hasChanged()}\n        >Apply</Button>\n      </ButtonGroup>\n      </>\n    )\n  }\n  \n}\n\nexport default connect(\n  (state: AppState) => ({current: state.view}),\n  (dispatch) => ({\n    updateView: (update: Partial<ViewState>) => {\n      dispatch(ViewActions.update(update));\n      dispatch(setDrawing(true));\n    }\n  })\n)(ViewSettings)","import React from 'react';\nimport { connect } from 'react-redux';\nimport Katex from '../components/katex';\nimport {State as AppState} from '../store/types';\nimport {State as AlgState} from '../store/algorithm/types';\nimport { FORMULAS } from './settings/Julia';\nimport {\n  Typography,\n} from '../components';\n\n\ntype Props = {\n  cx: number,\n  cy: number,\n  rx: number,\n  ry: number,\n  algorithm: AlgState,\n}\n\nfunction withSign(n: number, p: number=4) {\n  if (n < 0) {\n    return n.toPrecision(p)\n  } else {\n    return '+' + n.toPrecision(p)\n  }\n}\n\nfunction fff(alg: AlgState) {\n  const {method} = alg;\n  const params = alg[method];\n  if (method === 'burningship') {\n    const exp = Math.round(params.power * 10000) / 10000\n    return {\n      f: `(|Re(z_n)| + i|Im(z_n)|)^{${exp}} + x + yi`,\n      z: '0',\n    }\n  }\n  if (method === 'mandelbrot') {\n    const exp = Math.round(params.power * 10000) / 10000\n    return {\n      f: `z_n^{${exp}} + x + yi`,\n      z: 'z_0 = 0',\n    }\n  }\n  if (method === 'julia-quadratic') {\n    const exp = Math.round(params.power * 10000) / 10000\n    const {x, y} = params.c;\n    return {\n      f: `z_n^{${exp}}${withSign(x)}${withSign(y)}i`,\n      z: 'x + yi',\n    }\n  }\n  if (method === 'julia') {\n    const f = FORMULAS[params.f];\n    if (f.latex) {\n      return {\n        f: f.latex.replace(/z/g, 'z_{n}'),\n        z: 'x + yi',\n      }\n    } else {\n      return {\n        f: params.f,\n        z: 'x + yi',\n        nolatex: true,\n      }\n    }\n  }\n}\n\n\nfunction rounder(p: number) {\n  const d = Math.pow(10, p);\n  return (n: number) => Math.round(n * d) / d;\n}\n\n\nfunction science(n: number, p: number=4) {\n  const a = n.toPrecision(4);\n  const b = a.split('e')\n  if (b.length === 1) {\n    return a;\n  } else {\n    return b[0] + '\\\\times 10^{' + b[1] + '}'\n  }\n}\n\nconst FractalInfo = (props: Props) => {\n\n  const {algorithm} = props;\n  const {method} = algorithm;\n  const params = algorithm[method];\n\n  const round = rounder(3-Math.floor(Math.log10(props.rx)))\n\n  const cx = round(props.cx)\n  const cy = round(method === 'burningship' && params.flip ? -props.cy : props.cy)\n\n  const rx = science(Math.abs(props.rx))\n  const ry = science(Math.abs(props.ry))\n\n  const center = (\n    '\\\\begin{aligned}'\n    + 'x_c &= ' + cx \n    + '\\\\\\\\' \n    + 'y_c &= ' + cy + \n    '\\\\end{aligned}'\n  );\n\n  const domain = (\n    '\\\\begin{aligned}' \n    + '|x - x_c| &< ' + rx \n    + '\\\\\\\\' \n    + '|y - y_c| &< ' + ry \n    + '\\\\end{aligned}'\n  );\n\n  const {f, z, nolatex=false} = fff(algorithm) as {f: string, z: string, nolatex?: boolean};\n\n  const fmla = (\n    '\\\\begin{aligned}'\n    + 'z_0 &= ' + z\n    + '\\\\\\\\' \n    + 'z_{n+1} &= ' + f \n    + '\\\\end{aligned}'\n  );\n\n  return (\n    <>\n      {nolatex ? (\n        <p>{f}</p>\n      ) : (\n        <Katex math={fmla} displayMode={true}/>\n      )}\n\n      <Typography>\n        The color of the pixel located at <Katex math=\"(x, y)\"/> corresponds \n        to <Katex math=\"k\"/>, where <Katex math=\"z_k\"/> is the first term of\n        the above sequence such that <Katex math={\"|z_k| \\\\geq \" + params.bound}/>.\n        If this does not occur in the first {params.iterations} terms of the sequence,\n        then <Katex math={\"k = \" + params.iterations}/>.\n      </Typography>\n      <Typography>\n        The currently displayed portion of this fractal is centered\n        at <Katex math=\"(x_c, y_c)\"/>, where\n      </Typography>\n      <Katex math={center} displayMode={true}/>\n      <Typography>\n        and plotted over <Katex math=\"(x, y)\"/> such that\n      </Typography>\n      <Katex math={domain} displayMode={true}/>\n    </>\n  )\n}\n\nexport default connect(\n  (state: AppState) => {\n    const {cx, cy, ppu, w, h} = state.view;\n    const rx = w/ppu/2, ry = h/ppu/2;\n    return {\n      cx: cx,\n      cy: cy,\n      rx: rx,\n      ry: ry,\n      algorithm: state.algorithm,\n    }\n  }\n)(FractalInfo)","import React from 'react';\nimport {\n  Box,\n  Drawer,\n  Button,\n  Popover,\n} from '../../components';\nimport AlgorithmSettings from './AlgorithmSettings';\nimport ColorSettings from './ColorSettings';\nimport ViewSettings from './ViewSettings';\nimport Info from '../Info';\nimport styles from '../App.module.css';\n\ntype WhichMenu = 'menu' | 'algorithm' | 'color' | 'view' | 'info' | null\n\nclass SettingsDrawer extends React.Component {\n  state: {\n    visible: WhichMenu\n    compact: boolean\n  }\n\n  constructor(props: React.PropsWithChildren<{}>) {\n    super(props);\n    this.state = {\n      visible: null,\n      compact: false,\n    }\n  }\n\n  setVisible(visible: WhichMenu) {\n    this.setState({visible})\n  }\n\n  openMenu = () => this.setVisible('menu');\n  openAlgorithm = () => this.setVisible('algorithm');\n  openColor = () => this.setVisible('color');\n  openView = () => this.setVisible('view');\n  openInfo = () => this.setVisible('info');\n  closeAll = () => this.setVisible(null);\n\n\n  render() {\n    return (\n      <>\n        <Button className={styles.OpenMenuButton} onClick={this.openMenu}>Settings</Button>\n        <Button className={styles.SettingsButton} onClick={this.openAlgorithm}>Algorithm</Button>\n        <Button className={styles.SettingsButton} onClick={this.openColor}>Colors</Button>\n        <Button className={styles.SettingsButton} onClick={this.openView}>View</Button>\n        <Button onClick={this.openInfo}>Info</Button>\n\n        <Drawer className={styles.SettingsDrawer}\n          open={this.state.visible === 'menu'} \n          onClose={this.closeAll}\n        >\n          <Button onClick={this.openAlgorithm}>Algorithm</Button>\n          <Button onClick={this.openColor}>Colors</Button>\n          <Button onClick={this.openView}>View</Button>\n        </Drawer>\n        <Drawer className={styles.SettingsDrawer}\n          open={this.state.visible === 'algorithm'}\n          onClose={this.closeAll}\n        >\n          <Box>\n            <AlgorithmSettings onClose={this.closeAll}/>\n          </Box>\n        </Drawer>\n        <Drawer className={styles.SettingsDrawer}\n          open={this.state.visible === 'color'}\n          onClose={this.closeAll}\n        >\n          <Box>\n            <ColorSettings onClose={this.closeAll}/>\n          </Box>\n        </Drawer>\n        <Drawer className={styles.SettingsDrawer}\n          open={this.state.visible === 'view'}\n          onClose={this.closeAll}\n        >\n          <Box>\n            <ViewSettings onClose={this.closeAll}/>\n          </Box>\n        </Drawer>\n        <Popover\n          open={this.state.visible === 'info'}\n          onClose={this.closeAll}\n        >\n          <Box p={1} onClick={this.closeAll}>\n            <Info />\n          </Box>\n        </Popover>\n      </>\n    )\n  }\n}\n\nexport default SettingsDrawer","import React from 'react';\nimport { connect } from 'react-redux';\nimport { zoomIn, zoomOut } from '../../store/view/actions';\nimport { setDrawing } from '../../store/draw/actions';\nimport { DownUpButtons } from '../../components';\n\ntype Props = {\n  factor: number\n  zoomIn: (n: number) => void\n  zoomOut: (n: number) => void\n}\n\nconst Zoom = ({factor, zoomIn, zoomOut}: Props) => {\n  const zin = () => zoomIn(factor);\n  const zout = () => zoomOut(factor);\n  return (\n    <DownUpButtons\n      label=\"zoom\"\n      onDown={zout}\n      onUp={zin}\n    />\n  )\n}\n\n\n\nexport default connect(\n  null,\n  (dispatch: any) => ({\n    zoomIn: (n: number) => {\n      dispatch(zoomIn(n));\n      dispatch(setDrawing(true));\n    },\n    zoomOut: (n: number) => {\n      dispatch(zoomOut(n));\n      dispatch(setDrawing(true));\n    }\n  })\n)(Zoom)","import React from 'react';\nimport { connect } from 'react-redux';\nimport { recenter as recenterView } from '../../store/view/actions';\nimport { setDrawing } from '../../store/draw/actions';\nimport { Button } from '../../components/material';\n\ntype Props = {\n  recenter: () => void\n}\n\nconst Recenter = ({recenter}: Props) => {\n  return (\n    <Button onClick={recenter}>Re-center</Button>\n  )\n}\n\n\nexport default connect(\n  null,\n  (dispatch: any) => ({\n    recenter: () => {\n      dispatch(recenterView());\n      dispatch(setDrawing(true));\n    }\n  })\n)(Recenter)","import React from 'react';\nimport { connect } from 'react-redux';\nimport { State as AppState } from '../../store/types';\nimport { update as updateAlgorithm } from '../../store/algorithm/actions';\nimport { setDrawing } from '../../store/draw/actions';\nimport { DownUpButtons } from '../../components';\n\n\n\ntype Props = {\n  iter: number,\n  setIter: (n: number) => void\n}\n\ntype State = {\n  iterStep: number\n}\n\nclass JuliaControls extends React.Component<Props> {\n  state: State\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      iterStep: 5,\n    }\n  }\n\n  incrementIter(n: number) {\n    const x = n + this.props.iter;\n    //const x = Math.round(Math.pow(this.props.iter, 1+n))\n    this.props.setIter(x);\n  }\n\n  iterUp = () => this.incrementIter(this.state.iterStep)\n  iterDown = () => this.incrementIter(-this.state.iterStep)\n\n  render() {\n    return (\n      <DownUpButtons\n        label=\"iter\"\n        onDown={this.iterDown}\n        onUp={this.iterUp}\n      />\n    )\n  }\n}\n\nexport default connect(\n  (state: AppState) => ({\n    iter: state.algorithm[\"julia\"].iterations,\n  }),\n  (dispatch: any) => ({\n    setIter: (n: number) => {\n      dispatch(updateAlgorithm('julia', {iterations: n}));\n      dispatch(setDrawing(true));\n    },\n  })\n)(JuliaControls)\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { State as AppState } from '../../store/types';\nimport { update as updateAlgorithm } from '../../store/algorithm/actions';\nimport { setDrawing } from '../../store/draw/actions';\nimport { Button, DownUpButtons } from '../../components';\nimport { randomC } from '../../fractal/juliaQuadratic';\n\n\ntype Props = {\n  x: number\n  y: number\n  iter: number,\n  power: number,\n  setC: (c: {x: number, y: number}) => void\n  setIter: (n: number) => void\n  setPower: (p: number) => void\n}\n\ntype State = {\n  angleStep: number\n  radiusStep: number\n  iterStep: number\n  powerStep: number\n}\n\nclass JuliaQuadraticControls extends React.Component<Props> {\n  state: State\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      angleStep: 0.05,\n      radiusStep: 0.02,\n      iterStep: 5,\n      powerStep: 0.05,\n    }\n  }\n\n  incrementAngle(n: number) {\n    const {x, y} = this.props;\n    const a0 = Math.atan2(y, x);\n    const r0 = Math.sqrt(x*x + y*y)\n    this.props.setC({\n      x: Math.round(r0 * Math.cos(a0 + n) * 100000)/100000,\n      y: Math.round(r0 * Math.sin(a0 + n) * 100000)/100000,\n    });\n  }\n\n  incrementRadius(n: number) {\n    const {x, y} = this.props;\n    const r0 = Math.sqrt(x*x + y*y)\n    const f = (n + r0) / r0;\n    this.props.setC({\n      x: Math.round(f * x * 100000)/100000,\n      y: Math.round(f * y * 100000)/100000,\n    })\n  }\n\n  incrementIter(n: number) {\n    this.props.setIter(Math.round(n + this.props.iter))\n  }\n\n  incrementPower(n: number) {\n    this.props.setPower(+(n + this.props.power).toFixed(6))\n  }\n\n  angleUp = () => this.incrementAngle(this.state.angleStep)\n  angleDown = () => this.incrementAngle(-this.state.angleStep)\n  radiusUp = () => this.incrementRadius(this.state.radiusStep)\n  radiusDown = () => this.incrementRadius(-this.state.radiusStep)\n  iterUp = () => this.incrementIter(this.state.iterStep)\n  iterDown = () => this.incrementIter(-this.state.iterStep)\n  powerUp = () => this.incrementPower(this.state.powerStep)\n  powerDown = () => this.incrementPower(-this.state.powerStep)\n\n  randomize = () => {\n    this.props.setC(randomC());\n  }\n\n  render() {\n    return (\n      <>\n        <Button onClick={this.randomize}>Random</Button>\n        <DownUpButtons\n          label=\"exp\"\n          onDown={this.powerDown}\n          onUp={this.powerUp}\n        />\n        <DownUpButtons\n          label=\"θ\"\n          onDown={this.angleDown}\n          onUp={this.angleUp}\n        />\n        <DownUpButtons\n          label=\"r\"\n          onDown={this.radiusDown}\n          onUp={this.radiusUp}\n        />\n        <DownUpButtons\n          label=\"iter\"\n          onDown={this.iterDown}\n          onUp={this.iterUp}\n        />\n      </>\n    )\n  }\n}\n\nexport default connect(\n  (state: AppState) => ({\n    x: state.algorithm[\"julia-quadratic\"].c.x,\n    y: state.algorithm[\"julia-quadratic\"].c.y,\n    iter: state.algorithm[\"julia-quadratic\"].iterations,\n    power: state.algorithm['julia-quadratic'].power,\n  }),\n  (dispatch: any) => ({\n    setC: (c: {x: number, y: number}) => {\n      dispatch(updateAlgorithm('julia-quadratic', {c}));\n      dispatch(setDrawing(true));\n    },\n    setIter: (n: number) => {\n      dispatch(updateAlgorithm('julia-quadratic', {iterations: n}));\n      dispatch(setDrawing(true));\n    },\n    setPower: (power: number) => {\n      dispatch(updateAlgorithm('julia-quadratic', {power}));\n      dispatch(setDrawing(true));\n    },\n  })\n)(JuliaQuadraticControls)\n\n\n\n\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { State as AppState } from '../../store/types';\nimport { update as updateAlgorithm } from '../../store/algorithm/actions';\nimport { setDrawing } from '../../store/draw/actions';\nimport { DownUpButtons } from '../../components';\n\n\ntype Props = {\n  iter: number,\n  power: number,\n  setPower: (n: number) => void\n  setIter: (n: number) => void\n}\n\ntype State = {\n  iterStep: number\n  powerStep: number\n}\n\nclass MandelbrotControls extends React.Component<Props> {\n  state: State\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      powerStep: 0.1,\n      iterStep: 5,\n    }\n  }\n\n  incrementIter(n: number) {\n    this.props.setIter(Math.round(Math.max(this.props.iter + n, 1)));\n  }\n  \n  incrementPower(n: number) {\n    this.props.setPower(Math.round(Math.max(this.props.power + n, 1)));\n  }\n\n  iterUp = () => this.incrementIter(this.state.iterStep)\n  iterDown = () => this.incrementIter(-this.state.iterStep)\n  powerUp = () => this.incrementPower(this.state.powerStep)\n  powerDown = () => this.incrementPower(-this.state.powerStep)\n\n  render() {\n    return (\n      <>\n        <DownUpButtons\n          label=\"exp\"\n          onDown={this.powerDown}\n          onUp={this.powerUp}\n        />\n        <DownUpButtons\n          label=\"iter\"\n          onDown={this.iterDown}\n          onUp={this.iterUp}\n        />\n      </>\n    )\n  }\n}\n\nexport default connect(\n  (state: AppState) => ({\n    iter: state.algorithm.mandelbrot.iterations,\n    power: state.algorithm.mandelbrot.power,\n  }),\n  (dispatch: any) => ({\n    setIter: (n: number) => {\n      dispatch(updateAlgorithm('mandelbrot', {iterations: n}));\n      dispatch(setDrawing(true));\n    },\n    setPower: (n: number) => {\n      dispatch(updateAlgorithm('mandelbrot', {power: n}));\n      dispatch(setDrawing(true));\n    },\n  })\n)(MandelbrotControls)\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { State as AppState } from '../../store/types';\nimport { update as updateAlgorithm } from '../../store/algorithm/actions';\nimport { setDrawing } from '../../store/draw/actions';\nimport { DownUpButtons } from '../../components';\n\n\ntype Props = {\n  iter: number,\n  power: number,\n  setIter: (n: number) => void\n  setPower: (n: number) => void\n}\n\ntype State = {\n  iterStep: number\n  powerStep: number\n}\n\nclass BurningShipControls extends React.Component<Props> {\n  state: State\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      powerStep: 0.05,\n      iterStep: 5,\n    }\n  }\n\n  incrementIter(n: number) {\n    this.props.setIter(Math.max(this.props.iter + n, 1));\n  }\n  incrementPower(n: number) {\n    this.props.setPower(Math.max(this.props.power + n, 1))\n  }\n\n  iterUp = () => this.incrementIter(this.state.iterStep)\n  iterDown = () => this.incrementIter(-this.state.iterStep)\n  powerUp = () => this.incrementPower(this.state.powerStep)\n  powerDown = () => this.incrementPower(-this.state.powerStep)\n\n  render() {\n    return (\n      <>\n        <DownUpButtons\n          label=\"exp\"\n          onDown={this.powerDown}\n          onUp={this.powerUp}\n        />\n        <DownUpButtons\n          label=\"iter\"\n          onDown={this.iterDown}\n          onUp={this.iterUp}\n        />\n      </>\n    )\n  }\n}\n\nexport default connect(\n  (state: AppState) => ({\n    iter: state.algorithm.burningship.iterations,\n    power: state.algorithm.burningship.power,\n  }),\n  (dispatch: any) => ({\n    setIter: (iterations: number) => {\n      dispatch(updateAlgorithm('burningship', {iterations}));\n      dispatch(setDrawing(true));\n    },\n    setPower: (power: number) => {\n      dispatch(updateAlgorithm('burningship', {power}));\n      dispatch(setDrawing(true));\n    },\n  })\n)(BurningShipControls)\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { State } from '../../store/types';\nimport Zoom from './Zoom';\nimport Recenter from './Recenter';\nimport Julia from './Julia';\nimport JuliaQuadratic from './JuliaQ';\nimport Mandelbrot from './Mandelbrot';\nimport BurningShip from './BurningShipControls';\n\nconst ControlBar = ({method}: {method: string}) => {\n  return (\n    <>\n      {\n        method === 'julia' ? <Julia /> :\n        method === 'julia-quadratic' ? <JuliaQuadratic /> :\n        method === 'mandelbrot' ? <Mandelbrot/> :\n        method === 'burningship' ? <BurningShip/> :\n        null\n      }\n      <Zoom factor={2} />\n      <Recenter />\n    </>\n  )\n}\n\nexport default connect(\n  (state: State) => ({ method: state.algorithm.method })\n)(ControlBar);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { State as AppState } from '../../store/types';\nimport { setDrawing } from '../../store/draw/actions';\nimport {\n  Button,\n} from '../../components/material';\n\ntype Props = {\n  fullResolution: boolean\n  drawing: boolean\n  setDrawing: (d: boolean, f?: boolean) => void\n}\n\nclass FullResolution extends React.Component<Props> {\n\n  draw = () => this.props.setDrawing(true);\n  drawFull = () => this.props.setDrawing(true, true);\n\n  render() {\n    if (this.props.fullResolution) {\n      return (\n        <Button \n          onClick={this.draw}\n          disabled={this.props.drawing}\n        >Exit Full Resolution</Button>\n      )\n    } else {\n      return (\n        <Button \n          onClick={this.drawFull}\n          disabled={this.props.drawing}\n        >Render Full Resolution</Button>\n      )\n    }\n  }\n}\n\nexport default connect(\n  (state: AppState) => ({\n    drawing: state.draw.drawing,\n    fullResolution: state.draw.fullResolution,\n  }),\n  (dispatch: any) => ({\n    setDrawing: (x: boolean, y?: boolean) => dispatch(setDrawing(x, y)),\n  })\n)(FullResolution);","import React from 'react';\nimport { connect } from 'react-redux'\nimport { FormControlLabel, Switch } from '../../components/material';\nimport { withTheme } from '@material-ui/core/styles'\nimport { State as AppState } from '../../store/types';\nimport { update as updateView } from '../../store/view/actions';\n\ntype Props = {\n  stretch: boolean,\n  theme?: any,\n  setStretch: (stretch: boolean) => void\n}\n\nconst Stretch = ({stretch, setStretch, theme}: Props) => {\n  const f = (evt: React.ChangeEvent<HTMLInputElement>) => setStretch(evt.target.checked);\n  return (\n    <FormControlLabel\n      label=\"Stretch\"\n      style={{color: theme.palette.text.primary}}\n      control={\n        <Switch\n          checked={stretch}\n          onChange={f}\n        />\n      }\n    />\n  )\n}\n\n\nexport default withTheme(connect(\n  (state: AppState) => ({stretch: state.view.stretch}),\n  (dispatch: any) => ({setStretch: (stretch: boolean) => dispatch(updateView({stretch}))})\n)(Stretch))","import React from 'react';\nimport SettingsDrawer from './settings/Settings';\nimport ControlBar from './controls/ControlBar';\nimport FullResolution from './controls/FullResolution';\nimport Stretch from './controls/Stretch';\nimport {\n  AppBar,\n  BottomNavigation,\n  Paper,\n} from '../components/material';\nimport { withTheme } from '@material-ui/core/styles';\n\ntype Props = {\n  theme?: any\n}\n\nclass Controls extends React.Component<Props> {\n\n  render() {\n    const barStyle: React.CSSProperties = {\n      display: 'flex', \n      flexFlow: 'row wrap',\n      justifyContent: 'space-evenly', \n      backgroundColor: this.props.theme.palette.background.default + 'cc'\n    }\n    return (\n      <>\n        <AppBar style={{...barStyle, top: 0}}>\n          <SettingsDrawer/>\n          <FullResolution />\n          <Stretch />\n        </AppBar>\n        {this.props.children}\n        <AppBar style={{\n          ...barStyle, \n          float: 'left',\n          position: 'absolute', \n          width: '100%',\n          bottom: 0, top: 'auto'}}>\n          <ControlBar />\n        </AppBar>\n      </>\n    )\n  }\n}\n\nexport default withTheme(Controls);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { State as AppState } from '../store/types';\nimport Canvas from './Canvas';\nimport UI from './UI';\nimport styles from './App.module.css';\n\ntype Props = {\n  fullResolution: boolean,\n  stretch: boolean\n}\n\ntype State = {\n}\n\nclass App extends React.Component<Props> {\n  \n  render() {\n    const classNames = [styles.CanvasContainer]\n    if (this.props.stretch) {\n      classNames.push(styles.Stretch)\n    }\n    if (this.props.fullResolution) {\n      classNames.push(styles.FullResolution)\n    }\n\n    return (\n      <>\n      <UI />\n      <div className={classNames.join(' ')}>\n        <Canvas />\n      </div>\n      </>\n    )\n  }\n}\n\nexport default connect(\n  (state: AppState) => ({\n    fullResolution: state.draw.fullResolution,\n    stretch: state.view.stretch,\n  })\n)(App);","import React from 'react';\nimport { Provider } from 'react-redux';\nimport Theme from './Theme';\nimport { Store } from 'redux';\nimport App from './App';\nimport { State as AppState, Action as AppAction } from '../store/types';\n\ntype Props = {\n  store: Store<Partial<AppState>, AppAction>\n}\n\nexport default class Root extends React.Component<Props> {\n  render() {\n    const { store } = this.props;\n    return (\n      <Provider store={store}>\n        <Theme>\n          <App/>\n        </Theme>\n      </Provider>\n    )\n  }\n}\n","import COLORSCHEMES from '../../fractal/color/schemes';\nimport {\n  State,\n  Action,\n  UPDATE,\n  ADD_SCHEME,\n} from './types';\n\nconst initialState: State = {\n  scheme: 'Rainbow',\n  reverse: false,\n  skew: 0,\n  schemeList: Object.keys(COLORSCHEMES),\n  customSchemes: {\n    //Hello: [\"#3db5ec\", \"#73c2b0\", \"#b9e375\", \"#f4bb44\", \"#eb591b\"],\n    'Ink': ['#000000', '#FFDD8C'],\n  },\n}\n\nexport default function(state: State=initialState, action: Action) {\n  switch(action.type) {\n    case UPDATE:\n      return {...state, ...action.payload}\n    case ADD_SCHEME:\n      return {\n        ...state,\n        customSchemes: {\n          ...state.customSchemes,\n          [action.payload.name]: action.payload.colors,\n        }\n      }\n    default:\n      return state;\n  }\n}","import {\n  State,\n  Action,\n  UPDATE,\n  RECENTER,\n  SET_CENTER,\n  SET_DIMS,\n  ZOOM_IN,\n  ZOOM_OUT,\n} from './types';\n\nconst initialState: State = {\n  //cx: -1.74, cy: 0.04, ppu: 17000, // burning ship\n  cx: 0, cy: 0, ppu: 512,\n  w: 2560,\n  h: 1600,\n  previewPixels: 160000,\n  //previewPixels: 40000,\n  stretch: false,\n}\n\nfunction recenter({w, h}: {w: number, h: number}) {\n  return {cx: 0, cy: 0, ppu: Math.round(Math.min(h,w)/3)}\n}\n\nexport default function(state: State=initialState, action: Action) {\n  switch(action.type) {\n    case UPDATE:\n      return {...state, ...action.payload}\n    case RECENTER:\n      return {...state, ...recenter(state)}\n    case SET_CENTER:\n      return {...state, cx: action.payload.cx, cy: action.payload.cy}\n    case SET_DIMS:\n      return {...state, w: action.payload.w, h: action.payload.h}\n    case ZOOM_IN:\n      return {...state, ppu: state.ppu * action.payload}\n    case ZOOM_OUT:\n      return {...state, ppu: Math.round(state.ppu / action.payload)}\n    default:\n      return state;\n  }\n}","import { randomC } from '../../fractal/juliaQuadratic'\nimport {\n  State,\n  Action,\n  UPDATE,\n  SET_METHOD,\n} from './types';\n\n\n\nconst initialState: State = {\n  method: 'julia-quadratic',\n  'julia-quadratic': {\n    bound: 10,\n    iterations: 30,\n    power: 2,\n    c: randomC(),\n  },\n  julia: {\n    f: 'e^(z^3)-0.6',\n    //f: 'A',\n    bound: 10,\n    iterations: 30,\n  },\n  mandelbrot: {\n    power: 2,\n    bound: 10,\n    iterations: 30,\n  },\n  burningship: {\n    power: 2,\n    bound: 10,\n    iterations: 30,\n    flip: true,\n  }\n}\n\nexport default function(state: State=initialState, action: Action) {\n  switch(action.type) {\n    case SET_METHOD:\n      return {...state, method: action.payload}\n    case UPDATE:\n      const {method, params} = action.payload;\n      const i = params.iterations;\n      if (i !== undefined) {\n        params.iterations = Math.max(2, i);\n      }\n      return {\n        ...state,\n        method: method,\n        [method]: {...state[method], ...params},\n      }\n    default:\n      return state;\n  }\n}","import {\n  State,\n  Action,\n  SET_DRAWING,\n  SET_RECOLOR,\n} from './types';\n\n\nconst initialState = {\n  drawing: false,\n  recolor: false,\n  fullResolution: false,\n}\n\nexport default function(state: State=initialState, action: Action) {\n  switch (action.type) {\n    case SET_DRAWING:\n      return {\n        ...state,\n        ...action.payload,\n        recolor: false,\n      }\n    case SET_RECOLOR:\n      return {...state, recolor: action.payload}\n    default:\n      return state;\n  }\n}","import { combineReducers } from 'redux';\nimport color from './color/reducer';\nimport view from './view/reducer';\nimport algorithm from './algorithm/reducer';\nimport draw from './draw/reducer';\n\nexport default combineReducers({\n  algorithm,\n  color,\n  draw,\n  view,\n});","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Root from './containers/Root';\nimport { createStore } from 'redux';\nimport { reducer } from './store';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\n\nconst store = createStore(reducer);\n\nReactDOM.render(<Root store={store} />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"OpenMenuButton\":\"App_OpenMenuButton__3h_um\",\"SettingsButton\":\"App_SettingsButton__278g4\",\"Canvas\":\"App_Canvas__BN60f\",\"Stretch\":\"App_Stretch__214vU\",\"CanvasContainer\":\"App_CanvasContainer__2vZE2\",\"FullResolution\":\"App_FullResolution__3Dl1T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ColorPreview\":\"components_ColorPreview__3FiVL\",\"ComplexNumberInput\":\"components_ComplexNumberInput__2FrXP\",\"Grid\":\"components_Grid__1bv_G\",\"Major\":\"components_Major__1S5gM\",\"Minor\":\"components_Minor__29Nil\",\"Marker\":\"components_Marker__34XU5\"};"],"sourceRoot":""}