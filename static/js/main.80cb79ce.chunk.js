(this["webpackJsonpfractal-explorer"]=this["webpackJsonpfractal-explorer"]||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var r=n(5),a=n(20);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sign,r=t.fixed,a=void 0===r?4:r;return!n||e<0?a?(+e.toFixed(a)).toString():e.toString():"+"+o(e,{fixed:a})}function c(e){var t=Object(a.a)(e,2),n=t[0],c=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(n,i)+o(c,Object(r.a)({},i,{sign:!0}))+"i"}},12:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"g",(function(){return o}));var r,a,o,c="UI_SET_MODAL",i="UI_SET_NAV",u="UI_SET_STRETCH",l="UI_UPDATE",s="UI_ADD_COLOR_SCHEME";!function(e){e[e.Params=0]="Params",e[e.Explore=1]="Explore",e[e.Capture=2]="Capture",e[e.Gallery=3]="Gallery"}(r||(r={})),function(e){e[e.None=0]="None",e[e.Menu=1]="Menu",e[e.Info=2]="Info",e[e.FullResolution=3]="FullResolution"}(a||(a={})),function(e){e[e.None=0]="None",e[e.Contain=1]="Contain",e[e.Cover=2]="Cover"}(o||(o={}))},155:function(e){e.exports=JSON.parse('{"a":"0.4.7"}')},191:function(e,t,n){e.exports=n(211)},202:function(e,t,n){},211:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"AddAPhoto",(function(){return z.a})),n.d(r,"Back",(function(){return I.a})),n.d(r,"Capture",(function(){return L.a})),n.d(r,"Code",(function(){return U.a})),n.d(r,"Copy",(function(){return B.a})),n.d(r,"Delete",(function(){return V.a})),n.d(r,"Explore",(function(){return W.a})),n.d(r,"FullResolution",(function(){return H.a})),n.d(r,"Functions",(function(){return Z.a})),n.d(r,"Gallery",(function(){return X.a})),n.d(r,"Help",(function(){return Q.a})),n.d(r,"Link",(function(){return te.a})),n.d(r,"Menu",(function(){return re.a})),n.d(r,"Minus",(function(){return oe.a})),n.d(r,"Palette",(function(){return ie.a})),n.d(r,"Plus",(function(){return le.a})),n.d(r,"Random",(function(){return me.a})),n.d(r,"Recenter",(function(){return fe.a})),n.d(r,"RotateLeft",(function(){return de.a})),n.d(r,"RotateRight",(function(){return ve.a})),n.d(r,"Save",(function(){return Oe.a})),n.d(r,"Settings",(function(){return ye.a})),n.d(r,"SwapHoriz",(function(){return ke.a})),n.d(r,"Tune",(function(){return Ce.a})),n.d(r,"Upload",(function(){return Me.a})),n.d(r,"View",(function(){return Re.a})),n.d(r,"ViewImage",(function(){return Ne.a})),n.d(r,"ZoomIn",(function(){return ze.a})),n.d(r,"ZoomOut",(function(){return Ie.a}));var a=n(0),o=n.n(a),c=n(25),i=n.n(c),u=n(13),l=n(11),s=n(15),m=n(16),p=n(17),f=n(18),h=n(5),d=n(256),b=n(160),v=n(258),g=n(98),O=n(97),j=n(260),y=n(261),w=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state=void 0,n.state={type:"detect"===n.props.type?"light":n.props.type},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"setDark",value:function(e){this.setState({type:e?"dark":"light"})}},{key:"componentDidMount",value:function(){var e=this;"detect"===this.props.type&&(this.setDark(window.matchMedia("(prefers-color-scheme:dark)").matches),window.matchMedia("(prefers-color-scheme:dark)").addListener((function(t){e.setDark(t.matches)})))}},{key:"render",value:function(){var e=Object(h.a)({},this.props.theme,{palette:Object(h.a)({},this.props.theme.palette,{},this.state,{},"dark"===this.state.type?this.props.darkPalette:this.props.lightPalette)});return o.a.createElement(d.a,{theme:Object(b.a)(e)},o.a.createElement(v.a,null),this.props.children)}}]),t}(o.a.Component);w.defaultProps={type:"detect",lightPalette:{primary:g.a,secondary:O.a},darkPalette:{primary:j.a,secondary:y.a},theme:{props:{MuiAppBar:{color:"inherit"},MuiBackdrop:{invisible:!0},MuiTextField:{variant:"outlined",size:"small",fullWidth:!0,margin:"normal"}}}};var k=w,x=n(2),C=n(12),E=n(8),M=n(270),P=n(271),R=n(272),S=n(290),N=n(6),A=n(121),z=n.n(A),D=n(124),I=n.n(D),_=n(125),L=n.n(_),T=n(126),U=n.n(T),F=n(127),B=n.n(F),J=n(128),V=n.n(J),G=n(129),W=n.n(G),q=n(130),H=n.n(q),Y=n(131),Z=n.n(Y),$=n(132),X=n.n($),K=n(133),Q=n.n(K),ee=n(134),te=n.n(ee),ne=n(135),re=n.n(ne),ae=n(136),oe=n.n(ae),ce=n(137),ie=n.n(ce),ue=n(138),le=n.n(ue),se=n(139),me=n.n(se),pe=n(140),fe=n.n(pe),he=n(141),de=n.n(he),be=n(142),ve=n.n(be),ge=n(143),Oe=n.n(ge),je=n(144),ye=n.n(je),we=n(145),ke=n.n(we),xe=n(146),Ce=n.n(xe),Ee=n(147),Me=n.n(Ee),Pe=n(148),Re=n.n(Pe),Se=n(149),Ne=n.n(Se),Ae=n(150),ze=n.n(Ae),De=n(151),Ie=n.n(De),_e=n(265),Le=n(287),Te=n(19),Ue=n(154),Fe=n.n(Ue),Be=(n(201),Object(S.a)({root:{whiteSpace:"nowrap"}})),Je=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).ref=void 0,n.ref=o.a.createRef(),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"renderMath",value:function(){this.ref.current&&Fe.a.render(this.props.math,this.ref.current,{displayMode:this.props.displayMode})}},{key:"componentDidMount",value:function(){this.renderMath()}},{key:"componentDidUpdate",value:function(){this.renderMath()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className;return o.a.createElement("span",{ref:this.ref,className:n?t.root+" "+n:t.root})}}]),t}(o.a.PureComponent),Ve=Object(N.a)(Be)(Je),Ge=n(75),We=function(e){return"string"===typeof e?e:o.a.createElement(Ve,e)},qe=function(e){var t=e.data,n=Object(x.a)(e,["data"]);return Array.isArray(t)?o.a.createElement.apply(o.a,[Ge.a,n].concat(Object(Te.a)(t.map(We)))):"string"===typeof t?o.a.createElement(Ge.a,n,t):o.a.createElement(Ge.a,n,o.a.createElement(Ve,t))},He=Object(N.a)((function(e){return{root:{width:"200px"}}}))(Le.a),Ye=Object(N.a)((function(e){return{root:{padding:"0.5em"}}}))(_e.a),Ze=Object(N.a)((function(e){return{root:{fontSize:"0.8em"}}}))(qe),$e=n(286),Xe=n(215),Ke=n(267),Qe=n(292),et=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state=void 0,n.changeName=function(e){var t=e.target.value;n.setState({name:t})},n.changeNum=function(e){return n.setNum(+e.target.value)},n.changeColor=function(e){return function(t){var r=Object(Te.a)(n.state.colors);r[e]=t.target.value,n.setState({colors:r})}},n.addColor=function(){return n.setNum(n.state.num+1)},n.removeColor=function(){return n.setNum(n.state.num-1)},n.save=function(){n.props.onSave(n.state.name,n.state.colors),n.props.onClose()},n.validName=function(){return""!==n.state.name&&(n.props.takenNames.forEach((function(e){if(e.toLowerCase()===n.state.name.toLowerCase())return!1})),!0)},n.state={name:"",num:2,colors:["#FF0055","#0055FF"]},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"setNum",value:function(e){var t=Math.max(2,e),n=Object(Te.a)(this.state.colors);if(t>n.length)for(var r=n[n.length-1];n.length<t;)n.push(r);else n=n.slice(0,t);this.setState({num:t,colors:n})}},{key:"renderColorInput",value:function(e){return e<this.state.colors.length?o.a.createElement(Ke.a,{item:!0,xs:1},o.a.createElement("input",{type:"color",value:this.state.colors[e],onChange:this.changeColor(e),style:{width:"40px",borderRadius:0,padding:0}})):null}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Qe.a,null,"New Colorscheme"),o.a.createElement($e.a,null,o.a.createElement(Le.a,{label:"Name",variant:"filled",value:this.state.name,onChange:this.changeName,inputProps:{type:"text"}})),o.a.createElement($e.a,{p:1},o.a.createElement(ht,{style:{width:"100%",height:"4mm"},scheme:this.state.colors,mirror:!1,reverse:!1,skew:0,width:100,height:10})),o.a.createElement($e.a,null,o.a.createElement(Ke.a,{container:!0},this.state.colors.map((function(t,n){return o.a.createElement($e.a,{m:.5},e.renderColorInput(n))}))),o.a.createElement($e.a,{m:1},o.a.createElement(at,{variant:"contained",style:{alignSelf:"center"},onDown:this.removeColor,disableDown:this.state.colors.length<3,onUp:this.addColor})),o.a.createElement($e.a,null,o.a.createElement(Xe.a,{fullWidth:!0,color:"primary",disabled:!this.validName(),onClick:this.save},"Save"))))}}]),t}(o.a.Component);et.defaultProps={takenNames:[]};var tt=et,nt=n(268),rt=n(269),at=Object(N.a)((function(e){var t=e.palette;return Object(S.a)({container:{position:"relative",marginTop:"5px",marginBottom:"5px"},label:{textAlign:"center",position:"absolute",bottom:"-5px",width:"100%",userSelect:"none",color:t.text.secondary},value:{textAlign:"center",position:"absolute",top:"-5px",width:"100%",userSelect:"none",color:t.text.secondary}})}))((function(e){var t=e.label,n=e.value,r=e.classes,a=e.onUp,c=e.onDown,i=e.fontSize,u=e.disableUp,l=e.disableDown,s=e.downIcon,m=void 0===s?oe.a:s,p=e.upIcon,f=void 0===p?le.a:p,h=Object(x.a)(e,["label","value","classes","onUp","onDown","fontSize","disableUp","disableDown","downIcon","upIcon"]);return o.a.createElement($e.a,{className:r.container},t?o.a.createElement(Ge.a,{variant:"caption",className:r.label},t):null,n?o.a.createElement(Ge.a,{variant:"caption",className:r.value},n):null,o.a.createElement(nt.a,h,o.a.createElement(rt.a,{onClick:c,disabled:l},o.a.createElement(m,{fontSize:i})),o.a.createElement(rt.a,{onClick:a,disabled:u},o.a.createElement(f,{fontSize:i}))))})),ot=n(10),ct=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).onClickDown=function(){n.setValue(n.incrementDown())},n.onClickUp=function(){n.setValue(n.incrementUp())},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"setValue",value:function(e){this.props.onChange(e)}},{key:"incrementDown",value:function(){var e=this.props.controlProps,t=e.min,n=e.step,r=this.props.value-n;return void 0!==t?Math.max(t,r):r}},{key:"incrementUp",value:function(){var e=this.props.controlProps,t=e.max,n=e.step,r=this.props.value+n;return void 0!==t?Math.min(t,r):r}},{key:"render",value:function(){var e=this.props,t=e.controlProps,n=(e.params,e.onChange,Object(x.a)(e,["controlProps","params","onChange"]));return o.a.createElement(at,Object.assign({},n,{value:ot.b(this.props.value),label:t.label,onDown:this.onClickDown,onUp:this.onClickUp}))}}]),t}(o.a.Component),it=n(4),ut=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).onAngleDown=function(){n.setValue(n.angleDown())},n.onAngleUp=function(){n.setValue(n.angleUp())},n.onRadiusDown=function(){n.setValue(n.radiusDown())},n.onRadiusUp=function(){n.setValue(n.radiusUp())},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"setValue",value:function(e){this.props.onChange(e)}},{key:"toPolar",value:function(){return Object(it.q)(Object(it.e)(this.props.value[0],this.props.value[1]))}},{key:"fromPolar",value:function(e){var t=Object(it.h)(e);return[t.re,t.im]}},{key:"radiusDown",value:function(){var e=this.props.controlProps.stepRadius,t=this.toPolar();return this.fromPolar(Object(h.a)({},t,{radius:t.radius-e}))}},{key:"radiusUp",value:function(){var e=this.props.controlProps.stepRadius,t=this.toPolar();return this.fromPolar(Object(h.a)({},t,{radius:t.radius+e}))}},{key:"angleDown",value:function(){var e=this.props.controlProps.stepAngle,t=this.toPolar();return this.fromPolar(Object(h.a)({},t,{angle:t.angle-e}))}},{key:"angleUp",value:function(){var e=this.props.controlProps.stepAngle,t=this.toPolar();return this.fromPolar(Object(h.a)({},t,{angle:t.angle+e}))}},{key:"render",value:function(){var e=this.props,t=e.controlProps,n=(e.onChange,Object(x.a)(e,["controlProps","onChange"])),a=this.toPolar();return o.a.createElement(o.a.Fragment,null,o.a.createElement(at,Object.assign({},n,{value:ot.b(a.angle),label:t.label+": angle",onDown:this.onAngleDown,onUp:this.onAngleUp,downIcon:r.RotateRight,upIcon:r.RotateLeft})),o.a.createElement(at,Object.assign({},n,{value:ot.b(a.radius),label:t.label+": radius",onDown:this.onRadiusDown,onUp:this.onRadiusUp})))}}]),t}(o.a.Component),lt=Object(S.a)((function(e){return{root:{height:"100%"}}})),st=Object(N.a)(lt)($e.a),mt=n(46),pt=Object(S.a)({root:{borderRadius:"8px",boxShadow:"2px 2px 4px rgba(0,0,0,0.5)"}}),ft=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).ref=void 0,n.ref=o.a.createRef(),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.docolors()}},{key:"componentDidUpdate",value:function(){this.docolors()}},{key:"docolors",value:function(){var e=this.ref.current;if(e){var t=e.getContext("2d");if(t){var n=this.props,r=n.scheme,a=n.mirror,o=n.reverse,c=n.skew,i=n.width,u=n.height;if("horizontal"===n.orientation)for(var l=Object(mt.c)({scheme:r,reverse:o,skew:c,mirror:a})([0,i]),s=i+1;s--;)t.fillStyle=l(s),t.fillRect(s,0,1,u);else for(var m=Object(mt.c)({scheme:r,mirror:a,reverse:o,skew:c})([u,0]),p=u+1;p--;)t.fillStyle=m(p),t.fillRect(0,p,i,1)}}}},{key:"render",value:function(){return o.a.createElement("canvas",{ref:this.ref,width:this.props.width,height:this.props.height,style:this.props.style,className:this.props.classes.root})}}]),t}(o.a.Component);ft.defaultProps={width:400,height:10,orientation:"horizontal"};var ht=Object(N.a)(pt)(ft),dt=Object(S.a)({root:{padding:"0px",userSelect:"none"},grid:{strokeLinecap:"square",fill:"none"},major:{strokeWidth:.5,strokeOpacity:1},minor:{strokeWidth:.5,strokeOpacity:.3},marker:{strokeWidth:0}}),bt=function(e){function t(e){var n;Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).ref=void 0,n.GRID=void 0,n.round=void 0,n.onClick=function(e){if(n.props.onClick){var t=n.getValueAtClick(e);t&&n.props.onClick(t)}},n.onDoubleClick=function(e){if(n.props.onDoubleClick){var t=n.getValueAtClick(e);t&&n.props.onDoubleClick(t)}},n.ref=o.a.createRef();var r=Math.pow(10,e.precision);n.round=function(e){return Math.round(e*r)/r};var a=n.props,c=a.max,i=a.stepRadius,l=a.stepRect,p=a.stepAngle,f=a.angles;return n.GRID=function(e){var t=e.max,n=e.stepX,r=e.stepY,a=e.stepRadius,o=e.stepAngle,c=e.angles,i=1.5*t;function u(e,t,n){return"M"+e+n+","+t+"A"+n+","+n+",0,1,0,"+e+","+t+n+"A"+n+","+n+",0,0,0,"+e+n+","+t}function l(e){return"M"+-t+","+e+"H"+t}function s(e){return"M"+e+","+-t+"V"+t}var m="",p=0;for(;p<=t;)m+=s(p)+s(-p),p+=n;p=0;for(;p<=t;)m+=l(p)+l(-p),p+=r;var f="";if(c)c.forEach((function(e){var t=e*Math.PI/180;f+="M0,0L"+i*Math.cos(t)+","+i*Math.sin(t)}));else for(p=0;p<360;){var h=p*Math.PI/180;f+="M0,0L"+i*Math.cos(h)+","+i*Math.sin(h),p+=o}p=a;for(;p<=i;)f+=u(0,0,p),p+=a;return{RECT:{MINOR:m,MAJOR:l(0)+s(0)},POLAR:{MINOR:f,MAJOR:u(0,0,1)}}}({max:c,stepRadius:i,stepAngle:p,angles:f,stepX:l,stepY:l}),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"getValueAtClick",value:function(e){var t=this.ref.current;if(t){var n=t.getBoundingClientRect(),r=n.x,a=n.y,o=e.nativeEvent,c=o.clientX,i=o.clientY,u=2*((c-r)/this.props.size-.5)*this.props.max,l=2*-((i-a)/this.props.size-.5)*this.props.max;return[this.round(u),this.round(l)]}}},{key:"polarGrid",value:function(){return this.GRID.POLAR?o.a.createElement(o.a.Fragment,null,this.GRID.POLAR.MINOR?o.a.createElement("path",{d:this.GRID.POLAR.MINOR,className:this.props.classes.minor,vectorEffect:"non-scaling-stroke"}):null,this.GRID.POLAR.MAJOR?o.a.createElement("path",{d:this.GRID.POLAR.MAJOR,className:this.props.classes.major,vectorEffect:"non-scaling-stroke"}):null):null}},{key:"rectGrid",value:function(){return this.GRID.RECT?o.a.createElement(o.a.Fragment,null,this.GRID.RECT.MINOR?o.a.createElement("path",{d:this.GRID.RECT.MINOR,className:this.props.classes.minor,vectorEffect:"non-scaling-stroke"}):null,this.GRID.RECT.MAJOR?o.a.createElement("path",{d:this.GRID.RECT.MAJOR,className:this.props.classes.major,vectorEffect:"non-scaling-stroke"}):null):null}},{key:"render",value:function(){var e=this.props.max/24,t=[-this.props.max,-this.props.max,2*this.props.max,2*this.props.max];return o.a.createElement("svg",{ref:this.ref,onClick:this.onClick,onDoubleClick:this.onDoubleClick,viewBox:t.join(" "),className:this.props.classes.root,style:Object(h.a)({},this.props.style,{width:this.props.size,height:this.props.size})},o.a.createElement("g",{className:this.props.classes.grid,style:{stroke:this.props.gridColor}},this.rectGrid(),this.polarGrid()),o.a.createElement("circle",{cx:this.props.value[0],cy:-this.props.value[1],r:e,className:this.props.classes.marker,style:{stroke:this.props.markerColor,fill:this.props.markerColor}}))}}]),t}(o.a.Component);bt.defaultProps={size:100,precision:3,stepAngle:30,stepRadius:.2,stepRect:.2,markerColor:"blue"};Object(N.a)(dt)(bt);var vt,gt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state=void 0,n.onChange=function(e){var t=e.target.value;""===t?n.setState({isEmpty:!0}):n.setState({isEmpty:!1}),n.props.onChange&&(isNaN(+t)||n.props.onChange(e))},n.onBlur=function(e){n.props.onBlur&&n.props.onBlur(e),n.setState({isEmpty:!1})},n.state={isEmpty:!1},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.step,n=e.min,r=e.max,a=e.inputProps,c=(e.onChange,e.onBlur,e.value),i=void 0===c?"":c,u=e.emptyValue,l=void 0===u?0:u,s=Object(x.a)(e,["step","min","max","inputProps","onChange","onBlur","value","emptyValue"]);return o.a.createElement(Le.a,Object(h.a)({type:"number",value:i?+i:this.state.isEmpty?"":l,inputProps:Object(h.a)({step:t,min:n,max:r},a),onChange:this.onChange,onBlur:this.onBlur},s))}}]),t}(o.a.Component),Ot=Object(S.a)((function(e){return{root:{position:"absolute",bottom:0,width:"100%",borderTop:"1px solid "+e.palette.divider}}})),jt=Object(N.a)(Ot)(M.a),yt=Object(f.b)((function(e){return{value:e.ui.nav,galleryBadge:e.ui.galleryBadge}}),(function(e){return{onChange:function(t,n){return e(Object(E.m)(n))}}}))((function(e){var t=e.galleryBadge,n=Object(x.a)(e,["galleryBadge"]);return o.a.createElement(jt,n,o.a.createElement(P.a,{value:C.c.Params,label:"Parameters",icon:o.a.createElement(r.Tune,null)}),o.a.createElement(P.a,{value:C.c.Explore,label:"Explore",icon:o.a.createElement(r.Explore,null)}),o.a.createElement(P.a,{value:C.c.Capture,label:"Capture",icon:o.a.createElement(r.Capture,null)}),o.a.createElement(P.a,{value:C.c.Gallery,label:"Saved",icon:o.a.createElement(R.a,{badgeContent:t,color:"primary"},o.a.createElement(r.Gallery,null))}))})),wt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state=void 0,n.selectMethod=function(e){var t=e.target.value,r=n.props.methodList[t];n.setState({methodName:t,method:r,params:r.newParams()})},n.apply=function(){var e=n.state,t=e.methodName,r=e.method,a=e.params;n.props.setAlgorithm(t,r,a),n.props.onClose&&n.props.onClose()},n.reset=function(){var e=n.props,t=e.methodName,r=e.params;n.setState({methodName:t,method:n.props.methodList[t],params:Object(h.a)({},r)})},n.state={methodName:e.methodName,method:e.methodList[e.methodName],params:Object(h.a)({},e.params)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(st,null,o.a.createElement($e.a,{m:1},o.a.createElement($e.a,{m:1},o.a.createElement(He,{select:!0,label:"Method",value:this.state.methodName,onChange:this.selectMethod},Object.keys(this.props.methodList).map((function(t){return o.a.createElement(Ye,{key:t,value:t},o.a.createElement(Ze,{data:e.props.methodList[t].label}))})))),o.a.createElement($e.a,{m:1},o.a.createElement(Ge.a,{style:{maxWidth:"200px"},variant:"body2"},"* Indicates method with improved rendering speed.")),o.a.createElement($e.a,{m:1},o.a.createElement(nt.a,{fullWidth:!0,color:"primary",orientation:"vertical"},o.a.createElement(Xe.a,{fullWidth:!0,onClick:this.apply},"Apply"),o.a.createElement(Xe.a,{fullWidth:!0,onClick:this.reset},"Reset")))))}}]),t}(o.a.Component),kt=Object(f.b)((function(e){return{methodName:e.fractal.algorithm.methodName,methodList:e.ui.methodList,params:e.fractal.algorithm.params}}),(function(e){return{setAlgorithm:function(t,n,r){e(Object(E.j)(t,n,r)),e(Object(E.f)()),e(Object(E.h)())}}}))(wt),xt=n(263),Ct=n(273),Et=n(291),Mt=n(294),Pt=n(293),Rt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state=void 0,n.openCustomPopup=function(){return n.setState({customPopup:!0})},n.closeCustomPopup=function(){return n.setState({customPopup:!1})},n.changeMirror=function(e){return n.setState({mirror:e.target.checked})},n.changeReverse=function(e){return n.setState({reverse:e.target.checked})},n.changeSkew=function(e,t){"number"===typeof t?n.setState({skew:t}):console.log(t)},n.checkCount=function(e){e.target.checked?n.setState({showCount:!1,count:"iter",mirror:!1}):n.setState({showCount:!0,count:n.state.countInput,mirror:!0})},n.changeCount=function(e){if(n.state.showCount){var t=+e.target.value;n.setState({count:t,countInput:t})}else n.setState({countInput:+e.target.value})},n.selectScheme=function(e){var t=e.target.value;"CUSTOM"===t?n.openCustomPopup():n.setScheme(t)},n.hasChanged=function(){return n.state.schemeName!==n.props.current.schemeName||n.state.mirror!==n.props.current.mirror||n.state.reverse!==n.props.current.reverse||n.state.skew!==n.props.current.skew||n.state.count!==n.props.current.count},n.saveScheme=function(e,t){n.props.addScheme(e,t),n.setScheme(e)},n.apply=function(){n.props.updateColor({schemeName:n.state.schemeName,scheme:n.props.schemeList[n.state.schemeName],mirror:n.state.mirror,reverse:n.state.reverse,skew:n.state.skew,count:"iter"===n.state.count?0:n.state.count}),n.props.onClose&&n.props.onClose()},n.revert=function(){n.setState({schemeName:n.props.current.schemeName,mirror:n.props.current.mirror,reverse:n.props.current.reverse,skew:n.props.current.skew,count:n.props.current.count})},n.state={schemeName:e.current.schemeName,mirror:e.current.mirror,reverse:e.current.reverse,skew:e.current.skew,count:e.current.count,showCount:"iter"!==e.current.count,countInput:"iter"===e.current.count?60:e.current.count,customPopup:!1},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"setScheme",value:function(e){this.setState({schemeName:e})}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(st,null,o.a.createElement($e.a,{m:1},o.a.createElement($e.a,{m:1},o.a.createElement(He,{select:!0,label:"Scheme",value:this.state.schemeName,onChange:this.selectScheme},o.a.createElement(Ye,{value:"CUSTOM"},o.a.createElement(Ze,{data:"CREATE NEW SCHEME"})),Object.keys(this.props.schemeList).sort().map((function(e){return o.a.createElement(Ye,{key:e,value:e},o.a.createElement(Ze,{data:e}))})))),o.a.createElement($e.a,{m:2},o.a.createElement(Ct.a,{label:"Reversed",control:o.a.createElement(Pt.a,{checked:this.state.reverse,onChange:this.changeReverse,edge:"end"})})),o.a.createElement($e.a,{m:2},o.a.createElement(Ct.a,{label:"Match Iterations",control:o.a.createElement(Pt.a,{checked:!this.state.showCount,onChange:this.checkCount,edge:"end"})})),o.a.createElement($e.a,{m:2,style:this.state.showCount?{}:{display:"none"}},o.a.createElement(Ct.a,{label:"Mirror",control:o.a.createElement(Pt.a,{checked:this.state.mirror,onChange:this.changeMirror,edge:"end"})})),o.a.createElement($e.a,{m:2,style:this.state.showCount?{}:{display:"none"}},o.a.createElement(gt,{label:"Count",value:this.state.countInput,onChange:this.changeCount,min:2,step:1,emptyValue:2})),o.a.createElement($e.a,{m:2},o.a.createElement(xt.a,{fullWidth:!0},o.a.createElement(Qe.a,{shrink:!0},"Skew"),o.a.createElement(Mt.a,{color:"secondary",value:this.state.skew,onChange:this.changeSkew,min:-5,max:5,step:.1}))),o.a.createElement($e.a,{m:1},o.a.createElement(ht,{style:{width:"100%",height:"4mm"},scheme:this.props.schemeList[this.state.schemeName],mirror:this.state.mirror,reverse:this.state.reverse,skew:this.state.skew,width:100,height:10})),o.a.createElement($e.a,{m:1},o.a.createElement(ht,{style:{width:"100%",height:"4mm"},scheme:this.props.schemeList[this.state.schemeName],mirror:this.props.current.mirror,reverse:this.props.current.reverse,skew:this.props.current.skew,width:100,height:10}),o.a.createElement(Qe.a,null,"Current")),o.a.createElement(nt.a,{fullWidth:!0,color:"primary",orientation:"vertical"},o.a.createElement(Xe.a,{onClick:this.apply,disabled:!this.hasChanged()},"Apply"),o.a.createElement(Xe.a,{onClick:this.revert,disabled:!this.hasChanged()},"Reset")))),o.a.createElement(Et.a,{open:this.state.customPopup,onClose:this.closeCustomPopup},o.a.createElement($e.a,{m:2},o.a.createElement(tt,{onSave:this.saveScheme,onClose:this.closeCustomPopup,takenNames:Object.keys(this.props.schemeList)}))))}}]),t}(o.a.Component),St=Object(f.b)((function(e){return{current:Object(h.a)({},e.fractal.color,{count:0===e.fractal.color.count?"iter":e.fractal.color.count}),schemeList:e.ui.colorSchemeList}}),(function(e){return{updateColor:function(t){e(Object(E.o)(t)),e(Object(E.g)())},addScheme:function(t,n){e(Object(E.a)(t,n))}}}))(Rt),Nt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state=void 0,n.centerStep=void 0,n.hasChanged=function(){return n.props.current.cx!==n.state.current.cx||(n.props.current.cy!==n.state.current.cy||(n.props.current.w!==n.state.current.w||(n.props.current.h!==n.state.current.h||(n.props.current.ppu!==n.state.current.ppu||n.props.current.pixelCount!==n.state.current.pixelCount))))},n.apply=function(){n.props.updateView(n.state.current),n.props.onClose&&n.props.onClose()},n.revert=function(){n.setState({current:Object(h.a)({},n.props.current)})},n.setCX=function(e){return n.setCurrent({cx:+e.target.value})},n.setCY=function(e){return n.setCurrent({cy:+e.target.value})},n.setW=function(e){return n.setCurrent({w:+e.target.value})},n.setH=function(e){return n.setCurrent({h:+e.target.value})},n.setPPU=function(e){return n.setCurrent({ppu:+e.target.value})},n.setPixelCount=function(e){return n.setCurrent({pixelCount:+e.target.value})},n.centerStep=10/n.props.current.ppu,n.state={current:Object(h.a)({},e.current)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"setCurrent",value:function(e){this.setState({current:Object(h.a)({},this.state.current,{},e)})}},{key:"render",value:function(){return o.a.createElement(st,null,o.a.createElement($e.a,{m:1},o.a.createElement($e.a,{m:1},o.a.createElement(Qe.a,null,"Relative Dimensions"),o.a.createElement(Ke.a,{container:!0,spacing:1},o.a.createElement(Ke.a,{item:!0,xs:6},o.a.createElement(gt,{fullWidth:!1,label:"Width",value:+this.state.current.w,onChange:this.setW,step:1,min:1,inputProps:{style:{maxWidth:"5em"}}})),o.a.createElement(Ke.a,{item:!0,xs:6},o.a.createElement(gt,{fullWidth:!1,label:"Height",value:+this.state.current.h,onChange:this.setH,step:1,min:1,inputProps:{style:{maxWidth:"5em"}}}))),o.a.createElement($e.a,null,o.a.createElement(gt,{label:"Pixel count",value:+this.state.current.pixelCount,onChange:this.setPixelCount,step:1e4,min:1e4})),o.a.createElement($e.a,null,o.a.createElement(gt,{label:"Center x-coordinate",value:+this.state.current.cx,onChange:this.setCX,step:this.centerStep})),o.a.createElement($e.a,null,o.a.createElement(gt,{label:"Center y-coordinate",value:+this.state.current.cy,onChange:this.setCY,step:this.centerStep})),o.a.createElement($e.a,null,o.a.createElement(gt,{label:"Scale (pixels per unit)",value:+this.state.current.ppu,onChange:this.setPPU,step:10,min:0})),o.a.createElement(nt.a,{fullWidth:!0,color:"primary",orientation:"vertical"},o.a.createElement(Xe.a,{onClick:this.apply,disabled:!this.hasChanged()},"Apply"),o.a.createElement(Xe.a,{onClick:this.revert,disabled:!this.hasChanged()},"Reset")))))}}]),t}(o.a.Component),At=Object(f.b)((function(e){return{current:e.fractal.view}}),(function(e){return{updateView:function(t){e(Object(E.q)(t)),e(Object(E.h)())}}}))(Nt),zt=n(264),Dt=n(214),It=n(277),_t=n(276),Lt=n(278),Tt=n(288),Ut=n(275),Ft=n(35),Bt=n(274),Jt=Object(N.a)({root:{maxWidth:"240px","& textarea, input":{fontFamily:"roboto mono, monospace"}}})(Le.a),Vt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state=void 0,n.onCopyJson=function(){navigator.clipboard.writeText(n.props.currentJson)},n.onCopyLink=function(){navigator.clipboard.writeText(n.props.currentURL)},n.onChangeJson=function(e){try{var t=Object(Ft.a)(JSON.parse(e.target.value));n.setState({jsonInput:e.target.value,parsedJson:t})}catch(o){try{var r=Object(Ft.d)(e.target.value.split("?").slice(-1)[0]);if(r){var a=Object(Ft.a)(r);n.setState({jsonInput:e.target.value,parsedJson:a})}else n.setState({jsonInput:e.target.value,parsedJson:void 0})}catch(c){n.setState({jsonInput:e.target.value,parsedJson:void 0})}}},n.onUploadJson=function(){n.state.parsedJson&&n.props.uploadData(n.state.parsedJson)},n.selectText=function(e){e.target.select()},n.state={jsonInput:"",parsedJson:void 0},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement($e.a,{m:2},o.a.createElement($e.a,null,o.a.createElement(Bt.a,{variant:"body1",href:this.props.currentURL},"Link to Current Fractal")),o.a.createElement($e.a,null,o.a.createElement(Jt,{label:"Current JSON",value:this.props.currentJson,InputProps:{onFocusCapture:this.selectText,readOnly:!0}})),o.a.createElement($e.a,null,o.a.createElement(Jt,{label:"Load from URL or JSON",onChange:this.onChangeJson,value:this.state.jsonInput,InputProps:{endAdornment:o.a.createElement(Ut.a,{position:"end"},o.a.createElement(rt.a,{onClick:this.onUploadJson,disabled:!this.state.parsedJson,title:"load data into viewer"},o.a.createElement(r.Upload,null)))}})))}}]),t}(o.a.Component),Gt=Object(f.b)((function(e){var t=Object(Ft.c)(e.fractal);return{currentJson:JSON.stringify(t),currentURL:Object(Ft.b)(t)}}),(function(e){return{uploadData:function(t){e(Object(E.r)(t)),e(Object(E.h)())}}}))(Vt),Wt=n(155),qt=Object(N.a)({root:{padding:"1em"}})(_e.a),Ht=Object(N.a)({root:{padding:0,margin:0}})(_t.a),Yt=Object(N.a)({paper:{display:"flex",flexDirection:"row",height:"100%",maxWidth:"90vw"}})(Tt.a);!function(e){e[e.None=0]="None",e[e.Algorithm=1]="Algorithm",e[e.Color=2]="Color",e[e.View=3]="View",e[e.JSON=4]="JSON"}(vt||(vt={}));var Zt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state=void 0,n.openMenu=function(){return n.props.setModal(C.b.Menu)},n.openAlgorithm=function(){return n.setState({menu:vt.Algorithm})},n.openColor=function(){return n.setState({menu:vt.Color})},n.openView=function(){return n.setState({menu:vt.View})},n.openJSON=function(){return n.setState({menu:vt.JSON})},n.closeAll=function(){n.setState({menu:vt.None}),n.closePopup(),n.props.setModal(C.b.None)},n.openPopup=function(){return n.setState({popup:!0})},n.closePopup=function(){return n.setState({popup:!1})},n.state={menu:vt.None,popup:!1},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.menu===vt.None?{}:{display:"none"},t=this.state.menu===vt.None?{}:{width:"4em"};return o.a.createElement(Yt,{open:this.props.open,onOpen:this.openMenu,onClose:this.closeAll},o.a.createElement(zt.a,{style:t},o.a.createElement(qt,{onClick:this.openAlgorithm},o.a.createElement(It.a,null,o.a.createElement(r.Functions,null)),o.a.createElement(Ht,{style:e},"Algorithm")),o.a.createElement(qt,{onClick:this.openColor},o.a.createElement(It.a,null,o.a.createElement(r.Palette,null)),o.a.createElement(Ht,{style:e},"Colors")),o.a.createElement(qt,{onClick:this.openView},o.a.createElement(It.a,null,o.a.createElement(r.View,null)),o.a.createElement(Ht,{style:e},"View")),o.a.createElement(qt,{onClick:this.openJSON},o.a.createElement(It.a,null,o.a.createElement(r.Code,null)),o.a.createElement(Ht,{style:e},"Serialize")),o.a.createElement(Lt.a,null),o.a.createElement(qt,{onClick:this.closeAll,style:{paddingTop:"2em",paddingBottom:"2em"}},o.a.createElement(It.a,null,o.a.createElement(r.Back,null)),o.a.createElement(Ht,{style:e},"Close")),o.a.createElement(Dt.a,{style:{position:"absolute",bottom:"0",left:"0",right:"0"}},o.a.createElement(Ge.a,{style:e,variant:"caption"},Wt.a))),o.a.createElement($e.a,null,this.state.menu===vt.Algorithm?o.a.createElement(kt,null):this.state.menu===vt.Color?o.a.createElement(St,null):this.state.menu===vt.View?o.a.createElement(At,null):this.state.menu===vt.JSON?o.a.createElement(Gt,null):null))}}]),t}(o.a.Component),$t=Object(f.b)((function(e){return{open:e.ui.modal===C.b.Menu}}),(function(e){return{setModal:function(t){return e(Object(E.l)(t))}}}))(Zt),Xt=n(20),Kt=n(30),Qt=n(58),en=n(84),tn=n.n(en),nn=n(50),rn=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).fullResolution=void 0,n.canvasRef=void 0,n.centerOnClick=function(e){if(n.props.setCenter&&n.canvas){var t=n.props.fractal.view,r=t.h,a=t.w,o=t.ppu,c=t.cx,i=t.cy,u=t.t,l=n.canvas.getBoundingClientRect(),s=l.width,m=l.height,p=e.nativeEvent,f=p.offsetX,h=p.offsetY;if(n.props.stretch===C.g.Contain){var d=s/a,b=m/r;if(b>d){var v=r*d;h-=(m-v)/2,m=v}else if(d>b){var g=a*b;f-=(s-g)/2,s=g}}var O=(Math.round(f/s*a)-a/2)/o,j=(Math.round(h/m*r)-r/2)/o;if(u){var y=Object(nn.b)(u);if(y){var w=Object(nn.a)(y,[O,j]),k=Object(Xt.a)(w,2);O=k[0],j=k[1]}}n.props.setCenter(c+O,i+j)}},n.fullResolution=!1,n.canvasRef=o.a.createRef(),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"draw",value:function(){var e,t=Object(Qt.b)(this.props.fractal);t&&(this.canvas.width=t.width,this.canvas.height=t.height,null===(e=this.canvas.getContext("2d"))||void 0===e||e.putImageData(t,0,0));this.props.finishDrawing()}},{key:"componentDidMount",value:function(){this.canvas&&this.draw()}},{key:"componentDidUpdate",value:function(){this.props.fractal.drawState===Kt.a.Draw?this.draw():this.props.fractal.drawState===Kt.a.Color&&this.draw()}},{key:"render",value:function(){var e,t=[tn.a.Outer],n=this.props.visible?{}:{display:"none"};switch(this.props.stretch){case C.g.Contain:e="contain",t.push(tn.a.Stretch);break;case C.g.Cover:e="cover",t.push(tn.a.Stretch)}return o.a.createElement($e.a,{m:0,className:t.join(" "),style:n},o.a.createElement("canvas",{id:"fractal-preview-canvas",className:tn.a.Canvas,ref:this.canvasRef,onDoubleClick:this.centerOnClick,style:{objectFit:e}}))}},{key:"canvas",get:function(){return this.canvasRef.current}}]),t}(o.a.Component),an=Object(f.b)((function(e){return{visible:e.ui.nav===C.c.Params||e.ui.nav===C.c.Explore,fractal:Object(h.a)({},e.fractal),stretch:e.ui.canvasStretch}}),(function(e){return{setCenter:function(t,n){e(Object(E.k)(t,n)),e(Object(E.h)())},finishDrawing:function(){return e(Object(E.e)())}}}))(rn),on=n(159),cn=n(213),un=n(279),ln=Object(N.a)((function(e){return{root:{bottom:"0",width:"100%",backgroundColor:e.palette.background.default+"99"}}}))(cn.a),sn=Object(N.a)({root:{display:"flex",flexFlow:"row wrap",alignItems:"center",justifyContent:"space-around",paddingBottom:"0.7em",paddingTop:"0.3em"}})(un.a);var mn,pn=function(e){return o.a.createElement(ln,{elevation:0,style:e.visible?{}:{display:"none"}},o.a.createElement(sn,null,e.children))},fn=n(49),hn=n(42),dn=n(280),bn=Object(N.a)({root:{position:"relative",display:"flex",height:"100%",width:"100%"}})($e.a),vn=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state=void 0,n.cropPixels=void 0,n.shouldRedraw=void 0,n.setW=function(e){var t=+e.target.value;n.setState({w:t,aspect:t/n.state.h})},n.setH=function(e){var t=+e.target.value;n.setState({h:t,aspect:n.state.w/t})},n.swapWH=function(){n.setState({w:n.state.h,h:n.state.w})},n.getImage=function(){var e=document.getElementById("fractal-preview-canvas");if(e){var t=e.toDataURL();n.setState({image:t})}},n.onCropChange=function(e){return n.setState({crop:e})},n.onCropComplete=function(e,t){n.cropPixels=t},n.onZoomChange=function(e){return n.setState({zoom:e})},n.capture=function(){var e="fract"+Math.floor((Date.now()-new Date(2020,0,25).getTime())/1e3).toString(16),t=n.determineView(),r=n.getData(t),a=Object(Qt.b)(Object(h.a)({},n.props.fractal,{view:t}));if(a){var o=document.createElement("canvas"),c=o.getContext("2d");o.width=a.width,o.height=a.height,c.putImageData(a,0,0),o.toBlob((function(t){if(t){var a=URL.createObjectURL(t);n.props.addToGallery(a,r,e)}}))}n.props.finishCapture()},n.onClick=function(){n.props.startCapture()},n.state=Object(h.a)({},hn.b,{crop:{x:0,y:0},zoom:1,image:null}),n.cropPixels={x:0,y:0,width:hn.b.w,height:hn.b.h},n.shouldRedraw=!1,n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.visible&&(!e.visible||this.shouldRedraw&&this.props.fractal.drawState===Kt.a.None?(this.getImage(),this.shouldRedraw=!1):this.props.fractal.drawState!==Kt.a.Draw&&this.props.fractal.drawState!==Kt.a.Color||(this.shouldRedraw=!0)),this.props.fractal.drawState===Kt.a.Capture&&setTimeout(this.capture,500)}},{key:"determineView",value:function(){var e=this.props.fractal.view,t=e.cx,n=e.cy,r=e.w,a=e.h,o=e.ppu,c=e.pixelCount,i=e.t,u=Object(fn.c)(r,a,c),l=r/o/2,s=a/o/2,m=Object(fn.b)([0,u*r],[t-l,t+l]),p=Object(fn.b)([0,u*a],[n-s,n+s]),f=this.cropPixels,h=f.x,d=f.y,b=f.width,v=f.height,g=[m(h),m(h+b)],O=[p(d),p(d+v)];return{cx:(g[0]+g[1])/2,cy:(O[0]+O[1])/2,xdom:g,ydom:O,w:this.state.w,h:this.state.h,t:i}}},{key:"getData",value:function(e){var t=Math.round(e.w/(e.xdom[1]-e.xdom[0]));return Object(Ft.c)(Object(h.a)({},this.props.fractal,{view:{cx:e.cx,cy:e.cy,w:e.w,h:e.h,ppu:t,t:e.t}}))}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(bn,{style:this.props.visible?{}:{display:"none"}},o.a.createElement(on.a,{image:this.state.image||"",crop:this.state.crop,zoom:this.state.zoom,aspect:this.state.w/this.state.h,onCropChange:this.onCropChange,onCropComplete:this.onCropComplete,onZoomChange:this.onZoomChange})),o.a.createElement(pn,{visible:this.props.visible},o.a.createElement($e.a,null,o.a.createElement(gt,{value:this.state.w,label:"width",onChange:this.setW,min:0,step:10,inputProps:{style:{maxWidth:"4em"}}})),o.a.createElement(rt.a,{onClick:this.swapWH,title:"swap width and height"},o.a.createElement(r.SwapHoriz,null)),o.a.createElement($e.a,null,o.a.createElement(gt,{value:this.state.h,label:"height",onChange:this.setH,min:0,step:10,inputProps:{style:{maxWidth:"4em"}}})),o.a.createElement(dn.a,{onClick:this.onClick,color:"primary",title:"render selected area"},o.a.createElement(r.AddAPhoto,null))))}}]),t}(o.a.Component),gn=Object(f.b)((function(e){return{visible:e.ui.nav===C.c.Capture,fractal:e.fractal}}),(function(e){return{addToGallery:function(t,n,r){return e(Object(E.b)(t,n,r))},startCapture:function(){e(Object(E.n)()),e(Object(E.c)())},finishCapture:function(){return e(Object(E.e)())}}}))(vn),On=Object(f.b)(null,(function(e){return{zoomIn:function(t){e(Object(E.t)(t)),e(Object(E.h)())},zoomOut:function(t){e(Object(E.u)(t)),e(Object(E.h)())}}}))((function(e){var t=e.factor,n=void 0===t?2:t,a=e.zoomIn,c=e.zoomOut,i=Object(x.a)(e,["factor","zoomIn","zoomOut"]);return o.a.createElement(at,Object.assign({},i,{onUp:function(){return a(n)},onDown:function(){return c(n)},downIcon:r.ZoomOut,upIcon:r.ZoomIn}))})),jn=Object(f.b)(null,(function(e){return{onRotate:function(t){e(Object(E.i)(t)),e(Object(E.h)())}}}))((function(e){var t=e.step,n=void 0===t?15:t,a=e.onRotate,c=Object(x.a)(e,["step","onRotate"]);return o.a.createElement(at,Object.assign({},c,{onUp:function(){return a(n)},onDown:function(){return a(-n)},downIcon:r.RotateRight,upIcon:r.RotateLeft}))})),yn=n(27),wn=n(29),kn=n(32),xn=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).paramUpdater=function(e){return function(t){n.props.onChange(Object(yn.a)({},e,t))}},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"renderNumberIncrementer",value:function(e){var t=e.param;return o.a.createElement(ct,{key:"number-"+t,controlProps:e,value:this.props.params[t],onChange:this.paramUpdater(t)})}},{key:"renderComplexIncrementer",value:function(e){var t=e.param;return o.a.createElement(ut,{key:"complex-"+t,controlProps:e,value:this.props.params[t],onChange:this.paramUpdater(t)})}},{key:"renderCall",value:function(e){var t=this,n=e.icon,a=e.label;return a&&"Random"===n?o.a.createElement(Xe.a,{key:"action-"+a,variant:"outlined",color:"inherit",size:"small",onClick:function(){return t.props.onChange(e.onCall())},startIcon:o.a.createElement(r.Random,null)},e.label):a||"Random"!==n?a?o.a.createElement(Xe.a,{key:"action-"+a,variant:"outlined",size:"small",onClick:function(){return t.props.onChange(e.onCall())}},e.label):void 0:o.a.createElement(rt.a,{key:"action-"+n,onClick:function(){return t.props.onChange(e.onCall())}},o.a.createElement(r.Random,null))}},{key:"renderControl",value:function(e){return e.type===wn.a.Number?this.renderNumberIncrementer(e):e.type===wn.a.Complex?this.renderComplexIncrementer(e):e.type===wn.a.Call?this.renderCall(e):null}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,this.props.controls.map((function(t){return e.renderControl(t)})))}}]),t}(o.a.Component),Cn=Object(f.b)((function(e){return{controls:Object(Te.a)(Object(kn.d)(e.fractal.algorithm).controls),params:Object(h.a)({},e.fractal.algorithm.params)}}),(function(e){return{onChange:function(t){e(Object(E.p)(t)),e(Object(E.h)())}}}))(xn),En=Object(f.b)((function(e){return{value:e.fractal.algorithm.params.iter,controlProps:{type:wn.a.Number,param:"iter",label:"iterations",step:2,min:0}}}),(function(e){return{onChange:function(t){e(Object(E.p)({iter:t})),e(Object(E.h)())}}}))(ct),Mn=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(pn,{visible:this.props.nav===C.c.Params},o.a.createElement(Cn,null)),o.a.createElement(pn,{visible:this.props.nav===C.c.Explore},o.a.createElement(En,null),o.a.createElement(On,{factor:2}),o.a.createElement(jn,null)))}}]),t}(o.a.Component),Pn=Object(f.b)((function(e){return{nav:e.ui.nav}}))(Mn),Rn=n(281),Sn=n(282),Nn=n(283),An=Object(N.a)({root:{padding:"3px",paddingTop:"20px"}})(Rn.a),zn=Object(N.a)({root:{maxWidth:"200px",maxHeight:"200px",margin:"1mm"},tile:{width:"200px",height:"200px"}})(Sn.a),Dn=Object(N.a)({root:{color:"rgba(255,255,255,0.5)","& :hover":{color:"rgba(255,255,255,1)"}}})(rt.a);function In(e){var t=e.title;return o.a.createElement(zn,{key:t,cols:1},o.a.createElement("img",{src:e.url,alt:t,style:{objectFit:"cover"}}),o.a.createElement(Nn.a,{title:t,actionIcon:o.a.createElement(o.a.Fragment,null,o.a.createElement(Dn,{onClick:e.onView},o.a.createElement(r.ViewImage,null)))}))}!function(e){e[e.None=0]="None",e[e.Delete=1]="Delete",e[e.JSON=2]="JSON",e[e.Link=3]="Link"}(mn||(mn={}));var _n=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state=void 0,n.close=function(){n.setState({current:null,popup:mn.None})},n.closePopup=function(){n.setState({popup:mn.None})},n.openDelete=function(){n.setState({popup:mn.Delete})},n.onDelete=function(){n.state.current&&(n.props.deleteImage(n.state.current.url),n.close())},n.onDownload=function(){if(n.state.current){var e=document.createElement("a");e.download=n.state.current.title+".png",e.href=n.state.current.url,e.click()}},n.onLoad=function(){n.state.current&&(n.props.loadJson(n.state.current.data),n.close())},n.viewer=function(e){return function(){n.setState({current:e})}},n.state={current:null,popup:mn.None},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"linkUrl",value:function(){if(this.state.current)return Object(Ft.b)(this.state.current.data)}},{key:"render",value:function(){var e,t=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(An,{cellHeight:180,style:this.props.visible?{}:{display:"none"}},this.props.images.map((function(e,n){return o.a.createElement(In,Object(h.a)({},e,{key:e.url,onView:t.viewer(e)}))}))),o.a.createElement(Et.a,{open:null!==this.state.current,onClose:this.close},o.a.createElement($e.a,{style:{position:"relative"}},o.a.createElement(un.a,null,o.a.createElement(rt.a,{onClick:this.close,title:"close",edge:"start"},o.a.createElement(r.Back,null)),o.a.createElement(rt.a,{onClick:this.openDelete,title:"delete image"},o.a.createElement(r.Delete,null)),o.a.createElement(rt.a,{onClick:this.onLoad,title:"load in fractal viewer"},o.a.createElement(r.Upload,null)),o.a.createElement(rt.a,{onClick:this.onDownload,title:"download image"},o.a.createElement(r.Save,null)),o.a.createElement(Bt.a,{href:this.linkUrl(),variant:"subtitle1",style:{marginLeft:"1em"}},"Direct Link")),o.a.createElement("img",{alt:"fractal",src:(null===(e=this.state.current)||void 0===e?void 0:e.url)||"",style:{objectFit:"contain",maxWidth:"100%",maxHeight:"100%"}})),o.a.createElement(Et.a,{open:this.state.popup===mn.Delete,onClose:this.close},o.a.createElement($e.a,{m:2},o.a.createElement(Ge.a,null,"Delete this image?"),o.a.createElement(nt.a,{color:"primary",variant:"outlined"},o.a.createElement(Xe.a,{onClick:this.onDelete},"Yes"),o.a.createElement(Xe.a,{onClick:this.closePopup},"No"))))))}}]),t}(o.a.Component),Ln=Object(f.b)((function(e){return{visible:e.ui.nav===C.c.Gallery,images:e.gallery}}),(function(e){return{deleteImage:function(t){t&&e(Object(E.d)(t))},loadJson:function(t){e(Object(E.s)(t)),e(Object(E.h)()),e(Object(E.m)(C.c.Explore))}}}))(_n),Tn=n(153),Un=Object(Tn.a)({root:{position:"absolute",overflow:"clip",display:"flex",flexDirection:"column",flexGrow:1,top:"50px",bottom:"55px",width:"100%"}});function Fn(){var e=Un();return o.a.createElement($e.a,{className:e.root},o.a.createElement(an,null),o.a.createElement(gn,null),o.a.createElement(Ln,null),o.a.createElement(Pn,null))}var Bn=n(284),Jn=Object(N.a)({label:{textTransform:"none"}})(Xe.a),Vn=Object(f.b)((function(e){var t=Object(kn.d)(e.fractal.algorithm).label;return{disabled:e.ui.modal===C.b.Info,formula:t}}),(function(e){return{onClick:function(){return e(Object(E.l)(C.b.Info))}}}))((function(e){var t=e.formula,n=Object(x.a)(e,["formula"]);return o.a.createElement(Jn,n,o.a.createElement(qe,{data:t}))})),Gn=Object(f.b)(null,(function(e){return{onClick:function(){e(Object(E.f)()),e(Object(E.h)())}}}))((function(e){return o.a.createElement(rt.a,Object.assign({},e,{title:"recenter image at origin"}),o.a.createElement(r.Recenter,null))})),Wn=Object(Tn.a)({toolbar:{justifyContent:"flex-start"},gallery:{flexGrow:1,textAlign:"center"},formula:{},recenter:{},Params:{"& $gallery":{display:"none"}},Explore:{"& $gallery":{display:"none"}},Capture:{"& $gallery":{display:"none"},"& $recenter":{display:"none"}},Gallery:{"& $formula":{display:"none"},"& $recenter":{display:"none"}}});var qn=Object(f.b)((function(e){return{nav:e.ui.nav,disableMenu:e.ui.modal===C.b.Menu}}),(function(e){return{openMenu:function(){return e(Object(E.l)(C.b.Menu))}}}))((function(e){var t=Wn(),n=e.nav===C.c.Params?"Params":e.nav===C.c.Explore?"Explore":e.nav===C.c.Capture?"Capture":"Gallery";return o.a.createElement(Bn.a,{position:"static",elevation:0},o.a.createElement(un.a,{className:t.toolbar+" "+t[n]},o.a.createElement(rt.a,{onClick:e.openMenu,edge:"start"},o.a.createElement(r.Menu,null)),o.a.createElement(Vn,{className:t.formula,title:"algorithm information",style:{marginLeft:"auto",marginRight:"auto"}}),o.a.createElement(Ge.a,{className:t.gallery},"Saved Fractals"),o.a.createElement(Gn,{className:t.recenter})))})),Hn=Object(S.a)((function(e){return{text:{fontSize:"1em"}}}));function Yn(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=e.toPrecision(4),n=t.split("e");return 1===n.length?t:n[0]+"\\times 10^{"+n[1]+"}"}var Zn=Object(f.b)((function(e){var t=e.fractal.view,n=t.cx,r=t.cy,a=t.ppu,o=t.w/a/2,c=t.h/a/2;return{visible:e.ui.modal===C.b.Info,cx:n,cy:r,rx:o,ry:c,algorithm:e.fractal.algorithm}}),(function(e){return{onClose:function(){return e(Object(E.l)(C.b.None))}}}))(Object(N.a)(Hn)((function(e){var t=e.algorithm,n=Object(kn.d)(t).describe,r=function(e){var t=Math.pow(10,e);return function(e){return Math.round(e*t)/t}}(3-Math.floor(Math.log10(e.rx))),a="x_c = "+r(e.cx),c="y_c = "+r(e.cy),i="|x - x_c| \\leq "+Yn(Math.abs(e.rx)),u="|y - y_c| \\leq "+Yn(Math.abs(e.ry)),l=e.classes;return o.a.createElement(Et.a,{open:e.visible,onClose:e.onClose,marginThreshold:10},o.a.createElement(cn.a,null,o.a.createElement($e.a,{p:2,onClick:e.onClose},o.a.createElement(qe,{data:n,className:l.text}),o.a.createElement(Ge.a,{style:{marginTop:"1em"},className:l.text},"The currently displayed portion of this fractal is centered at ",o.a.createElement(Ve,{math:"(x_c, y_c)"}),", where"),o.a.createElement(Ve,{math:a+"\\text{ and }"+c,displayMode:!0,className:l.text}),o.a.createElement(Ge.a,{className:l.text},"and plotted over ",o.a.createElement(Ve,{math:"(x, y)"})," such that"),o.a.createElement(Ve,{math:i+"\\text{ and }"+u,displayMode:!0,className:l.text}))))}))),$n=n(285),Xn=n(289),Kn=Object(Tn.a)({root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},typography:{color:"white"},progress:{outline:"none"}});var Qn=Object(f.b)((function(e){return{open:e.ui.waiting}}))((function(e){var t=e.open,n=Kn();return o.a.createElement(Xn.a,{open:t,className:n.root},o.a.createElement(o.a.Fragment,null,o.a.createElement($n.a,{className:n.progress}),o.a.createElement(Ge.a,{className:n.typography},"Rendering Image")))})),er=Object(Tn.a)((function(e){return{root:{height:"100%",flexDirection:"column",top:0,bottom:0,left:0,right:0,position:"absolute",overflow:"hidden",justifyContent:"space-between"}}}));function tr(){var e=er();return o.a.createElement("div",{className:e.root},o.a.createElement(Qn,null),o.a.createElement(Fn,null),o.a.createElement(qn,null),o.a.createElement($t,null),o.a.createElement(Zn,null),o.a.createElement(yt,null))}var nr=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.store;return o.a.createElement(f.a,{store:e},o.a.createElement(k,null,o.a.createElement(tr,null)))}}]),t}(o.a.Component),rr=n(60),ar=n(34),or=(n(202),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function cr(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(212),rr.a.dispatch(Object(ar.n)(window.location.search)),i.a.render(o.a.createElement(nr,{store:rr.a}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/fractal-explorer",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/fractal-explorer","/service-worker.js");or?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):cr(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):cr(t,e)}))}}()},212:function(e,t,n){"use strict";n.r(t);var r=n(20),a=n(13),o=n(11),c=n(15),i=n(16),u=n(17),l=n(60),s=n(8),m=n(32),p=n(5),f=n(50),h=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,[{key:"transform",value:function(e){var t=this.getView().t;this.updateView({t:Object(f.c)(t,e)})}},{key:"getParam",value:function(e){return this.getParams()[e]}},{key:"setColorScheme",value:function(e,t){var n=m.b[e];n?this.updateColor(Object(p.a)({scheme:n,schemeName:e},t)):console.error("unknown schemeName:",e)}},{key:"fixPolarParams",value:function(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];return a.angle&&a.radius?[n,[a.radius*Math.cos(a.angle),a.radius*Math.sin(a.angle)]]:[n,a]})))}}]),e}(),d=n(108),b=n.n(d),v=b.a.mark(g);function g(e,t){var n,r,a;return b.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(n=Math.abs(t-e),!(e<t)){o.next=11;break}r=0;case 3:if(!(r<=n)){o.next=9;break}return o.next=6,e+r;case 6:r++,o.next=3;break;case 9:o.next=18;break;case 11:a=0;case 12:if(!(a<=n)){o.next=18;break}return o.next=15,t-a;case 15:a++,o.next=12;break;case 18:case"end":return o.stop()}}),v)}function O(e,t,n){var r=e.next();return r.done?new Promise((function(e){e()})):(t(r.value),new Promise((function(r){setTimeout((function(){return r(O(e,t,n))}),n)})))}function j(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return O(g(e,t),n,r)}}var y=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.a,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(a.a)(this,t),(e=Object(c.a)(this,Object(i.a)(t).call(this))).store=void 0,e.autodraw=void 0,e.store=n,e.autodraw=r,e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"loadJson",value:function(e){return this.dispatch(s.s(e)),this}},{key:"animate",value:function(e){var t=this,n=Object(r.a)(e,2),a=n[0],o=n[1],c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=c.delay,u=void 0===i?0:i;return function(e){var n=t.autodraw;return t.autodraw=!1,j(a,o)((function(n){var r=e(n),a=r.params,o=r.view,c=r.color;a&&t.updateParams(a),o&&t.updateView(o),c&&t.updateColor(c),t.redraw()}),u).then((function(){t.autodraw=n}))}}},{key:"dispatch",value:function(e){this.store.dispatch(e),this.autodraw&&this.redraw()}},{key:"redraw",value:function(){this.store.dispatch(s.h())}},{key:"getFractal",value:function(){return this.store.getState().fractal}},{key:"getAlgorithm",value:function(){return this.getFractal().algorithm}},{key:"getColor",value:function(){return this.getFractal().color}},{key:"getView",value:function(){return this.getFractal().view}},{key:"getMethod",value:function(){return this.getFractal().algorithm.methodName}},{key:"getParams",value:function(){return this.getFractal().algorithm.params}},{key:"getParam",value:function(e){return this.getParams()[e]}},{key:"setMethod",value:function(e){var t=m.a[e];t?this.dispatch(s.j(e,t)):console.error("unknown methodName:",e)}},{key:"updateParams",value:function(e){this.dispatch(s.p(this.fixPolarParams(e)))}},{key:"updateColor",value:function(e){this.dispatch(s.o(e))}},{key:"updateView",value:function(e){this.dispatch(s.q(e))}},{key:"recenter",value:function(){this.dispatch(s.f())}},{key:"setCenter",value:function(e,t){this.dispatch(s.k(e,t))}},{key:"zoom",value:function(e){this.dispatch(s.t(e))}}],[{key:"new",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new t(l.a,e)}}]),t}(h),w=y.new(!0),k=n(96),x=n(35);function C(e,t){console.log("downloading:",t);var n=document.createElement("a");n.href=e,n.download=t,document.body.append(n),n.click(),setTimeout((function(){n.remove(),URL.revokeObjectURL(e)}),100)}var E=n(158),M=n.n(E),P=function(){function e(){Object(a.a)(this,e),this.zip=void 0,this.zip=new M.a}return Object(o.a)(e,[{key:"file",value:function(e,t){this.zip.file(e,t)}},{key:"download",value:function(e){this.zip.generateAsync({type:"blob"}).then((function(t){C(URL.createObjectURL(t),e)}))}}]),e}(),R=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this))).fractal=void 0,n.zipper=void 0,n.fractal=e,n.zipper=new P,n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"animate",value:function(e,t){var n=this,a=Object(r.a)(e,2),o=a[0],c=a[1],i=this.zipper;return function(e){return new Promise((function(t){var r=!0,a=!1,u=void 0;try{for(var l,s=g(o,c)[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var m=l.value,p=e(m),f=p.filename,h=void 0===f?"img"+String(m).padStart(4,"0")+".png":f,d=p.params,b=p.view,v=p.color;d&&n.updateParams(d),b&&n.updateView(b),v&&n.updateColor(v),i.file(h,n.toBlob()),console.log("frame",m)}}catch(O){a=!0,u=O}finally{try{r||null==s.return||s.return()}finally{if(a)throw u}}t(n)}))}}},{key:"toBlob",value:function(){var e=this;return new Promise((function(t,n){var r=e.imageData();if(r){var a=document.createElement("canvas"),o=a.getContext("2d");a.width=r.width,a.height=r.height,o.putImageData(r,0,0),a.toBlob((function(e){e?t(e):n()}))}else n()}))}},{key:"toURL",value:function(){return this.toBlob().then((function(e){return URL.createObjectURL(e)}))}},{key:"downloadImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fractal.png";this.toURL().then((function(t){C(t,e)}))}},{key:"download",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fractal.zip";this.zipper.download(e)}},{key:"clear",value:function(){this.zipper=new P}},{key:"json",value:function(){return Object(x.c)(this.fractal)}},{key:"url",value:function(){return Object(x.b)(this.json())}},{key:"loadJson",value:function(e){var t=Object(x.a)(e);return t&&(this.fractal.algorithm=Object(p.a)({},this.fractal.algorithm,{},t.algorithm),this.fractal.color=Object(p.a)({},this.fractal.color,{},t.color),this.fractal.view=Object(p.a)({},this.fractal.view,{},t.view)),this}},{key:"saveToGallery",value:function(){var e=this;this.toURL().then((function(t){var n="fract"+Math.floor(Date.now()-new Date(2020,0,25).getTime()).toString(16);l.a.dispatch(Object(s.b)(t,Object(x.c)(e.getFractal()),n))}))}},{key:"imageData",value:function(){return Object(m.c)(this.getFractal())}},{key:"getFractal",value:function(){return{algorithm:this.getAlgorithm(),color:this.getColor(),view:this.getView()}}},{key:"getAlgorithm",value:function(){return this.fractal.algorithm}},{key:"getColor",value:function(){return this.fractal.color}},{key:"getView",value:function(){return Object(p.a)({},this.fractal.view,{pixelCount:this.fractal.view.w*this.fractal.view.h})}},{key:"getMethod",value:function(){return this.fractal.algorithm.methodName}},{key:"getParams",value:function(){return this.fractal.algorithm.params}},{key:"getParam",value:function(e){return this.getParams()[e]}},{key:"setMethod",value:function(e){var t=m.a[e];t?(this.fractal.algorithm.method=t,this.fractal.algorithm.methodName=e):console.error("unknown methodName:",e)}},{key:"updateParams",value:function(e){this.fractal.algorithm.params=Object(p.a)({},this.fractal.algorithm.params,{},this.fixPolarParams(e))}},{key:"updateColor",value:function(e){this.fractal.color=Object(p.a)({},this.fractal.color,{},e)}},{key:"updateView",value:function(e){this.fractal.view=Object(p.a)({},this.fractal.view,{},e)}},{key:"recenter",value:function(){this.fractal.view.cx=0,this.fractal.view.cy=0,this.fractal.view.ppu=Object(k.b)(this.fractal.view)}},{key:"setCenter",value:function(e,t){this.fractal.view.cx=e,this.fractal.view.cy=t}},{key:"zoom",value:function(e){this.fractal.view.ppu*=e}}],[{key:"parseState",value:function(e){return{algorithm:Object(p.a)({},e.algorithm),color:Object(p.a)({},e.color),view:Object(p.a)({},e.view)}}},{key:"fromState",value:function(e){return new t(t.parseState(e))}},{key:"new",value:function(){return t.fromState(l.a.getState().fractal)}}]),t}(h),S=n(2),N=n(14);function A(e){return"linear"===e.scale?Object(N.M)().domain(e.domain).range(e.range):"log"===e.scale?Object(N.N)().domain(e.domain).range(e.range).base(e.base||10):"pow"===e.scale?Object(N.O)().domain(e.domain).range(e.range).exponent(e.exponent||2):"zoom"===e.scale?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t[1]/t[0],a=t[0],o=Object(N.O)().domain(e).range([0,1]).exponent(n);return function(e){return a*Math.pow(r,o(e))}}(e.domain,e.range,e.exponent||1):Object(N.M)().domain(e.domain).range(e.range)}function z(e){return"map"in e?function(e){var t=A(e);return function(n){return e.map(t(n))}}(e):A(e)}var D=function(e){return"range"in e?z(e):function(e){var t=e.angle,n=e.radius,r="number"===typeof t?function(e){return t}:z(t),a="number"===typeof n?function(e){return n}:z(n);return function(e){var t=r(e),n=a(e);return[n*Math.cos(t),n*Math.sin(t)]}}(e)};function I(e){return Array.isArray(e)}function _(e,t){return{scale:"linear",domain:t,range:e}}function L(e,t){return Object(p.a)({domain:t},e)}function T(e,t,n){var a=Object(r.a)(n,2),o=a[0],c=a[1];return{angle:void 0===e.angle?Math.atan2(c,o):"number"===typeof e.angle?e.angle:I(e.angle)?_(e.angle,t):L(e.angle,t),radius:void 0===e.radius?Math.sqrt(o*o+c*c):"number"===typeof e.radius?e.radius:I(e.radius)?_(e.radius,t):L(e.radius,t)}}function U(e){return!I(e)&&!("range"in e)}var F=function(){function e(t){var n=this;Object(a.a)(this,e),this.domain=void 0,this.params=void 0,this.view=void 0,this.json=void 0,this.init=void 0,this.f=function(e){var t=n.makeScales(e);return function(e){for(var n={},a={},o=0,c=Object.entries(t.params);o<c.length;o++){var i=Object(r.a)(c[o],2),u=i[0],l=i[1];n[u]=l(e)}for(var s=0,m=Object.entries(t.view);s<m.length;s++){var p=Object(r.a)(m[s],2),f=p[0],h=p[1];a[f]=h(e)}return{params:n,view:a}}},this.run=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.frames,a=Object(S.a)(t,["frames"]),o=r?"number"===typeof r?[r,r]:1===r.length?[r[0],r[0]]:r:n.domain;if("screen"===e)return n.initialize(w),w.autodraw=!0,w.animate(o,a)(n.f(w));if("download"===e){var c=R.new();return n.initialize(c),c.animate(o,a)(n.f(c)).then((function(){return c.download()}))}return n.initialize(e),e.animate(o,a)(n.f(e))},this.domain="number"===typeof t?[1,t]:t,this.params={},this.view={},this.init={}}return Object(o.a)(e,[{key:"loadJson",value:function(e){this.json=e}},{key:"update",value:function(e){return this.init=e,this}},{key:"initialize",value:function(e){this.json&&e.loadJson(this.json),this.init.method&&e.setMethod(this.init.method),this.init.params&&e.updateParams(this.init.params),this.init.view&&e.updateView(this.init.view),this.init.color&&e.updateColor(this.init.color)}},{key:"makeScales",value:function(e){for(var t=e.getParams(),n=e.getView(),a={},o={},c=0,i=Object.entries(this.params);c<i.length;c++){var u=Object(r.a)(i[c],2),l=u[0],s=u[1];if(U(s)){var m=t[l];Array.isArray(m)&&"number"===typeof m[0]&&"number"==typeof m[1]&&(a[l]=D(T(s,this.domain,m)))}else I(s)?a[l]=D(_(s,this.domain)):a[l]=D(L(s,this.domain))}for(var p=0,f=Object.entries(this.view);p<f.length;p++){var h=Object(r.a)(f[p],2),d=h[0],b=h[1];if(U(b)){var v=n[d];Array.isArray(v)&&"number"===typeof v[0]&&"number"==typeof v[1]&&(o[d]=D(T(b,this.domain,v)))}else I(b)?o[d]=D(_(b,this.domain)):o[d]=D(L(b,this.domain))}return{params:a,view:o}}},{key:"animate",value:function(e){var t=e.params,n=e.view;return this.params=Object.assign(this.params,t),this.view=Object.assign(this.view,n),this}}]),e}(),B=n(58),J={controller:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return w.autodraw=e,w},disconnected:function(){return R.new()},animator:function(e){return new F(e)},get logDrawTime(){return B.a.logDrawTime},set logDrawTime(e){B.a.logDrawTime=e},animateZoom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.frames,n=void 0===t?60:t,r=e.delay,a=void 0===r?0:r,o=e.rotate,c=void 0===o?0:o,i=e.target,u=void 0===i?"screen":i,l=new F(n),s=w.getView(),m=s.w,p=s.h,f=s.ppu,h=w.getParams(),d=h.iter,b=Math.round(Math.min(m,p)/5);return l.view.ppu={scale:"zoom",range:[b,f]},l.params.iter=[20,d],c&&(l.view.t={range:"number"===typeof c?[-c,0]:c,map:function(e){var t=new DOMMatrix([1,0,0,-1,0,0]).rotateSelf(e);return[t.a,t.b,t.c,t.d]}}),l.run(u,{delay:a})},magic:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.frames,n=void 0===t?30:t,a=e.delay,o=void 0===a?0:a,c=e.target,i=void 0===c?"screen":c,u=new F(n),l=w.getParams(),s=l.c,m=l.p,p=function(e){return Math.floor(Math.random()*e)},f=!1;if(void 0!==s){f=!0;var h=Object(r.a)(s,2),d=h[0],b=h[1],v=Math.atan2(b,d),g=Math.sqrt(d*d+b*b),O=Math.min(.1,g/2),j=Math.max(.8+Math.random(),1.5*g),y=2*Math.PI*(1+p(4)),k=2*Math.PI*(1+p(4));u.params.c={angle:{range:Math.random()<.5?[0,y]:[y,0],map:function(e){return v+e}},radius:{range:Math.random()<.5?[0,k]:[k,0],map:function(e){var t=Math.sin(e);return t<0?g+Math.abs(g-O)*t:t>0?g+Math.abs(j-g)*t:g}}}}if(void 0!==m){f=!0;var x=Object(r.a)(m,2),C=x[0],E=x[1],M=Math.atan2(E,C),P=Math.sqrt(C*C+E*E),R=Math.max(.01,P/4),S=Math.max(.5+Math.random(),1.5*P),N=2*Math.PI*(1+p(4)),A=2*Math.PI*(1+p(4));u.params.p={angle:{range:Math.random()<.5?[0,N]:[N,0],map:function(e){return M+e}},radius:{range:Math.random()<.5?[0,A]:[A,0],map:function(e){var t=Math.sin(e);return t<0?P+Math.abs(P-R)*t:t>0?P+Math.abs(S-P)*t:P}}}}if(f)return u.run(i,{delay:o});console.log("This fractal cannot be magically animated. Choose a fractal with 'c' or 'p' parameters.")}};window.fractalex=J},29:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.Call=0]="Call",e[e.Number=1]="Number",e[e.Complex=2]="Complex",e[e.Boolean=3]="Boolean"}(r||(r={}))},30:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),function(e){e[e.None=0]="None",e[e.Draw=1]="Draw",e[e.Color=2]="Color",e[e.Capture=3]="Capture"}(r||(r={}));var a="FRACTAL_UPDATE"},31:function(e,t,n){"use strict";n.r(t),n.d(t,"PI",(function(){return r})),n.d(t,"TAU",(function(){return a})),n.d(t,"abs",(function(){return o})),n.d(t,"asin",(function(){return c})),n.d(t,"atan2",(function(){return i})),n.d(t,"cos",(function(){return d})),n.d(t,"exp",(function(){return u})),n.d(t,"floor",(function(){return l})),n.d(t,"pow",(function(){return s})),n.d(t,"random",(function(){return m})),n.d(t,"round",(function(){return p})),n.d(t,"sin",(function(){return f})),n.d(t,"sqrt",(function(){return h}));var r=Math.PI,a=2*r,o=Math.abs,c=Math.asin,i=Math.atan2,u=Math.exp,l=Math.floor,s=Math.pow,m=Math.random,p=Math.round,f=Math.sin,h=Math.sqrt,d=Math.cos},32:function(e,t,n){"use strict";n.d(t,"d",(function(){return c}));var r=n(77);n.d(t,"a",(function(){return r.a}));var a=n(46);n.d(t,"b",(function(){return a.a}));var o=n(58);function c(e){var t=e.method,n=e.params;return{label:t.label,calc:t.calc(n),range:t.range(n),describe:t.describe(n),controls:t.controls}}n.d(t,"c",(function(){return o.b}))},34:function(e,t,n){"use strict";var r=n(35),a=n(30),o=n(68),c=function(e){return{type:o.c,payload:e}},i=function(e,t,n){return{type:o.a,payload:{methodName:e,method:t,params:n}}},u=n(94),l=function(e){return{type:u.a,payload:e}},s=n(44),m=function(e){return{type:s.c,payload:e}},p=function(){return{type:s.a}},f=function(e,t){return{type:s.c,payload:{cx:e,cy:t}}},h=function(e){var t=e*Math.PI/180,n=Math.cos(t),r=Math.sin(t);return{type:s.b,payload:[n,r,-r,n]}},d=function(e){return{type:s.d,payload:e}},b=function(e){return{type:s.e,payload:e}},v=n(56);n.d(t,"l",(function(){return g})),n.d(t,"m",(function(){return O})),n.d(t,"n",(function(){return j})),n.d(t,"g",(function(){return i})),n.d(t,"j",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"k",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"h",(function(){return f})),n.d(t,"o",(function(){return d})),n.d(t,"p",(function(){return b})),n.d(t,"e",(function(){return v.e})),n.d(t,"d",(function(){return v.d})),n.d(t,"a",(function(){return v.b})),n.d(t,"b",(function(){return v.c}));var g=function(e){return{type:a.b,payload:e}},O=function(e){return{type:a.b,payload:Object(r.a)(e)}},j=function(e){var t=Object(r.d)(e);return t?{type:a.b,payload:Object(r.a)(t)}:{type:a.b,payload:void 0}}},35:function(e,t,n){"use strict";var r=n(5),a=n(32),o=n(20);function c(e){return e.map((function(e){return e.toString().replace("e+","e")})).join("_")}function i(e,t){var n=e.split("_").map((function(e){return+e}));if(n.length===t)return n}function u(e){var t,n=new URLSearchParams;return n.append("v","3"),e.am&&n.append("am",e.am),e.ap&&n.append("ap",(t=e.ap,Object.entries(t).map((function(e){var t=Object(o.a)(e,2),n=t[0],r=t[1];return n+":"+JSON.stringify(r)})).join(";"))),"cl"in e&&e.cl?n.append("cl",e.cl.join("_")):"cs"in e&&e.cs&&n.append("cs",e.cs),e.cp&&(Array.isArray(e.cp)?n.append("cp",c(e.cp)):n.append("cp",c([e.cp.n,e.cp.mi?1:0,e.cp.rv?1:0,e.cp.sk]))),e.vc&&n.append("vc",c(e.vc)),e.vs&&n.append("vs",c(e.vs)),e.vt&&n.append("vt",c(e.vt)),n.toString()}function l(e){var t={v:"3"},n=e.get("am");n&&(t.am=n);var a,o=e.get("ap");o&&(t.ap=(a=o,Object.fromEntries(a.split(";").map((function(e){var t=e.split(":");try{return[t[0],JSON.parse(t[1])]}catch(n){return console.log("bad param",e),["BAD_PARAM","BAD_PARAM"]}})).filter((function(e){return"BAD_PARAM"!==e[0]})))));var c=e.get("cp");if(c){var u=i(c,4);u&&(t.cp={n:u[0],mi:1===u[1],rv:1===u[2],sk:u[3]})}var l=e.get("vc");if(l){var s=i(l,2);s&&(t.vc=s)}var m=e.get("vs");if(m){var p=i(m,3);p&&(t.vs=p)}var f=e.get("vt");if(f){var h=i(f,4);h&&(t.vt=h)}var d=e.get("cl");if(d)return Object(r.a)({},t,{cl:d.split("_")});var b=e.get("cs");return b?Object(r.a)({},t,{cs:b}):t}function s(e){return function(e){var t=e.algorithm,n=e.color,o=e.view;return a.b[n.schemeName]?{v:"3",am:t.methodName,ap:Object(r.a)({},t.params),cs:n.schemeName,cp:{n:n.count,mi:n.mirror,rv:n.reverse,sk:n.skew},vc:[o.cx,o.cy],vs:[o.w,o.h,o.ppu],vt:o.t}:{v:"3",am:t.methodName,ap:Object(r.a)({},t.params),cl:n.scheme,cp:{n:n.count,mi:n.mirror,rv:n.reverse,sk:n.skew},vc:[o.cx,o.cy],vs:[o.w,o.h,o.ppu],vt:o.t}}(e)}function m(e){return function(e){var t={};if(e.am){var n=a.a[e.am];t.algorithm={methodName:e.am,method:n,params:e.ap?e.ap:n.newParams()}}return("cl"in e||"cs"in e||e.cp)&&(t.color={},"cl"in e&&e.cl?(t.color.schemeName="[Imported Scheme]",t.color.scheme=e.cl):"cs"in e&&e.cs&&a.b[e.cs]&&(t.color.schemeName=e.cs,t.color.scheme=a.b[e.cs]),e.cp&&(Array.isArray(e.cp)?(t.color.count=e.cp[0],t.color.mirror=!!e.cp[1],t.color.reverse=!!e.cp[2],t.color.skew=e.cp[3]):(t.color.count=e.cp.n,t.color.mirror=e.cp.mi,t.color.reverse=e.cp.rv,t.color.skew=e.cp.sk))),(e.vc||e.vs||e.vt)&&(t.view={},e.vc&&(t.view.cx=e.vc[0],t.view.cy=e.vc[1]),e.vs&&(t.view.w=e.vs[0],t.view.h=e.vs[1],t.view.ppu=e.vs[2]),e.vt&&(t.view.t=e.vt)),t}(e)}function p(e){return window.location.href.split("?")[0]+"?"+u(e)}function f(e){try{return l(new URLSearchParams(e))}catch(t){}}n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return f}))},4:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"q",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return d})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return v})),n.d(t,"n",(function(){return g})),n.d(t,"m",(function(){return E})),n.d(t,"a",(function(){return M})),n.d(t,"p",(function(){return R})),n.d(t,"o",(function(){return S}));var r=n(63),a=n(31);function o(e,t){return{re:e,im:t}}function c(e){var t=e.angle,n=e.radius;return{re:n*a.cos(t),im:n*a.sin(t)}}function i(e){return{angle:a.atan2(e.im,e.re),radius:a.sqrt(e.re*e.re+e.im*e.im)}}function u(e,t){return{re:e.re+t.re,im:e.im+t.im}}function l(e,t){return{re:e.re+t,im:e.im}}function s(e,t){return u(e,c(t))}function m(e,t){return{re:e.re-t.re,im:e.im-t.im}}function p(e,t){return{re:e.re*t.re-e.im*t.im,im:e.re*t.im+e.im*t.re}}function f(e,t){return{re:t*e.re,im:t*e.im}}function h(e,t){var n=M(t);return{re:(e.re*t.re+e.im*t.im)/n,im:(e.im*t.re-e.re*t.im)/n}}function d(e){return c({radius:a.exp(e.re),angle:e.im})}function b(e,t){return c(r.c(i(e),t))}function v(e,t){return t<0?h(o(1,0),v(e,-t)):0===t?o(1,0):1===t?e:2===t?p(e,e):3===t?p(p(e,e),e):4===t?p(p(p(e,e),e),e):5===t?p(p(p(p(e,e),e),e),e):6===t?p(p(p(p(p(e,e),e),e),e),e):7===t?p(p(p(p(p(p(e,e),e),e),e),e),e):8===t?p(p(p(p(p(p(p(e,e),e),e),e),e),e),e):b(e,t)}function g(e,t){return v(e,t)}var O=function(e){return p(e,e)},j=function(e){return p(p(e,e),e)},y=function(e){return p(p(p(e,e),e),e)},w=function(e){return p(p(p(p(e,e),e),e),e)},k=function(e){return p(p(p(p(p(e,e),e),e),e),e)},x=function(e){return p(p(p(p(p(p(e,e),e),e),e),e),e)},C=function(e){return O(O(O(e)))};function E(e){if(e<0){var t=E(-e);return function(e){return h(o(1,0),t(e))}}if(0===e)return function(e){return o(1,0)};if(1===e)return function(e){return e};if(2===e)return O;if(3===e)return j;if(4===e)return y;if(5===e)return w;if(6===e)return k;if(7===e)return x;if(8===e)return C;if(e%1===0){if(e%2===0){var n=E(e/2);return function(e){return O(n(e))}}var r=E((e-1)/2);return function(e){return p(e,O(r(e)))}}return function(t){return b(t,e)}}function M(e){return e.re*e.re+e.im*e.im}function P(e){return a.sqrt(M(e))}function R(e){return c({angle:a.atan2(e.im,e.re)/2,radius:a.sqrt(P(e))})}function S(e){return function(e,t){return{re:e.re/t,im:e.im/t}}(m(d(e),d({re:-(t=e).re,im:-t.im})),2);var t}},42:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return l}));var r=n(32),a="F_MdJl",o="Rainbow",c=9e4,i={w:1920,h:1080},u={w:600,h:500},l=r.a[a];r.b[o]},44:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i}));var r="VIEW_UPDATE",a="VIEW_ZOOM_IN",o="VIEW_ZOOM_OUT",c="VIEW_RECENTER",i="VIEW_TRANSFORM"},46:function(e,t,n){"use strict";var r=n(14);function a(e){var t=Array.isArray(e.scheme)?Object(r.L)(r.k,e.scheme):e.scheme,n=e.reverse?[1,0]:[0,1],a=Math.pow(2,e.skew);if(e.mirror){var o=Object(r.M)().domain([0,.5]).range(n),c=Object(r.M)().domain([1,.5]).range(n);return function(e){var n=Object(r.O)().domain(e).range([0,1]).exponent(a);return function(e){return t(function(e){return e<.5?o(e):c(e)}(n(e)))}}}return function(e){var o=Object(r.O)().domain(e).range(n).exponent(a);return function(e){return t(o(e))}}}function o(e){var t=a(e),n=document.createElement("canvas").getContext("2d");return function(e){if(0===e[0]){for(var r=t(e),a=[],o=0;o<=e[1];o++){n.fillStyle=r(o),n.fillRect(0,0,1,1);var c=n.getImageData(0,0,1,1).data;a.push(c)}return a}for(var i=e[0],u=e[1]-i,l=t([0,u]),s=[],m=0;m<=u;m++){n.fillStyle=l(m%(u+1)),n.fillRect(0,0,1,1);var p=n.getImageData(0,0,1,1).data;s.push(p)}return s}}var c=n(5),i={Cool:r.e,Cubehelix:r.f,Greys:r.i,Inferno:r.j,Magma:r.l,Plasma:r.q,Rainbow:r.w,Sinebow:r.D,Spectral:r.E,Viridis:r.F,Warm:r.G},u={Blues:r.a,BrBG:r.b,BuGn:r.c,BuPu:r.d,GnBu:r.g,Greens:r.h,OrRd:r.m,Oranges:r.n,PRGn:r.o,PiYG:r.p,PuBu:r.r,PuBuGn:r.s,PuOr:r.t,PuRd:r.u,Purples:r.v,RdBu:r.x,RdGy:r.y,RdPu:r.z,RdYlBu:r.A,RdYlGn:r.B,Reds:r.C,YlGn:r.H,YlGnBu:r.I,YlOrBr:r.J,YlOrRd:r.K},l=Object(c.a)({},i,{},u,{},{Paint:["#3db5ec","#73c2b0","#b9e375","#f4bb44","#eb591b"],Ink:["#000000","#FFDD8C"]});n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}))},49:function(e,t,n){"use strict";var r=n(5);function a(e,t){var n=(t[1]-t[0])/(e[1]-e[0]),r=t[0]-n*e[0];return function(e){return n*e+r}}function o(e,t,n){var r=e*t;return Math.sqrt(n/r)}function c(e,t){if("xdom"in e){if(t){var n=o(e.w,e.h,t);return Object(r.a)({w:e.w*n,h:e.h*n},e)}return e}var a=e.w,c=e.h,i=e.cx,u=e.cy,l=e.ppu;if(t){var s=o(e.w,e.h,t);a=Math.round(a*s),c=Math.round(c*s),l*=s}var m=a/2/l,p=c/2/l;return{cx:i,cy:u,w:a,h:c,xdom:[i-m,i+m],ydom:[u-p,u+p]}}n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c}))},50:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return i}));var r=n(20);function a(e){var t=Object(r.a)(e,4),n=t[0],a=t[1],o=t[2],c=t[3],i=n*c-a*o;if(0!==i)return[c,-a,-o,n].map((function(e){return e/i}));console.error("cannot invert matrix - determinant is zero: ["+e.join(",")+"]")}function o(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1]]}function c(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3]]}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t){var o=Object(r.a)(t,4),c=o[0],i=o[1],u=o[2],l=o[3];return function(t,r){return e((t-n)*c+(r-a)*u+n,(t-n)*i+(r-a)*l+a)}}return e}},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o}));var r="GALLERY_ADD",a="MASS_ADD_TO_GALLERY",o="GALLERY_DELETE"},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n(30),a="FRACTAL_FINISH_DRAW";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.a.None,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FRACTAL_SET_DRAW":return t.payload;case a:return r.a.None;default:return e}}var c=function(){return{type:"FRACTAL_SET_DRAW",payload:r.a.Draw}},i=function(){return{type:"FRACTAL_SET_DRAW",payload:r.a.Color}},u=function(){return{type:"FRACTAL_SET_DRAW",payload:r.a.Capture}},l=function(){return{type:a}}},58:function(e,t,n){"use strict";var r=n(2),a=n(49),o=n(50),c=n(46),i=n(77);n.d(t,"a",(function(){return u}));var u={logDrawTime:!1};function l(e){var t=i.a[e.algorithm.methodName];if(t){var n,u=t.calc(e.algorithm.params),l=t.range(e.algorithm.params),s=e.view.t;if("pixelCount"in e.view){var m=e.view,p=(m.t,m.pixelCount),f=Object(r.a)(m,["t","pixelCount"]);n=Object(a.a)(f,p)}else n=Object(a.a)(e.view);return function(e){for(var t=Object(a.a)(e.view),n=t.cx,r=t.cy,c=t.w,i=t.h,u=t.xdom,l=t.ydom,s=Object(a.b)([0,c],u),m=Object(a.b)([0,i],l),p=Object(o.d)(e.pixel,e.transform?Object(o.b)(e.transform):void 0,n,r),f=new ImageData(c,i),h=0;h<i;h++)for(var d=m(h),b=c*h,v=0;v<c;v++){var g=s(v),O=4*(v+b),j=e.colors[p(g,d)%e.colors.length];f.data[O]=j[0],f.data[O+1]=j[1],f.data[O+2]=j[2],f.data[O+3]=j[3]}return f}({pixel:u,colors:Object(c.b)(e.color)(e.color.count?[0,e.color.count]:l),view:n,transform:s})}}t.b=function(e){if(u.logDrawTime){var t=performance.now(),n=l(e),r=performance.now();return console.log("draw time:",r-t),n}return l(e)}},60:function(e,t,n){"use strict";var r=n(61),a=n(5),o=n(68),c=n(42),i={methodName:c.e,method:c.d,params:c.d.newParams()},u=n(46),l=n(94),s={schemeName:c.c,scheme:u.a[c.c],mirror:!1,reverse:!1,skew:0,count:0},m=n(96),p=n(56),f=n(30),h=Object(r.b)({algorithm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.b:return Object(a.a)({},e,{},t.payload);case o.a:return{methodName:t.payload.methodName,method:t.payload.method,params:t.payload.params?t.payload.params:t.payload.method.newParams()};case o.c:return Object(a.a)({},e,{params:Object(a.a)({},e.params,{},t.payload)});default:return e}},color:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a:return Object(a.a)({},e,{},t.payload);default:return e}},view:m.a,drawState:p.f}),d=n(27),b=n(12),v=n(53),g=n(77),O={nav:b.c.Explore,modal:b.b.None,canvasStretch:b.g.Contain,galleryBadge:0,methodList:g.a,colorSchemeList:Object(a.a)({},u.a),waiting:!1},j=n(19),y=[],w=Object(r.b)({fractal:function(e,t){if(t.type===f.b){if(void 0!==t.payload){var n=Object(a.a)({},e.view,{},t.payload.view),r=n.w/e.view.w,o=n.h/e.view.h;return r>o?n.h=e.view.h*r:n.w=e.view.w*o,{algorithm:Object(a.a)({},e.algorithm,{},t.payload.algorithm),color:Object(a.a)({},e.color,{},t.payload.color),view:n,drawState:e.drawState}}return e}return h(e,t)},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.h:return Object(a.a)({},e,{},t.payload);case b.e:return t.payload===b.c.Gallery?Object(a.a)({},e,{nav:t.payload,galleryBadge:0}):Object(a.a)({},e,{nav:t.payload});case b.d:return Object(a.a)({},e,{modal:t.payload});case b.f:return Object(a.a)({},e,{canvasStretch:t.payload});case b.a:return Object(a.a)({},e,{colorSchemeList:Object(a.a)({},e.colorSchemeList,Object(d.a)({},t.payload.name,t.payload.scheme))});case v.a:return Object(a.a)({},e,{galleryBadge:e.galleryBadge+1});case f.b:return t.payload&&t.payload.color&&t.payload.color.schemeName&&!e.colorSchemeList[t.payload.color.schemeName]?Object(a.a)({},e,{colorSchemeList:Object(a.a)({},e.colorSchemeList,Object(d.a)({},t.payload.color.schemeName,t.payload.color.scheme))}):e;case p.a:return Object(a.a)({},e,{waiting:!1});default:return e}},gallery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.a:return[].concat(Object(j.a)(e),[t.payload]);case v.b:return URL.revokeObjectURL(t.payload),e.filter((function(e){return e.url!==t.payload}));case v.c:return console.log(t),[].concat(Object(j.a)(e),Object(j.a)(t.payload));default:return e}}});t.a=Object(r.c)(w)},63:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c}));var r=n(31);function a(e,t){return{angle:e.angle,radius:t*e.radius}}function o(e,t){return{angle:e.angle-t.angle,radius:e.radius/t.radius}}function c(e,t){return{angle:e.angle*t,radius:r.pow(e.radius,t)}}},68:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o}));var r="ALGORITHM_UPDATE",a="ALGORITHM_SET",o="ALGORITHM_UPDATE_PARAMS"},77:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"number",(function(){return w})),n.d(r,"complex",(function(){return k})),n.d(r,"getRandomC",(function(){return x})),n.d(r,"randomC",(function(){return C}));var a=n(19),o=n(29),c=n(5),i=n(2),u=function(e){var t=e.controls,n=void 0===t?[]:t,r=Object(i.a)(e,["controls"]);return Object(c.a)({},r,{controls:n})},l=n(4),s=function(e,t){var n=e*e;return function(e){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{re:0,im:0},a=0,o=r;a<t&&Object(l.a)(o)<n;)a+=1,o=e(o);return a}},m=n(10),p={bail:10,iter:20};function f(e){return function(){return Object(c.a)({},p,{},e())}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 0===t?function(t){var n=e(t);return function(e,r){return s(t.bail,t.iter)(n(Object(l.e)(e,r)))}}:"c"===t?function(t){var n=e(t);return function(e,r){return s(t.bail,t.iter)(n(Object(l.e)(e,r)),Object(l.e)(e,r))}}:function(n){var r=e(n),a=t(n);return function(e,t){return s(n.bail,n.iter)(r(Object(l.e)(e,t)),a(Object(l.e)(e,t)))}}}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return v(e(n),0===t?"0":"c"===t?"x+yi":t(n),n.bail,n.iter)}}function b(e){if("describe"in e)return u({label:e.label,calc:h(e.f,e.z0),range:function(e){return[0,e.iter]},describe:e.describe,newParams:f(e.newParams),controls:e.controls});var t=void 0!==e.latexZ0||0!==e.z0&&"c"!==e.z0?e.latexZ0:e.z0;return u({label:e.label,calc:h(e.f,e.z0),range:function(e){return[0,e.iter]},describe:d(e.latexF,t),newParams:f(e.newParams),controls:e.controls})}function v(e,t,n,r){return[{math:"\\begin{aligned}z_0 &= "+t+"\\\\z_{n+1} &= "+(-1===e.indexOf("z_")?e.replace(/z/g,"z_n"):e)+"\\end{aligned}",displayMode:!0},"The color of the pixel located at ",{math:"(x, y)"}," corresponds to ",{math:"k"},", where ",{math:"z_k"}," is the first term of the above sequence such that ",{math:"|z_k| > ".concat(Object(m.b)(n))},". If this does not occur in the first ",{math:Object(m.b)(r)}," terms of the sequence, then ",{math:"k = "+Object(m.b)(r)},"."]}function g(e){return Array.isArray(e)?["Julia: "].concat(Object(a.a)(e)):["Julia: ",e]}function O(e){return function(t){var n=e(t),r=s(t.bail,t.iter);return function(e,t){return r(n,Object(l.e)(e,t))}}}function j(e){var t=e.f,n=e.label,r=e.latexF,a=Object(i.a)(e,["f","label","latexF"]);return u({label:g(n),calc:O(t),range:function(e){return[0,e.iter]},describe:function(e){return v(r(e),"x+yi",e.bail,e.iter)},newParams:f(a.newParams),controls:a.controls})}var y=n(27);function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.step,r=void 0===n?1:n,a=Object(i.a)(t,["step"]);return Object(c.a)({type:o.a.Number,param:e,label:a.label?a.label:e,step:r},a)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.stepRadius,r=void 0===n?.02:n,a=t.stepAngle,u=void 0===a?Math.PI/60:a,l=Object(i.a)(t,["stepRadius","stepAngle"]);return Object(c.a)({type:o.a.Complex,param:e,label:l.label?l.label:e,stepRadius:r,stepAngle:u},l)}function x(){var e=Math.PI-2*Math.asin(Math.pow(Math.random(),.9));Math.random()<.5&&(e=2*Math.PI-e);var t=.3+.6*Math.sin(e/2)*(.4*Math.random()+.8);return[Math.round(t*Math.cos(e)*1e3)/1e3,Math.round(t*Math.sin(e)*1e3)/1e3]}function C(e){return{type:o.a.Call,icon:"Random",onCall:function(){return Object(y.a)({},e,x())}}}var E=n(63),M=n(31);function P(e){return e%1===0}var R=function(e){return function(e){for(var t in e)if(!P(+t)||+t<0)return!1;return!0}(e)?function(t){var n={re:0,im:0};for(var r in e)n=Object(l.b)(n,Object(l.j)(Object(l.l)(t,+r),e[r]));return n}:function(t){var n=Object(l.q)(t),r={re:0,im:0};for(var a in e)r=Object(l.c)(r,E.b(E.c(n,+a),e[a]));return r}},S=function(e){return Object(l.e)(M.abs(e.re),M.abs(e.im))};function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;if(t){var n=N(e),r=Object(l.e)(t[0],t[1]);return function(e){return Object(l.b)(n(e),r)}}if(1===e)return S;var a=Object(l.m)(e);return function(e){return a(Object(l.e)(M.abs(e.re),M.abs(e.im)))}}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=2*e,a=function(t){return t>e?r-t:t<-e?-r-t:t},o=t*t,c=1/o,i=function(e){var t=Object(l.a)(e);return t<c?Object(l.j)(e,n*o):t<1?Object(l.j)(e,n/t):Object(l.j)(e,n)};return function(e){return i(Object(l.e)(a(e.re),a(e.im)))}}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(l.e)(0,0),n=t;return function(t){var r=e(t,n);return n=t,r}}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-.5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2?arguments[2]:void 0,r=Object(l.m)(t),a="number"===typeof e?function(t){return Object(l.j)(t,e)}:function(t){return Object(l.i)(t,e)};return n?function(e,t){return Object(l.b)(Object(l.b)(r(e),n),a(t))}:function(e,t){return Object(l.b)(r(e),a(t))}}function I(e){return{re:M.abs(e.re),im:M.abs(e.im)}}var _=b({label:"Burning Ship",latexF:function(e){var t=e.k;return"\\left(|Re(z)|+|Im(z)|\\right)^{".concat(Object(m.b)(t),"}+x-yi")},f:function(e){var t=e.k;return P(t)?function(e){var n={re:e.re,im:-e.im};return function(e){return Object(l.b)(Object(l.l)(I(e),t),n)}}:function(e){var n={re:e.re,im:-e.im};return function(e){return Object(l.b)(Object(l.k)(I(e),t),n)}}},newParams:function(){return{k:2}},controls:[{type:o.a.Number,label:"exponent (k)",param:"k",step:.1,min:0}]}),L=b({label:"Burning Ship (Mandelbox Remix)",f:function(e){var t=e.box1,n=e.box2,r=e.box3,a=e.k,o=P(a)&&a>0?l.l:l.k,c=A(t,n,r);return function(e){return function(t){var n=Object(l.j)(o(Object(l.e)(M.abs(t.re),-M.abs(t.im)),a),1/r);return Object(l.b)(c(n),e)}}},z0:0,describe:function(e){e.box1,e.box2;var t=e.box3,n=e.k;e.bail,e.iter;return["This follows the same algorithm as the Mandelbox fractal, but first applies the function ",{math:"z \\mapsto \\left(|Re(z)|-|Im(z)|\\right)^{".concat(Object(m.b)(n),"} \\div ").concat(Object(m.b)(t)),displayMode:!0}]},newParams:function(){return{box1:1,box2:2,box3:2.2,k:2,bail:50}},controls:[{type:o.a.Call,icon:"Random",onCall:function(){return{box3:M.round(100*M.random())/100+.5}}}].concat(Object(a.a)(["box1","box2","box3"].map((function(e){return w(e,{step:.1})}))),[w("k",{step:.1,min:0}),w("bail",{step:5,min:0})])}),T=j({label:{math:"az^m+bz^n+c"},f:function(e){var t,n=e.a,r=e.b,a=e.c,o=e.m,c=e.n,i=R((t={},Object(y.a)(t,o,n),Object(y.a)(t,c,r),t)),u=Object(l.e)(a[0],a[1]);return function(e){return Object(l.b)(i(e),u)}},latexF:function(e){var t=e.a,n=e.b,r=e.c,a=e.m,o=e.n;return"".concat(m.b(t),"z^{").concat(m.b(a),"}")+"".concat(m.b(n,{sign:!0}),"z^{").concat(m.b(o),"}")+"".concat(m.a(r,{sign:!0}))},newParams:function(){return{a:-5,m:-2,b:1,n:1,c:[-.5,.5]}},controls:[r.complex("c")].concat(Object(a.a)(["a","m","b","n"].map((function(e){return r.number(e,{step:"a"===e||"b"===e?1:.1})}))))}),U=j({label:{math:"e^{z^k}+c"},newParams:function(){return{k:3,c:[-.6,0]}},latexF:function(e){var t=e.k,n=e.c;return"e^{z^{".concat(m.b(t),"}}").concat(m.a(n,{sign:!0}))},f:function(e){var t=e.k,n=e.c,r=Object(l.e)(n[0],n[1]);return function(e){return Object(l.b)(Object(l.g)(Object(l.n)(e,t)),r)}},controls:[r.randomC("c"),r.complex("c"),r.number("k",{step:.5}),r.number("bail",{min:0,step:1})]}),F=j({label:{math:"\\sqrt{\\sinh(z^{k})}+c"},newParams:function(){return{k:2,c:[.06,.12]}},latexF:function(e){var t=e.k,n=e.c;return"\\sqrt{\\sinh(z^{".concat(m.b(t),"})}").concat(m.a(n,{sign:!0}))},f:function(e){var t=e.k,n=e.c,r=Object(l.e)(n[0],n[1]);return function(e){return Object(l.b)(Object(l.p)(Object(l.o)(Object(l.n)(e,t))),r)}},controls:[r.randomC("c"),r.complex("c"),r.number("k",{step:.5}),r.number("bail",{min:0,step:1})]}),B=j({label:"Burning Ship",newParams:function(){return{k:2,c:[-.52,-1.1]}},f:function(e){var t=e.k,n=e.c,r=Object(l.e)(n[0],n[1]),a=N(t);return function(e){return Object(l.b)(a(e),r)}},latexF:function(e){var t=e.k,n=e.c;return"(|Re(z)|+|Im(z)|)^{".concat(m.b(t),"}").concat(m.a(n,{sign:!0}))},controls:[r.randomC("c"),r.complex("c"),r.number("k",{step:.5})]});B.label="Burning Ship Julia";var J=b({label:"Magnet Type I",f:function(e){var t=e.k,n=P(t)&&t>0?l.l:l.k;return function(e){var r=Object(l.d)(e,-1),a=Object(l.d)(e,-2);return function(e){return n(Object(l.f)(Object(l.b)(Object(l.l)(e,2),r),Object(l.b)(Object(l.j)(e,2),a)),t)}}},latexF:function(e){var t=e.k;return"\\left(\\frac{z^2 + x+yi - 1}{2z + x+yi - 2}\\right)^{"+m.b(t)+"}"},newParams:function(){return{k:2}},controls:[{type:o.a.Number,param:"k",label:"exponent",step:.5},{type:o.a.Number,param:"bail",label:"bail",step:5,min:0}]}),V=b({label:"Magnet Type II",newParams:function(){return{k:2}},f:function(e){var t=e.k,n=P(t)&&t>0?l.l:l.k;return function(e){var r=Object(l.d)(e,-1),a=Object(l.d)(e,-2),o=Object(l.j)(r,3),c=Object(l.j)(a,3),i=Object(l.i)(r,a);return function(e){return n(Object(l.f)(Object(l.b)(Object(l.b)(Object(l.l)(e,3),Object(l.i)(o,e)),i),Object(l.b)(Object(l.b)(Object(l.j)(Object(l.l)(e,2),3),Object(l.i)(c,e)),Object(l.d)(i,1))),t)}}},latexF:function(e){var t=e.k;return"\\left(\\frac{z^3 + 3(x+yi-1)z + (x+yi-1)(x+yi-2)}{3z^2 + 3(x+yi-2)z + (x+yi-1)(x+yi-2) + 1}\\right)^{"+m.b(t)+"}"},controls:[{type:o.a.Number,param:"k",label:"exponent",step:.5},{type:o.a.Number,param:"bail",label:"bail",step:5,min:0}]});var G=function(e){return"\\left\\{\\begin{aligned}"+"".concat(m.b(2*e),"z &, \\text{ if $|z|<").concat(m.b(1/e),"$}\\\\")+"z \\div |z|^2 &, \\text{ if $".concat(m.b(1/e)," \\leq |z| < 1$}\\\\")+"z &, \\text{ otherwise}\\\\\\end{aligned}\\right."};function W(e,t,n,r,o){return[{math:"f_{\\mathbb{R}\\mapsto\\mathbb{R}}(n) ="+(c=e,"\\left\\{\\begin{aligned}"+"".concat(m.b(2*c)," - n &, \\text{ if $n > ").concat(m.b(c),"$}\\\\")+"".concat(m.b(-2*c)," - n &, \\text{ if $n < ").concat(m.b(-c),"$}\\\\")+"n &, \\text{ otherwise}\\end{aligned}\\right."),displayMode:!0},{math:"A_{\\mathbb{C}\\mapsto\\mathbb{C}}(z) =f(Re(z))+f(Im(z))i",displayMode:!0},{math:"B_{\\mathbb{C}\\mapsto\\mathbb{C}}(z) ="+G(t),displayMode:!0}].concat(Object(a.a)(v(function(e){return m.b(e)+"\\cdot B(A(z)) + x + yi"}(n),"0",r,o)));var c}var q={type:o.a.Call,icon:"Random",onCall:function(){return{box3:M.round(20*M.random())/10+2}}},H={label:"Mandelbox *",newParams:function(){return Object(c.a)({box1:1,box2:2,box3:2},p)},range:function(e){return[0,e.iter]},controls:[q,r.number("box1",{step:.1}),r.number("box2",{step:.1}),r.number("box3",{step:.1}),r.number("iter",{min:0,step:2}),r.number("bail",{min:0,step:1})],describe:function(e){var t=e.box1,n=e.box2,r=e.box3,a=e.iter;return W(t,n,r,e.bail,a)},calc:function(e){var t=e.box1,n=e.box2,r=e.box3,a=e.iter,o=e.bail,c=2*t,i=n*n,u=1/i,l=o*o,s=r*i,m=function(e){return e>t?c-e:e<-t?-c-e:e};return function(e,t){for(var n=0,o=0,c=0,i=0,p=0;c+i<l&&p<a;){var f=(n=m(n))*n+(o=m(o))*o;f<u?(n*=s,o*=s):f<1?(n*=r/f,o*=r/f):(n*=r,o*=r),c=(n+=e)*n,i=(o+=t)*o,p+=1}return p}}},Y={label:"Mandelcorner *",newParams:function(){return Object(c.a)({box1:1,box2:2,box3:2},p)},range:function(e){return[0,e.iter]},controls:[q,r.number("box1",{step:.1}),r.number("box2",{step:.1}),r.number("box3",{step:.1}),r.number("iter",{min:0,step:2}),r.number("bail",{min:0,step:1})],describe:function(e){return["Mandelbox("+[e.box1,e.box2,e.box3].map((function(e){return m.b(e)})).join(",")+") -> Burning Ship"]},calc:function(e){var t=e.box1,n=e.box2,r=e.box3,a=e.iter,o=e.bail,c=2*t,i=n*n,u=1/i,l=o*o,s=r*i,m=function(e){return e>t?c-e:e<-t?-c-e:e};return function(e,t){for(var n=0,o=0,c=0,i=0,p=0;c+i<l&&p<a;){var f=(n=m(n))*n+(o=m(o))*o;f<u?(n*=s,o*=s):f<1?(n*=r/f,o*=r/f):(n*=r,o*=r),c=(n=M.abs(n)+e)*n,i=(o=M.abs(o)+t)*o,p+=1}return p}}},Z=b({label:["Mandelbrot (",{math:"z^k+c"},")"],latexF:function(e){return"z^{".concat(m.b(e.k),"}+x+yi")},f:function(e){var t=e.k;return P(t)?function(e){return function(n){return Object(l.b)(Object(l.l)(n,t),e)}}:function(e){return function(n){return Object(l.b)(Object(l.k)(n,t),e)}}},newParams:function(){return{k:2}},controls:[r.number("k",{step:1,min:0})]}),$=j({label:["Mandelbrot (",{math:"z^k+c"},")"],f:function(e){var t=e.k,n=e.c,r=Object(l.e)(n[0],n[1]),a=Object(l.m)(t);return function(e){return Object(l.b)(a(e),r)}},latexF:function(e){var t=e.k,n=e.c;return"z^{".concat(m.b(t),"}").concat(m.a(n,{sign:!0}))},newParams:function(){return{k:2,c:r.getRandomC()}},controls:[r.randomC("c"),r.complex("c"),r.number("k",{step:.5}),r.number("bail",{step:1,min:0})]});$.label=["Mandelbrot Julia (",{math:"z^k+c"},")"];var X=b({label:"Phoenix",newParams:function(){return{p:[-.5,0],k:2}},f:function(e){var t=e.p,n=e.k,r=Object(l.e)(t[0],t[1]);return function(e){return z(D(r,n,e))}},z0:0,latexZ0:0,latexF:function(e){var t=e.p,n=e.k;return"z_{n}^{".concat(m.b(n),"}+(").concat(m.a(t),")z_{n-1}+x+yi")},controls:[r.complex("p"),r.number("k",{step:.5})]}),K=b({label:"Phoenix Julia",newParams:function(){return{p:[-.5,0],k:2,c:[.5667,0],iter:40}},f:function(e){var t=e.p,n=e.k,r=e.c,a=Object(l.e)(t[0],t[1]),o=Object(l.e)(r[0],r[1]);return function(e){return z(D(a,n,o))}},z0:function(){return function(e){return Object(l.e)(e.im,e.re)}},latexZ0:function(){return"y+xi"},latexF:function(e){var t=e.p,n=e.k,r=e.c;return"z_{n}^{".concat(m.b(n),"}+(").concat(m.a(t),")z_{n-1}").concat(m.a(r,{sign:!0}))},controls:[r.complex("c"),r.complex("p"),r.number("k",{step:.5})]}),Q=b({label:"Phoenix Julia/Burning Ship",newParams:function(){return{p:[-.5,0],k:2,c:[.6,0]}},f:function(e){var t=e.p,n=e.k,r=e.c,a=Object(l.e)(t[0],t[1]),o=Object(l.e)(r[0],r[1]),c=N(n),i=D(a,1,o),u=function(e,t){return i(c(e),t)};return function(e){return z(u)}},z0:function(){return function(e){return Object(l.e)(e.im,e.re)}},latexZ0:function(){return"y+xi"},latexF:function(e){var t=e.p,n=e.k,r=e.c;return"\\left(|Re(z_{n})|+|Im(z_{n})|\\right)^{".concat(m.b(n),"}+(").concat(m.a(t),")z_{n-1}").concat(m.a(r,{sign:!0}))},controls:[r.complex("c"),r.complex("p"),r.number("k",{step:.5})]}),ee=(b({label:{math:"e^{z^k}+c"},newParams:function(){return{k:3}},latexF:function(e){var t=e.k;return"e^{z^{".concat(m.b(t),"}}+x+yi")},f:function(e){var t=e.k;return function(e){return function(n){return Object(l.b)(Object(l.g)(Object(l.n)(n,t)),e)}}},controls:[{type:o.a.Number,label:"k",param:"k",step:.5},{type:o.a.Number,label:"bail",param:"bail",min:0,step:1}]}),b({label:"Test",newParams:function(){return{p:[.5,0],k:2,m1:2,m2:2,m3:2,c:[.001,0]}},f:function(e){var t=e.p,n=e.k,r=e.m1,a=e.m2,o=e.m3,c=e.c,i=Object(l.e)(t[0],t[1]),u=Object(l.e)(c[0],c[1]),s=N(n),m=A(r,a,o),p=D(i,1,u),f=function(e,t){return m(p(s(e),t))};return function(e){return z(f)}},z0:function(){return function(e){return e}},describe:function(){return[""]},controls:[k("c"),w("k",{step:.5}),k("p"),w("m1",{step:.1}),w("m2",{step:.5}),w("m3",{step:.1})]})),te=n(20),ne={label:"Burning Ship *",range:function(e){return[0,e.iter]},newParams:function(){return Object(c.a)({},p)},controls:[r.number("bail",{step:1,min:0}),r.number("iter",{min:1,step:2})],describe:function(e){var t=e.iter;return v("\\(|Re(z)|+|Im(z)|\\right)^2+x-yi","0",e.bail,t)},calc:function(e){var t=e.iter,n=e.bail;return function(e,r){for(var a=0,o=0,c=0,i=0,u=0,l=n*n;c+i<l&&u<t;)o=2*Math.abs(a*o)-r,c=(a=c-i+e)*a,i=o*o,u+=1;return u}}},re={label:"Burning Ship (Mandelbox Remix) *",newParams:function(){return Object(c.a)({},p,{bail:50,box1:1,box2:2,box3:2.2})},range:function(e){return[0,e.iter]},controls:[r.number("box1",{step:.1}),r.number("box2",{step:.1}),r.number("box3",{step:.1}),r.number("iter",{step:2,min:0}),r.number("bail",{step:1,min:0})],describe:function(e){e.box1,e.box2;var t=e.box3;e.bail,e.iter;return["This follows the same algorithm as the Mandelbox fractal, but first applies the function ",{math:"z \\mapsto \\left(|Re(z)|-|Im(z)|\\right)^{2} \\div ".concat(m.b(t)),displayMode:!0}]},calc:function(e){var t=e.box1,n=e.box2,r=e.box3,a=e.bail,o=e.iter,c=2*t,i=n*n,u=1/i,l=a*a,s=r*i,m=1/r,p=function(e){return e>t?c-e:e<-t?-c-e:e};return function(e,t){for(var n=0,a=0,c=0,i=0,f=0;c+i<l&&f<o;){a=p(-2*Math.abs(n*a)*m);var h=(n=p((c-i)*m))*n+a*a;h<u?(n*=s,a*=s):h<1?(n*=r/h,a*=r/h):(n*=r,a*=r),c=(n+=e)*n,i=(a+=t)*a,f+=1}return f}}},ae={label:["Mandelbrot Julia (",{math:"z^2+c"},") *"],newParams:function(){return Object(c.a)({c:r.getRandomC()},p)},range:function(e){return[0,e.iter]},controls:[r.randomC("c"),r.complex("c"),r.number("iter",{min:1,step:2})],describe:function(e){var t=e.c,n=e.iter,r=e.bail;return v("z^{2}".concat(m.a(t,{sign:!0})),m.a(t),r,n)},calc:function(e){var t=e.c,n=e.iter,r=e.bail,a=Object(te.a)(t,2),o=a[0],c=a[1],i=r*r;return function(e,t){for(var r=0,a=e*e,u=t*t;a+u<i&&r<n;)t=2*e*t+c,a=(e=a-u+o)*e,u=t*t,r+=1;return r}}},oe={label:["Mandelbrot (",{math:"z^2+c"},") *"],newParams:function(){return Object(c.a)({},p)},range:function(e){return[0,e.iter]},controls:[r.number("iter",{min:1,step:2})],describe:function(e){var t=e.iter;return v("z^{2}+x+yi","0",e.bail,t)},calc:function(e){var t=e.iter,n=e.bail,r=n*n;return function(e,n){for(var a=0,o=0,c=0,i=0,u=0;i+u<r&&a<t;)c=2*o*c+n,i=(o=i-u+e)*o,u=c*c,a+=1;return a}}},ce={label:"Phoenix *",newParams:function(){return Object(c.a)({p:[-.5,0]},p)},range:function(e){return[0,e.iter]},controls:[r.complex("p"),r.number("bail",{step:1,min:0}),r.number("iter",{min:1,step:2})],describe:function(e){var t=e.p,n=e.iter,r=e.bail;return v("z^{2}+(".concat(m.a(t),")z_{n-1}+x+yi"),"0",r,n)},calc:function(e){var t=e.p,n=e.bail,r=e.iter,a=Object(te.a)(t,2),o=a[0],c=a[1],i=n*n;return function(e,t){for(var n=e,a=t,u=0,l=0,s=n*n,m=a*a,p=0;s+m<i&&p<r;){var f=s-m+e+o*u-c*l,h=2*n*a+t+o*l+c*u;u=n,l=a,s=(n=f)*n,m=(a=h)*a,p+=1}return p}}},ie={label:"Phoenix Julia *",newParams:function(){return Object(c.a)({p:[-.5,0],c:[.6,0]},p)},range:function(e){return[0,e.iter]},controls:[r.complex("p"),r.complex("c"),r.number("bail",{step:1,min:0}),r.number("iter",{min:1,step:2})],describe:function(e){var t=e.p,n=e.c,r=e.iter,a=e.bail;return v("z^{2}+(".concat(m.a(t),")z_{n-1}").concat(m.a(n,{sign:!0})),"y+xi",a,r)},calc:function(e){var t=e.p,n=e.c,r=e.bail,a=e.iter,o=Object(te.a)(n,2),c=o[0],i=o[1],u=Object(te.a)(t,2),l=u[0],s=u[1],m=r*r;return function(e,t){for(var n=t,r=e,o=0,u=0,p=n*n,f=r*r,h=0;p+f<m&&h<a;){var d=2*n*r+i+l*u+s*o,b=p-f+c+l*o-s*u;o=n,u=r,p=(n=b)*n,f=(r=d)*r,h+=1}return h}}},ue={label:"Phoenix/Burning Ship *",range:function(e){return[0,e.iter]},newParams:function(){return Object(c.a)({p:[-.5,0]},p)},controls:[r.complex("p"),r.number("bail",{step:1,min:0}),r.number("iter",{min:1,step:2})],describe:function(e){var t=e.p,n=e.iter,r=e.bail;return v("\\left(|Re(z_{n})|+|Im(z_{n})|\\right)^{2}+(".concat(m.a(t),")z_{n-1}+x-yi"),"0",r,n)},calc:function(e){var t=e.p,n=e.bail,r=e.iter,a=Object(te.a)(t,2),o=a[0],c=a[1],i=n*n;return function(e,t){for(var n=0,a=0,u=0,l=0,s=n*n,m=a*a,p=0;s+m<i&&p<r;){var f=2*Math.abs(n*a)-t+o*l+c*u,h=s-m+e+o*u-c*l;u=n,l=a,s=(n=h)*n,m=(a=f)*a,p+=1}return p}}},le={label:"Phoenix Julia/Burning Ship *",range:function(e){return[0,e.iter]},newParams:function(){return Object(c.a)({p:[-.5,0],c:[.6,0]},p)},controls:[r.complex("p"),r.complex("c"),r.number("bail",{step:1,min:0}),r.number("iter",{min:1,step:2})],describe:function(e){var t=e.p,n=e.c,r=e.iter,a=e.bail;return v("\\left(|Re(z_{n})|+|Im(z_{n})|\\right)^{2}".concat(m.a(n,{sign:!0}),"+(").concat(m.a(t),")z_{n-1}"),"y+xi",a,r)},calc:function(e){var t=e.p,n=e.c,r=e.bail,a=e.iter,o=Object(te.a)(n,2),c=o[0],i=o[1],u=Object(te.a)(t,2),l=u[0],s=u[1],m=r*r;return function(e,t){for(var n=t,r=e,o=0,u=0,p=n*n,f=r*r,h=0;p+f<m&&h<a;){var d=2*Math.abs(n*r)+i+l*u+s*o,b=p-f+c+l*o-s*u;o=n,u=r,p=(n=b)*n,f=(r=d)*r,h+=1}return h}}};n.d(t,"a",(function(){return se}));var se={F_Bs:ne,F_BsMbx:re,Mbx:H,F_Md:oe,F_MdJl:ae,MbxBs:Y,F_Ph:ce,F_PhJl:ie,F_PhBs:ue,F_PhJlBs:le,Bs:_,BsJl:B,BsMbx:L,Jl2:T,JlExp:U,JlSinh:F,Mg1:J,Mg2:V,Md:Z,MdJl:$,Ph:X,PhJl:K,PhJlBs:Q,Test1:ee}},8:function(e,t,n){"use strict";var r=n(34),a=n(12),o=function(e){return{type:a.d,payload:e}},c=function(e){return{type:a.e,payload:e}},i=function(){return{type:a.h,payload:{waiting:!0}}},u=function(e,t){return{type:a.a,payload:{name:e,scheme:t}}},l=n(53),s=function(e,t,n){return{type:l.a,payload:{url:e,data:t,title:n}}},m=function(e){return{type:l.b,payload:e}};n.d(t,"j",(function(){return r.g})),n.d(t,"p",(function(){return r.j})),n.d(t,"o",(function(){return r.i})),n.d(t,"q",(function(){return r.k})),n.d(t,"f",(function(){return r.c})),n.d(t,"k",(function(){return r.h})),n.d(t,"t",(function(){return r.o})),n.d(t,"u",(function(){return r.p})),n.d(t,"h",(function(){return r.e})),n.d(t,"g",(function(){return r.d})),n.d(t,"i",(function(){return r.f})),n.d(t,"c",(function(){return r.a})),n.d(t,"e",(function(){return r.b})),n.d(t,"r",(function(){return r.l})),n.d(t,"s",(function(){return r.m})),n.d(t,"m",(function(){return c})),n.d(t,"l",(function(){return o})),n.d(t,"n",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return m}))},84:function(e,t,n){e.exports={Outer:"Canvas_Outer__3WApH",Canvas:"Canvas_Canvas__2ENmD",Stretch:"Canvas_Stretch__2sMXG"}},94:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="COLOR_UPDATE"},96:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n(5),a=n(44),o=n(42),c=n(50),i=Object(r.a)({},o.a,{cx:0,cy:0,ppu:256,pixelCount:o.f,t:[1,0,0,-1]});function u(e){var t=e.w,n=e.h;return Math.round(Math.min(n,t)/5)}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(r.a)({},i,{ppu:u(i)}),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.c:return Object(r.a)({},e,{},t.payload);case a.a:return Object(r.a)({},e,{cx:0,cy:0,t:[1,0,0,-1],ppu:u(e)});case a.b:return Object(r.a)({},e,{t:Object(c.c)(e.t,t.payload)});case a.d:return Object(r.a)({},e,{ppu:e.ppu*t.payload});case a.e:return Object(r.a)({},e,{ppu:Math.round(e.ppu/t.payload)});default:return e}}}},[[191,1,2]]]);
//# sourceMappingURL=main.80cb79ce.chunk.js.map