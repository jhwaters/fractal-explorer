(this["webpackJsonpfractal-explorer"]=this["webpackJsonpfractal-explorer"]||[]).push([[0],{11:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"g",(function(){return o}));var a,r,o,c="UI_SET_MODAL",i="UI_SET_NAV",u="UI_SET_STRETCH",l="UI_UPDATE",s="UI_ADD_COLOR_SCHEME";!function(e){e[e.Params=0]="Params",e[e.Explore=1]="Explore",e[e.Capture=2]="Capture",e[e.Gallery=3]="Gallery"}(a||(a={})),function(e){e[e.None=0]="None",e[e.Menu=1]="Menu",e[e.Info=2]="Info",e[e.FullResolution=3]="FullResolution"}(r||(r={})),function(e){e[e.None=0]="None",e[e.Contain=1]="Contain",e[e.Cover=2]="Cover"}(o||(o={}))},12:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var a=n(6),r=n(32);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sign,a=t.fixed,r=void 0===a?4:a;return!n||e<0?r?(+e.toFixed(r)).toString():e.toString():"+"+o(e,{fixed:r})}function c(e){var t=Object(r.a)(e,2),n=t[0],c=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(n,i)+o(c,Object(a.a)({},i,{sign:!0}))+"i"}},157:function(e){e.exports=JSON.parse('{"a":"0.4.5"}')},18:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e[e.Call=0]="Call",e[e.Number=1]="Number",e[e.Complex=2]="Complex",e[e.Boolean=3]="Boolean"}(a||(a={}))},193:function(e,t,n){e.exports=n(213)},204:function(e,t,n){},213:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"AddAPhoto",(function(){return D.a})),n.d(a,"Back",(function(){return z.a})),n.d(a,"Capture",(function(){return T.a})),n.d(a,"Code",(function(){return _.a})),n.d(a,"Copy",(function(){return B.a})),n.d(a,"Delete",(function(){return G.a})),n.d(a,"Explore",(function(){return V.a})),n.d(a,"FullResolution",(function(){return q.a})),n.d(a,"Functions",(function(){return $.a})),n.d(a,"Gallery",(function(){return X.a})),n.d(a,"Help",(function(){return Q.a})),n.d(a,"Link",(function(){return te.a})),n.d(a,"Menu",(function(){return ae.a})),n.d(a,"Minus",(function(){return oe.a})),n.d(a,"Palette",(function(){return ie.a})),n.d(a,"Plus",(function(){return le.a})),n.d(a,"Random",(function(){return pe.a})),n.d(a,"Recenter",(function(){return fe.a})),n.d(a,"RotateLeft",(function(){return de.a})),n.d(a,"RotateRight",(function(){return ve.a})),n.d(a,"Save",(function(){return Oe.a})),n.d(a,"Settings",(function(){return je.a})),n.d(a,"SwapHoriz",(function(){return ke.a})),n.d(a,"Tune",(function(){return Ee.a})),n.d(a,"Upload",(function(){return Pe.a})),n.d(a,"View",(function(){return Ne.a})),n.d(a,"ViewImage",(function(){return Me.a})),n.d(a,"ZoomIn",(function(){return De.a})),n.d(a,"ZoomOut",(function(){return ze.a}));var r=n(0),o=n.n(r),c=n(26),i=n.n(c),u=n(13),l=n(10),s=n(15),p=n(16),m=n(17),f=n(20),h=n(6),d=n(258),b=n(162),v=n(260),g=n(99),O=n(98),y=n(262),j=n(263),w=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).state=void 0,n.state={type:"detect"===n.props.type?"light":n.props.type},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"setDark",value:function(e){this.setState({type:e?"dark":"light"})}},{key:"componentDidMount",value:function(){var e=this;"detect"===this.props.type&&(this.setDark(window.matchMedia("(prefers-color-scheme:dark)").matches),window.matchMedia("(prefers-color-scheme:dark)").addListener((function(t){e.setDark(t.matches)})))}},{key:"render",value:function(){var e=Object(h.a)({},this.props.theme,{palette:Object(h.a)({},this.props.theme.palette,{},this.state,{},"dark"===this.state.type?this.props.darkPalette:this.props.lightPalette)});return o.a.createElement(d.a,{theme:Object(b.a)(e)},o.a.createElement(v.a,null),this.props.children)}}]),t}(o.a.Component);w.defaultProps={type:"detect",lightPalette:{primary:g.a,secondary:O.a},darkPalette:{primary:y.a,secondary:j.a},theme:{props:{MuiAppBar:{color:"inherit"},MuiBackdrop:{invisible:!0},MuiTextField:{variant:"outlined",size:"small",fullWidth:!0,margin:"normal"}}}};var k=w,C=n(2),E=n(11),x=n(8),P=n(272),R=n(273),N=n(274),S=n(292),M=n(5),A=n(123),D=n.n(A),I=n(126),z=n.n(I),L=n(127),T=n.n(L),U=n(128),_=n.n(U),F=n(129),B=n.n(F),J=n(130),G=n.n(J),W=n(131),V=n.n(W),H=n(132),q=n.n(H),Y=n(133),$=n.n(Y),Z=n(134),X=n.n(Z),K=n(135),Q=n.n(K),ee=n(136),te=n.n(ee),ne=n(137),ae=n.n(ne),re=n(138),oe=n.n(re),ce=n(139),ie=n.n(ce),ue=n(140),le=n.n(ue),se=n(141),pe=n.n(se),me=n(142),fe=n.n(me),he=n(143),de=n.n(he),be=n(144),ve=n.n(be),ge=n(145),Oe=n.n(ge),ye=n(146),je=n.n(ye),we=n(147),ke=n.n(we),Ce=n(148),Ee=n.n(Ce),xe=n(149),Pe=n.n(xe),Re=n(150),Ne=n.n(Re),Se=n(151),Me=n.n(Se),Ae=n(152),De=n.n(Ae),Ie=n(153),ze=n.n(Ie),Le=n(267),Te=n(289),Ue=n(14),_e=n(156),Fe=n.n(_e),Be=(n(203),Object(S.a)({root:{whiteSpace:"nowrap"}})),Je=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).ref=void 0,n.ref=o.a.createRef(),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"renderMath",value:function(){this.ref.current&&Fe.a.render(this.props.math,this.ref.current,{displayMode:this.props.displayMode})}},{key:"componentDidMount",value:function(){this.renderMath()}},{key:"componentDidUpdate",value:function(){this.renderMath()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className;return o.a.createElement("span",{ref:this.ref,className:n?t.root+" "+n:t.root})}}]),t}(o.a.PureComponent),Ge=Object(M.a)(Be)(Je),We=n(73),Ve=function(e){return"string"===typeof e?e:o.a.createElement(Ge,e)},He=function(e){var t=e.data,n=Object(C.a)(e,["data"]);return Array.isArray(t)?o.a.createElement.apply(o.a,[We.a,n].concat(Object(Ue.a)(t.map(Ve)))):"string"===typeof t?o.a.createElement(We.a,n,t):o.a.createElement(We.a,n,o.a.createElement(Ge,t))},qe=Object(M.a)((function(e){return{root:{width:"200px"}}}))(Te.a),Ye=Object(M.a)((function(e){return{root:{padding:"0.5em"}}}))(Le.a),$e=Object(M.a)((function(e){return{root:{fontSize:"0.8em"}}}))(He),Ze=n(288),Xe=n(217),Ke=n(269),Qe=n(294),et=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).state=void 0,n.changeName=function(e){var t=e.target.value;n.setState({name:t})},n.changeNum=function(e){return n.setNum(+e.target.value)},n.changeColor=function(e){return function(t){var a=Object(Ue.a)(n.state.colors);a[e]=t.target.value,n.setState({colors:a})}},n.addColor=function(){return n.setNum(n.state.num+1)},n.removeColor=function(){return n.setNum(n.state.num-1)},n.save=function(){n.props.onSave(n.state.name,n.state.colors),n.props.onClose()},n.validName=function(){return""!==n.state.name&&(n.props.takenNames.forEach((function(e){if(e.toLowerCase()===n.state.name.toLowerCase())return!1})),!0)},n.state={name:"",num:2,colors:["#FF0055","#0055FF"]},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"setNum",value:function(e){var t=Math.max(2,e),n=Object(Ue.a)(this.state.colors);if(t>n.length)for(var a=n[n.length-1];n.length<t;)n.push(a);else n=n.slice(0,t);this.setState({num:t,colors:n})}},{key:"renderColorInput",value:function(e){return e<this.state.colors.length?o.a.createElement(Ke.a,{item:!0,xs:1},o.a.createElement("input",{type:"color",value:this.state.colors[e],onChange:this.changeColor(e),style:{width:"40px",borderRadius:0,padding:0}})):null}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Qe.a,null,"New Colorscheme"),o.a.createElement(Ze.a,null,o.a.createElement(Te.a,{label:"Name",variant:"filled",value:this.state.name,onChange:this.changeName,inputProps:{type:"text"}})),o.a.createElement(Ze.a,{p:1},o.a.createElement(ht,{style:{width:"100%",height:"4mm"},scheme:this.state.colors,reverse:!1,skew:0,width:100,height:10})),o.a.createElement(Ze.a,null,o.a.createElement(Ke.a,{container:!0},this.state.colors.map((function(t,n){return o.a.createElement(Ze.a,{m:.5},e.renderColorInput(n))}))),o.a.createElement(Ze.a,{m:1},o.a.createElement(rt,{variant:"contained",style:{alignSelf:"center"},onDown:this.removeColor,disableDown:this.state.colors.length<3,onUp:this.addColor})),o.a.createElement(Ze.a,null,o.a.createElement(Xe.a,{fullWidth:!0,color:"primary",disabled:!this.validName(),onClick:this.save},"Save"))))}}]),t}(o.a.Component);et.defaultProps={takenNames:[]};var tt=et,nt=n(270),at=n(271),rt=Object(M.a)((function(e){var t=e.palette;return Object(S.a)({container:{position:"relative",marginTop:"5px",marginBottom:"5px"},label:{textAlign:"center",position:"absolute",bottom:"-5px",width:"100%",userSelect:"none",color:t.text.secondary},value:{textAlign:"center",position:"absolute",top:"-5px",width:"100%",userSelect:"none",color:t.text.secondary}})}))((function(e){var t=e.label,n=e.value,a=e.classes,r=e.onUp,c=e.onDown,i=e.fontSize,u=e.disableUp,l=e.disableDown,s=e.downIcon,p=void 0===s?oe.a:s,m=e.upIcon,f=void 0===m?le.a:m,h=Object(C.a)(e,["label","value","classes","onUp","onDown","fontSize","disableUp","disableDown","downIcon","upIcon"]);return o.a.createElement(Ze.a,{className:a.container},t?o.a.createElement(We.a,{variant:"caption",className:a.label},t):null,n?o.a.createElement(We.a,{variant:"caption",className:a.value},n):null,o.a.createElement(nt.a,h,o.a.createElement(at.a,{onClick:c,disabled:l},o.a.createElement(p,{fontSize:i})),o.a.createElement(at.a,{onClick:r,disabled:u},o.a.createElement(f,{fontSize:i}))))})),ot=n(12),ct=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).onClickDown=function(){n.setValue(n.incrementDown())},n.onClickUp=function(){n.setValue(n.incrementUp())},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"setValue",value:function(e){this.props.onChange(e)}},{key:"incrementDown",value:function(){var e=this.props.controlProps,t=e.min,n=e.step,a=this.props.value-n;return void 0!==t?Math.max(t,a):a}},{key:"incrementUp",value:function(){var e=this.props.controlProps,t=e.max,n=e.step,a=this.props.value+n;return void 0!==t?Math.min(t,a):a}},{key:"render",value:function(){var e=this.props,t=e.controlProps,n=(e.params,e.onChange,Object(C.a)(e,["controlProps","params","onChange"]));return o.a.createElement(rt,Object.assign({},n,{value:ot.b(this.props.value),label:t.label,onDown:this.onClickDown,onUp:this.onClickUp}))}}]),t}(o.a.Component),it=n(4),ut=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).onAngleDown=function(){n.setValue(n.angleDown())},n.onAngleUp=function(){n.setValue(n.angleUp())},n.onRadiusDown=function(){n.setValue(n.radiusDown())},n.onRadiusUp=function(){n.setValue(n.radiusUp())},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"setValue",value:function(e){this.props.onChange(e)}},{key:"toPolar",value:function(){return Object(it.q)(Object(it.e)(this.props.value[0],this.props.value[1]))}},{key:"fromPolar",value:function(e){var t=Object(it.h)(e);return[t.re,t.im]}},{key:"radiusDown",value:function(){var e=this.props.controlProps.stepRadius,t=this.toPolar();return this.fromPolar(Object(h.a)({},t,{radius:t.radius-e}))}},{key:"radiusUp",value:function(){var e=this.props.controlProps.stepRadius,t=this.toPolar();return this.fromPolar(Object(h.a)({},t,{radius:t.radius+e}))}},{key:"angleDown",value:function(){var e=this.props.controlProps.stepAngle,t=this.toPolar();return this.fromPolar(Object(h.a)({},t,{angle:t.angle-e}))}},{key:"angleUp",value:function(){var e=this.props.controlProps.stepAngle,t=this.toPolar();return this.fromPolar(Object(h.a)({},t,{angle:t.angle+e}))}},{key:"render",value:function(){var e=this.props,t=e.controlProps,n=(e.onChange,Object(C.a)(e,["controlProps","onChange"])),r=this.toPolar();return o.a.createElement(o.a.Fragment,null,o.a.createElement(rt,Object.assign({},n,{value:ot.b(r.angle),label:t.label+": angle",onDown:this.onAngleDown,onUp:this.onAngleUp,downIcon:a.RotateRight,upIcon:a.RotateLeft})),o.a.createElement(rt,Object.assign({},n,{value:ot.b(r.radius),label:t.label+": radius",onDown:this.onRadiusDown,onUp:this.onRadiusUp})))}}]),t}(o.a.Component),lt=Object(S.a)((function(e){return{root:{height:"100%"}}})),st=Object(M.a)(lt)(Ze.a),pt=n(45),mt=Object(S.a)({root:{borderRadius:"8px",boxShadow:"2px 2px 4px rgba(0,0,0,0.5)"}}),ft=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).ref=void 0,n.ref=o.a.createRef(),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.docolors()}},{key:"componentDidUpdate",value:function(){this.docolors()}},{key:"docolors",value:function(){var e=this.ref.current;if(e){var t=e.getContext("2d");if(t){var n=this.props,a=n.scheme,r=n.reverse,o=n.skew,c=n.width,i=n.height;if("horizontal"===n.orientation)for(var u=Object(pt.b)({scheme:a,reverse:r,skew:o})([0,c]),l=c+1;l--;)t.fillStyle=u(l),t.fillRect(l,0,1,i);else for(var s=Object(pt.b)({scheme:a,reverse:r,skew:o})([i,0]),p=i+1;p--;)t.fillStyle=s(p),t.fillRect(0,p,c,1)}}}},{key:"render",value:function(){return o.a.createElement("canvas",{ref:this.ref,width:this.props.width,height:this.props.height,style:this.props.style,className:this.props.classes.root})}}]),t}(o.a.Component);ft.defaultProps={width:400,height:10,orientation:"horizontal"};var ht=Object(M.a)(mt)(ft),dt=Object(S.a)({root:{padding:"0px",userSelect:"none"},grid:{strokeLinecap:"square",fill:"none"},major:{strokeWidth:.5,strokeOpacity:1},minor:{strokeWidth:.5,strokeOpacity:.3},marker:{strokeWidth:0}}),bt=function(e){function t(e){var n;Object(u.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).ref=void 0,n.GRID=void 0,n.round=void 0,n.onClick=function(e){if(n.props.onClick){var t=n.getValueAtClick(e);t&&n.props.onClick(t)}},n.onDoubleClick=function(e){if(n.props.onDoubleClick){var t=n.getValueAtClick(e);t&&n.props.onDoubleClick(t)}},n.ref=o.a.createRef();var a=Math.pow(10,e.precision);n.round=function(e){return Math.round(e*a)/a};var r=n.props,c=r.max,i=r.stepRadius,l=r.stepRect,m=r.stepAngle,f=r.angles;return n.GRID=function(e){var t=e.max,n=e.stepX,a=e.stepY,r=e.stepRadius,o=e.stepAngle,c=e.angles,i=1.5*t;function u(e,t,n){return"M"+e+n+","+t+"A"+n+","+n+",0,1,0,"+e+","+t+n+"A"+n+","+n+",0,0,0,"+e+n+","+t}function l(e){return"M"+-t+","+e+"H"+t}function s(e){return"M"+e+","+-t+"V"+t}var p="",m=0;for(;m<=t;)p+=s(m)+s(-m),m+=n;m=0;for(;m<=t;)p+=l(m)+l(-m),m+=a;var f="";if(c)c.forEach((function(e){var t=e*Math.PI/180;f+="M0,0L"+i*Math.cos(t)+","+i*Math.sin(t)}));else for(m=0;m<360;){var h=m*Math.PI/180;f+="M0,0L"+i*Math.cos(h)+","+i*Math.sin(h),m+=o}m=r;for(;m<=i;)f+=u(0,0,m),m+=r;return{RECT:{MINOR:p,MAJOR:l(0)+s(0)},POLAR:{MINOR:f,MAJOR:u(0,0,1)}}}({max:c,stepRadius:i,stepAngle:m,angles:f,stepX:l,stepY:l}),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getValueAtClick",value:function(e){var t=this.ref.current;if(t){var n=t.getBoundingClientRect(),a=n.x,r=n.y,o=e.nativeEvent,c=o.clientX,i=o.clientY,u=2*((c-a)/this.props.size-.5)*this.props.max,l=2*-((i-r)/this.props.size-.5)*this.props.max;return[this.round(u),this.round(l)]}}},{key:"polarGrid",value:function(){return this.GRID.POLAR?o.a.createElement(o.a.Fragment,null,this.GRID.POLAR.MINOR?o.a.createElement("path",{d:this.GRID.POLAR.MINOR,className:this.props.classes.minor,vectorEffect:"non-scaling-stroke"}):null,this.GRID.POLAR.MAJOR?o.a.createElement("path",{d:this.GRID.POLAR.MAJOR,className:this.props.classes.major,vectorEffect:"non-scaling-stroke"}):null):null}},{key:"rectGrid",value:function(){return this.GRID.RECT?o.a.createElement(o.a.Fragment,null,this.GRID.RECT.MINOR?o.a.createElement("path",{d:this.GRID.RECT.MINOR,className:this.props.classes.minor,vectorEffect:"non-scaling-stroke"}):null,this.GRID.RECT.MAJOR?o.a.createElement("path",{d:this.GRID.RECT.MAJOR,className:this.props.classes.major,vectorEffect:"non-scaling-stroke"}):null):null}},{key:"render",value:function(){var e=this.props.max/24,t=[-this.props.max,-this.props.max,2*this.props.max,2*this.props.max];return o.a.createElement("svg",{ref:this.ref,onClick:this.onClick,onDoubleClick:this.onDoubleClick,viewBox:t.join(" "),className:this.props.classes.root,style:Object(h.a)({},this.props.style,{width:this.props.size,height:this.props.size})},o.a.createElement("g",{className:this.props.classes.grid,style:{stroke:this.props.gridColor}},this.rectGrid(),this.polarGrid()),o.a.createElement("circle",{cx:this.props.value[0],cy:-this.props.value[1],r:e,className:this.props.classes.marker,style:{stroke:this.props.markerColor,fill:this.props.markerColor}}))}}]),t}(o.a.Component);bt.defaultProps={size:100,precision:3,stepAngle:30,stepRadius:.2,stepRect:.2,markerColor:"blue"};Object(M.a)(dt)(bt);var vt,gt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).state=void 0,n.onChange=function(e){var t=e.target.value;""===t?n.setState({isEmpty:!0}):n.setState({isEmpty:!1}),n.props.onChange&&(isNaN(+t)||n.props.onChange(e))},n.onBlur=function(e){n.props.onBlur&&n.props.onBlur(e),n.setState({isEmpty:!1})},n.state={isEmpty:!1},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.step,n=e.min,a=e.max,r=e.inputProps,c=(e.onChange,e.onBlur,e.value),i=void 0===c?"":c,u=e.emptyValue,l=void 0===u?0:u,s=Object(C.a)(e,["step","min","max","inputProps","onChange","onBlur","value","emptyValue"]);return o.a.createElement(Te.a,Object(h.a)({type:"number",value:i?+i:this.state.isEmpty?"":l,inputProps:Object(h.a)({step:t,min:n,max:a},r),onChange:this.onChange,onBlur:this.onBlur},s))}}]),t}(o.a.Component),Ot=Object(S.a)((function(e){return{root:{position:"absolute",bottom:0,width:"100%",borderTop:"1px solid "+e.palette.divider}}})),yt=Object(M.a)(Ot)(P.a),jt=Object(f.b)((function(e){return{value:e.ui.nav,galleryBadge:e.ui.galleryBadge}}),(function(e){return{onChange:function(t,n){return e(Object(x.l)(n))}}}))((function(e){var t=e.galleryBadge,n=Object(C.a)(e,["galleryBadge"]);return o.a.createElement(yt,n,o.a.createElement(R.a,{value:E.c.Params,label:"Parameters",icon:o.a.createElement(a.Tune,null)}),o.a.createElement(R.a,{value:E.c.Explore,label:"Explore",icon:o.a.createElement(a.Explore,null)}),o.a.createElement(R.a,{value:E.c.Capture,label:"Capture",icon:o.a.createElement(a.Capture,null)}),o.a.createElement(R.a,{value:E.c.Gallery,label:"Saved",icon:o.a.createElement(N.a,{badgeContent:t,color:"primary"},o.a.createElement(a.Gallery,null))}))})),wt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).state=void 0,n.selectMethod=function(e){var t=e.target.value,a=n.props.methodList[t];n.setState({methodName:t,method:a,params:a.newParams()})},n.apply=function(){var e=n.state,t=e.methodName,a=e.method,r=e.params;n.props.setAlgorithm(t,a,r),n.props.onClose&&n.props.onClose()},n.reset=function(){var e=n.props,t=e.methodName,a=e.params;n.setState({methodName:t,method:n.props.methodList[t],params:Object(h.a)({},a)})},n.state={methodName:e.methodName,method:e.methodList[e.methodName],params:Object(h.a)({},e.params)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(st,null,o.a.createElement(Ze.a,{m:1},o.a.createElement(Ze.a,{m:1},o.a.createElement(qe,{select:!0,label:"Method",value:this.state.methodName,onChange:this.selectMethod},Object.keys(this.props.methodList).map((function(t){return o.a.createElement(Ye,{key:t,value:t},o.a.createElement($e,{data:e.props.methodList[t].label}))})))),o.a.createElement(Ze.a,{m:1},o.a.createElement(nt.a,{fullWidth:!0,color:"primary",orientation:"vertical"},o.a.createElement(Xe.a,{fullWidth:!0,onClick:this.apply},"Apply"),o.a.createElement(Xe.a,{fullWidth:!0,onClick:this.reset},"Reset")))))}}]),t}(o.a.Component),kt=Object(f.b)((function(e){return{methodName:e.fractal.algorithm.methodName,methodList:e.ui.methodList,params:e.fractal.algorithm.params}}),(function(e){return{setAlgorithm:function(t,n,a){e(Object(x.i)(t,n,a)),e(Object(x.f)()),e(Object(x.h)())}}}))(wt),Ct=n(265),Et=n(275),xt=n(293),Pt=n(296),Rt=n(295),Nt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).state=void 0,n.openCustomPopup=function(){return n.setState({customPopup:!0})},n.closeCustomPopup=function(){return n.setState({customPopup:!1})},n.changeReverse=function(e){return n.setCurrent({reverse:e.target.checked})},n.changeSkew=function(e,t){"number"===typeof t?n.setCurrent({skew:t}):console.log(t)},n.selectScheme=function(e){var t=e.target.value;"CUSTOM"===t?n.openCustomPopup():n.setScheme(t)},n.hasChanged=function(){return n.state.current.schemeName!==n.props.current.schemeName||n.state.current.reverse!==n.props.current.reverse||n.state.current.skew!==n.props.current.skew},n.saveScheme=function(e,t){n.props.addScheme(e,t),n.setScheme(e)},n.apply=function(){n.props.updateColor({schemeName:n.state.current.schemeName,scheme:n.props.schemeList[n.state.current.schemeName],reverse:n.state.current.reverse,skew:n.state.current.skew}),n.props.onClose&&n.props.onClose()},n.revert=function(){n.setState({schemeName:n.props.current.schemeName,reverse:n.props.current.reverse,skew:n.props.current.skew})},n.state={current:{schemeName:e.current.schemeName,reverse:e.current.reverse,skew:e.current.skew},customPopup:!1},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"setCurrent",value:function(e){this.setState(Object(h.a)({},this.state,{current:Object(h.a)({},this.state.current,{},e)}))}},{key:"setScheme",value:function(e){this.setCurrent({schemeName:e})}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(st,null,o.a.createElement(Ze.a,{m:1},o.a.createElement(Ze.a,{m:1},o.a.createElement(qe,{select:!0,label:"Scheme",value:this.state.current.schemeName,onChange:this.selectScheme},o.a.createElement(Ye,{value:"CUSTOM"},o.a.createElement($e,{data:"CREATE NEW SCHEME"})),Object.keys(this.props.schemeList).sort().map((function(e){return o.a.createElement(Ye,{key:e,value:e},o.a.createElement($e,{data:e}))})))),o.a.createElement(Ze.a,{m:2},o.a.createElement(Et.a,{label:"Reversed",control:o.a.createElement(Rt.a,{checked:this.state.current.reverse,onChange:this.changeReverse,edge:"end"})})),o.a.createElement(Ze.a,{m:2},o.a.createElement(Ct.a,{fullWidth:!0},o.a.createElement(Qe.a,{shrink:!0},"Skew"),o.a.createElement(Pt.a,{color:"secondary",value:this.state.current.skew,onChange:this.changeSkew,min:-5,max:5,step:.1}))),o.a.createElement(Ze.a,{m:1},o.a.createElement(ht,{style:{width:"100%",height:"4mm"},scheme:this.props.schemeList[this.state.current.schemeName],reverse:this.state.current.reverse,skew:this.state.current.skew,width:100,height:10})),o.a.createElement(Ze.a,{m:1},o.a.createElement(ht,{style:{width:"100%",height:"4mm"},scheme:this.props.schemeList[this.state.current.schemeName],reverse:this.props.current.reverse,skew:this.props.current.skew,width:100,height:10}),o.a.createElement(Qe.a,null,"Current")),o.a.createElement(nt.a,{fullWidth:!0,color:"primary",orientation:"vertical"},o.a.createElement(Xe.a,{onClick:this.apply,disabled:!this.hasChanged()},"Apply"),o.a.createElement(Xe.a,{onClick:this.revert,disabled:!this.hasChanged()},"Reset")))),o.a.createElement(xt.a,{open:this.state.customPopup,onClose:this.closeCustomPopup},o.a.createElement(Ze.a,{m:2},o.a.createElement(tt,{onSave:this.saveScheme,onClose:this.closeCustomPopup,takenNames:Object.keys(this.props.schemeList)}))))}}]),t}(o.a.Component),St=Object(f.b)((function(e){return{current:Object(h.a)({},e.fractal.color),schemeList:e.ui.colorSchemeList}}),(function(e){return{updateColor:function(t){e(Object(x.n)(t)),e(Object(x.g)())},addScheme:function(t,n){e(Object(x.a)(t,n))}}}))(Nt),Mt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).state=void 0,n.centerStep=void 0,n.hasChanged=function(){return n.props.current.cx!==n.state.current.cx||(n.props.current.cy!==n.state.current.cy||(n.props.current.w!==n.state.current.w||(n.props.current.h!==n.state.current.h||(n.props.current.ppu!==n.state.current.ppu||n.props.current.pixelCount!==n.state.current.pixelCount))))},n.apply=function(){n.props.updateView(n.state.current),n.props.onClose&&n.props.onClose()},n.revert=function(){n.setState({current:Object(h.a)({},n.props.current)})},n.setCX=function(e){return n.setCurrent({cx:+e.target.value})},n.setCY=function(e){return n.setCurrent({cy:+e.target.value})},n.setW=function(e){return n.setCurrent({w:+e.target.value})},n.setH=function(e){return n.setCurrent({h:+e.target.value})},n.setPPU=function(e){return n.setCurrent({ppu:+e.target.value})},n.setPixelCount=function(e){return n.setCurrent({pixelCount:+e.target.value})},n.centerStep=10/n.props.current.ppu,n.state={current:Object(h.a)({},e.current)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"setCurrent",value:function(e){this.setState({current:Object(h.a)({},this.state.current,{},e)})}},{key:"render",value:function(){return o.a.createElement(st,null,o.a.createElement(Ze.a,{m:1},o.a.createElement(Ze.a,{m:1},o.a.createElement(Qe.a,null,"Relative Dimensions"),o.a.createElement(Ke.a,{container:!0,spacing:1},o.a.createElement(Ke.a,{item:!0,xs:6},o.a.createElement(gt,{fullWidth:!1,label:"Width",value:+this.state.current.w,onChange:this.setW,step:1,min:1,inputProps:{style:{maxWidth:"5em"}}})),o.a.createElement(Ke.a,{item:!0,xs:6},o.a.createElement(gt,{fullWidth:!1,label:"Height",value:+this.state.current.h,onChange:this.setH,step:1,min:1,inputProps:{style:{maxWidth:"5em"}}}))),o.a.createElement(Ze.a,null,o.a.createElement(gt,{label:"Pixel count",value:+this.state.current.pixelCount,onChange:this.setPixelCount,step:1e4,min:1e4})),o.a.createElement(Ze.a,null,o.a.createElement(gt,{label:"Center x-coordinate",value:+this.state.current.cx,onChange:this.setCX,step:this.centerStep})),o.a.createElement(Ze.a,null,o.a.createElement(gt,{label:"Center y-coordinate",value:+this.state.current.cy,onChange:this.setCY,step:this.centerStep})),o.a.createElement(Ze.a,null,o.a.createElement(gt,{label:"Scale (pixels per unit)",value:+this.state.current.ppu,onChange:this.setPPU,step:10,min:0})),o.a.createElement(nt.a,{fullWidth:!0,color:"primary",orientation:"vertical"},o.a.createElement(Xe.a,{onClick:this.apply,disabled:!this.hasChanged()},"Apply"),o.a.createElement(Xe.a,{onClick:this.revert,disabled:!this.hasChanged()},"Reset")))))}}]),t}(o.a.Component),At=Object(f.b)((function(e){return{current:e.fractal.view}}),(function(e){return{updateView:function(t){e(Object(x.p)(t)),e(Object(x.h)())}}}))(Mt),Dt=n(266),It=n(216),zt=n(279),Lt=n(278),Tt=n(280),Ut=n(290),_t=n(277),Ft=n(34),Bt=n(276),Jt=Object(M.a)({root:{maxWidth:"240px","& textarea, input":{fontFamily:"roboto mono, monospace"}}})(Te.a),Gt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).state=void 0,n.onCopyJson=function(){navigator.clipboard.writeText(n.props.currentJson)},n.onCopyLink=function(){navigator.clipboard.writeText(n.props.currentURL)},n.onChangeJson=function(e){try{var t=Object(Ft.a)(JSON.parse(e.target.value));n.setState({jsonInput:e.target.value,parsedJson:t})}catch(o){try{var a=Object(Ft.d)(e.target.value.split("?").slice(-1)[0]);if(a){var r=Object(Ft.a)(a);n.setState({jsonInput:e.target.value,parsedJson:r})}else n.setState({jsonInput:e.target.value,parsedJson:void 0})}catch(c){n.setState({jsonInput:e.target.value,parsedJson:void 0})}}},n.onUploadJson=function(){n.state.parsedJson&&n.props.uploadData(n.state.parsedJson)},n.selectText=function(e){e.target.select()},n.state={jsonInput:"",parsedJson:void 0},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(Ze.a,{m:2},o.a.createElement(Ze.a,null,o.a.createElement(Bt.a,{variant:"body1",href:this.props.currentURL},"Link to Current Fractal")),o.a.createElement(Ze.a,null,o.a.createElement(Jt,{label:"Current JSON",value:this.props.currentJson,InputProps:{onFocusCapture:this.selectText,readOnly:!0}})),o.a.createElement(Ze.a,null,o.a.createElement(Jt,{label:"Load from URL or JSON",onChange:this.onChangeJson,value:this.state.jsonInput,InputProps:{endAdornment:o.a.createElement(_t.a,{position:"end"},o.a.createElement(at.a,{onClick:this.onUploadJson,disabled:!this.state.parsedJson,title:"load data into viewer"},o.a.createElement(a.Upload,null)))}})))}}]),t}(o.a.Component),Wt=Object(f.b)((function(e){var t=Object(Ft.c)(e.fractal);return{currentJson:JSON.stringify(t),currentURL:Object(Ft.b)(t)}}),(function(e){return{uploadData:function(t){e(Object(x.q)(t)),e(Object(x.h)())}}}))(Gt),Vt=n(157),Ht=Object(M.a)({root:{padding:"1em"}})(Le.a),qt=Object(M.a)({root:{padding:0,margin:0}})(Lt.a),Yt=Object(M.a)({paper:{display:"flex",flexDirection:"row",height:"100%",maxWidth:"90vw"}})(Ut.a);!function(e){e[e.None=0]="None",e[e.Algorithm=1]="Algorithm",e[e.Color=2]="Color",e[e.View=3]="View",e[e.JSON=4]="JSON"}(vt||(vt={}));var $t=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).state=void 0,n.openMenu=function(){return n.props.setModal(E.b.Menu)},n.openAlgorithm=function(){return n.setState({menu:vt.Algorithm})},n.openColor=function(){return n.setState({menu:vt.Color})},n.openView=function(){return n.setState({menu:vt.View})},n.openJSON=function(){return n.setState({menu:vt.JSON})},n.closeAll=function(){n.setState({menu:vt.None}),n.closePopup(),n.props.setModal(E.b.None)},n.openPopup=function(){return n.setState({popup:!0})},n.closePopup=function(){return n.setState({popup:!1})},n.state={menu:vt.None,popup:!1},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.menu===vt.None?{}:{display:"none"},t=this.state.menu===vt.None?{}:{width:"4em"};return o.a.createElement(Yt,{open:this.props.open,onOpen:this.openMenu,onClose:this.closeAll},o.a.createElement(Dt.a,{style:t},o.a.createElement(Ht,{onClick:this.openAlgorithm},o.a.createElement(zt.a,null,o.a.createElement(a.Functions,null)),o.a.createElement(qt,{style:e},"Algorithm")),o.a.createElement(Ht,{onClick:this.openColor},o.a.createElement(zt.a,null,o.a.createElement(a.Palette,null)),o.a.createElement(qt,{style:e},"Colors")),o.a.createElement(Ht,{onClick:this.openView},o.a.createElement(zt.a,null,o.a.createElement(a.View,null)),o.a.createElement(qt,{style:e},"View")),o.a.createElement(Ht,{onClick:this.openJSON},o.a.createElement(zt.a,null,o.a.createElement(a.Code,null)),o.a.createElement(qt,{style:e},"Serialize")),o.a.createElement(Tt.a,null),o.a.createElement(Ht,{onClick:this.closeAll,style:{paddingTop:"2em",paddingBottom:"2em"}},o.a.createElement(zt.a,null,o.a.createElement(a.Back,null)),o.a.createElement(qt,{style:e},"Close")),o.a.createElement(It.a,{style:{position:"absolute",bottom:"0",left:"0",right:"0"}},o.a.createElement(We.a,{style:e,variant:"caption"},Vt.a))),o.a.createElement(Ze.a,null,this.state.menu===vt.Algorithm?o.a.createElement(kt,null):this.state.menu===vt.Color?o.a.createElement(St,null):this.state.menu===vt.View?o.a.createElement(At,null):this.state.menu===vt.JSON?o.a.createElement(Wt,null):null))}}]),t}(o.a.Component),Zt=Object(f.b)((function(e){return{open:e.ui.modal===E.b.Menu}}),(function(e){return{setModal:function(t){return e(Object(x.k)(t))}}}))($t),Xt=n(30),Kt=n(23),Qt=n(81),en=n.n(Qt),tn=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).drawer=void 0,n.canvasRef=void 0,n.centerOnClick=function(e){if(n.props.setCenter&&n.canvas){var t=n.props.fractal.view,a=t.h,r=t.w,o=t.ppu,c=t.cx,i=t.cy,u=n.canvas.getBoundingClientRect(),l=u.width,s=u.height,p=e.nativeEvent,m=p.offsetX,f=p.offsetY;if(n.props.stretch===E.g.Contain){var h=l/r,d=s/a;if(d>h){var b=a*h;f-=(s-b)/2,s=b}else if(h>d){var v=r*d;m-=(l-v)/2,l=v}}var g=(Math.round(m/l*r)-r/2)/o,O=(Math.round(f/s*a)-a/2)/o;n.props.setCenter(c+g,i-O)}},n.drawer=new Kt.c,n.drawer.fullResolution=!1,n.canvasRef=o.a.createRef(),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"draw",value:function(){this.drawer.draw(this.props.fractal),this.drawer.putOnCanvas(this.canvas),this.props.finishDrawing()}},{key:"componentDidMount",value:function(){this.canvas&&this.draw()}},{key:"componentDidUpdate",value:function(){this.props.fractal.drawState===Xt.a.Draw?this.draw():this.props.fractal.drawState===Xt.a.Color&&this.draw()}},{key:"render",value:function(){var e,t=[en.a.Outer],n=this.props.visible?{}:{display:"none"};switch(this.props.stretch){case E.g.Contain:e="contain",t.push(en.a.Stretch);break;case E.g.Cover:e="cover",t.push(en.a.Stretch)}return o.a.createElement(Ze.a,{m:0,className:t.join(" "),style:n},o.a.createElement("canvas",{id:"fractal-preview-canvas",className:en.a.Canvas,ref:this.canvasRef,onDoubleClick:this.centerOnClick,style:{objectFit:e}}))}},{key:"canvas",get:function(){return this.canvasRef.current}}]),t}(o.a.Component),nn=Object(f.b)((function(e){return{visible:e.ui.nav===E.c.Params||e.ui.nav===E.c.Explore,fractal:e.fractal,stretch:e.ui.canvasStretch}}),(function(e){return{setCenter:function(t,n){e(Object(x.j)(t,n)),e(Object(x.h)())},finishDrawing:function(){return e(Object(x.e)())}}}))(tn),an=n(161),rn=n(215),on=n(281),cn=Object(M.a)((function(e){return{root:{bottom:"0",width:"100%",backgroundColor:e.palette.background.default+"99"}}}))(rn.a),un=Object(M.a)({root:{display:"flex",flexFlow:"row wrap",alignItems:"center",justifyContent:"space-around",paddingBottom:"0.7em",paddingTop:"0.3em"}})(on.a);var ln,sn=function(e){return o.a.createElement(cn,{elevation:0,style:e.visible?{}:{display:"none"}},o.a.createElement(un,null,e.children))},pn=n(49),mn=n(42),fn=n(282),hn=Object(M.a)({root:{position:"relative",display:"flex",height:"100%",width:"100%"}})(Ze.a),dn=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).state=void 0,n.cropPixels=void 0,n.drawer=void 0,n.data=void 0,n.shouldRedraw=void 0,n.setW=function(e){var t=+e.target.value;n.setState({w:t,aspect:t/n.state.h})},n.setH=function(e){var t=+e.target.value;n.setState({h:t,aspect:n.state.w/t})},n.swapWH=function(){n.setState({w:n.state.h,h:n.state.w})},n.getImage=function(){var e=document.getElementById("fractal-preview-canvas");if(e){var t=e.toDataURL();n.setState({image:t})}},n.onCropChange=function(e){return n.setState({crop:e})},n.onCropComplete=function(e,t){n.cropPixels=t},n.onZoomChange=function(e){return n.setState({zoom:e})},n.capture=function(){var e=n.determineView();n.drawer.draw(Object(h.a)({},n.props.fractal,{view:e})),n.setData(e),n.saveImage(),n.props.finishCapture()},n.onClick=function(){n.props.startCapture()},n.state=Object(h.a)({},mn.b,{crop:{x:0,y:0},zoom:1,image:null}),n.cropPixels={x:0,y:0,width:mn.b.w,height:mn.b.h},n.drawer=new pn.a,n.drawer.fullResolution=!0,n.data=Object(Ft.c)(e.fractal),n.shouldRedraw=!1,n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.visible&&(!e.visible||this.shouldRedraw&&this.props.fractal.drawState===Xt.a.None?(this.getImage(),this.shouldRedraw=!1):this.props.fractal.drawState!==Xt.a.Draw&&this.props.fractal.drawState!==Xt.a.Color||(this.shouldRedraw=!0)),this.props.fractal.drawState===Xt.a.Capture&&setTimeout(this.capture,500)}},{key:"determineView",value:function(){var e=Object(h.a)({},this.props.fractal.view,{},Object(pn.c)(this.props.fractal.view)),t=e.cx,n=e.cy,a=e.w,r=e.h,o=e.ppu,c=a/o/2,i=r/o/2,u=Object(pn.b)([0,a],[t-c,t+c]),l=Object(pn.b)([r,0],[n-i,n+i]),s=this.cropPixels,p=s.x,m=s.y,f=s.width,d=s.height;return{x:[u(p),u(p+f)],y:[l(m),l(m+d)],w:this.state.w,h:this.state.h}}},{key:"setData",value:function(e){var t={cx:(e.x[0]+e.x[1])/2,cy:(e.y[0]+e.y[1])/2,w:e.w,h:e.h,ppu:Math.round(e.w/(e.x[1]-e.x[0]))};this.data=Object(Ft.c)(Object(h.a)({},this.props.fractal,{view:Object(h.a)({},this.props.fractal.view,{},t)}))}},{key:"saveImage",value:function(){var e=this;this.drawer.toURL((function(t){var n="fract"+Math.floor((Date.now()-new Date(2020,0,25).getTime())/1e3).toString(16);e.props.addToGallery(t,e.data,n)}))}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(hn,{style:this.props.visible?{}:{display:"none"}},o.a.createElement(an.a,{image:this.state.image||"",crop:this.state.crop,zoom:this.state.zoom,aspect:this.state.w/this.state.h,onCropChange:this.onCropChange,onCropComplete:this.onCropComplete,onZoomChange:this.onZoomChange})),o.a.createElement(sn,{visible:this.props.visible},o.a.createElement(Ze.a,null,o.a.createElement(gt,{value:this.state.w,label:"width",onChange:this.setW,min:0,step:10,inputProps:{style:{maxWidth:"4em"}}})),o.a.createElement(at.a,{onClick:this.swapWH,title:"swap width and height"},o.a.createElement(a.SwapHoriz,null)),o.a.createElement(Ze.a,null,o.a.createElement(gt,{value:this.state.h,label:"height",onChange:this.setH,min:0,step:10,inputProps:{style:{maxWidth:"4em"}}})),o.a.createElement(fn.a,{onClick:this.onClick,color:"primary",title:"render selected area"},o.a.createElement(a.AddAPhoto,null))))}}]),t}(o.a.Component),bn=Object(f.b)((function(e){return{visible:e.ui.nav===E.c.Capture,fractal:e.fractal}}),(function(e){return{addToGallery:function(t,n,a){return e(Object(x.b)(t,n,a))},startCapture:function(){e(Object(x.m)()),e(Object(x.c)())},finishCapture:function(){return e(Object(x.e)())}}}))(dn),vn=Object(f.b)(null,(function(e){return{zoomIn:function(t){e(Object(x.s)(t)),e(Object(x.h)())},zoomOut:function(t){e(Object(x.t)(t)),e(Object(x.h)())}}}))((function(e){var t=e.factor,n=void 0===t?2:t,r=e.zoomIn,c=e.zoomOut,i=Object(C.a)(e,["factor","zoomIn","zoomOut"]);return o.a.createElement(rt,Object.assign({},i,{onUp:function(){return r(n)},onDown:function(){return c(n)},downIcon:a.ZoomOut,upIcon:a.ZoomIn}))})),gn=n(28),On=n(18),yn=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).paramUpdater=function(e){return function(t){n.props.onChange(Object(gn.a)({},e,t))}},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"renderNumberIncrementer",value:function(e){var t=e.param;return o.a.createElement(ct,{key:"number-"+t,controlProps:e,value:this.props.params[t],onChange:this.paramUpdater(t)})}},{key:"renderComplexIncrementer",value:function(e){var t=e.param;return o.a.createElement(ut,{key:"complex-"+t,controlProps:e,value:this.props.params[t],onChange:this.paramUpdater(t)})}},{key:"renderCall",value:function(e){var t=this,n=e.icon,r=e.label;return r&&"Random"===n?o.a.createElement(Xe.a,{key:"action-"+r,variant:"outlined",color:"inherit",size:"small",onClick:function(){return t.props.onChange(e.onCall())},startIcon:o.a.createElement(a.Random,null)},e.label):r||"Random"!==n?r?o.a.createElement(Xe.a,{key:"action-"+r,variant:"outlined",size:"small",onClick:function(){return t.props.onChange(e.onCall())}},e.label):void 0:o.a.createElement(at.a,{key:"action-"+n,onClick:function(){return t.props.onChange(e.onCall())}},o.a.createElement(a.Random,null))}},{key:"renderControl",value:function(e){return e.type===On.a.Number?this.renderNumberIncrementer(e):e.type===On.a.Complex?this.renderComplexIncrementer(e):e.type===On.a.Call?this.renderCall(e):null}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,this.props.controls.map((function(t){return e.renderControl(t)})))}}]),t}(o.a.Component),jn=Object(f.b)((function(e){return{controls:Object(Ue.a)(Object(Kt.d)(e.fractal.algorithm).controls),params:Object(h.a)({},e.fractal.algorithm.params)}}),(function(e){return{onChange:function(t){e(Object(x.o)(t)),e(Object(x.h)())}}}))(yn),wn=Object(f.b)((function(e){return{value:e.fractal.algorithm.params.iter,controlProps:{type:On.a.Number,param:"iter",label:"iterations",step:2,min:0}}}),(function(e){return{onChange:function(t){e(Object(x.o)({iter:t})),e(Object(x.h)())}}}))(ct),kn=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(sn,{visible:this.props.nav===E.c.Params},o.a.createElement(jn,null)),o.a.createElement(sn,{visible:this.props.nav===E.c.Explore},o.a.createElement(wn,{fontSize:"large"}),o.a.createElement(vn,{factor:2,fontSize:"large",label:"Zoom"})))}}]),t}(o.a.Component),Cn=Object(f.b)((function(e){return{nav:e.ui.nav}}))(kn),En=n(283),xn=n(284),Pn=n(285),Rn=Object(M.a)({root:{padding:"3px",paddingTop:"20px"}})(En.a),Nn=Object(M.a)({root:{maxWidth:"200px",maxHeight:"200px",margin:"1mm"},tile:{width:"200px",height:"200px"}})(xn.a),Sn=Object(M.a)({root:{color:"rgba(255,255,255,0.5)","& :hover":{color:"rgba(255,255,255,1)"}}})(at.a);function Mn(e){var t=e.title;return o.a.createElement(Nn,{key:t,cols:1},o.a.createElement("img",{src:e.url,alt:t,style:{objectFit:"cover"}}),o.a.createElement(Pn.a,{title:t,actionIcon:o.a.createElement(o.a.Fragment,null,o.a.createElement(Sn,{onClick:e.onView},o.a.createElement(a.ViewImage,null)))}))}!function(e){e[e.None=0]="None",e[e.Delete=1]="Delete",e[e.JSON=2]="JSON",e[e.Link=3]="Link"}(ln||(ln={}));var An=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(p.a)(t).call(this,e))).state=void 0,n.close=function(){n.setState({current:null,popup:ln.None})},n.closePopup=function(){n.setState({popup:ln.None})},n.openDelete=function(){n.setState({popup:ln.Delete})},n.onDelete=function(){n.state.current&&(n.props.deleteImage(n.state.current.url),n.close())},n.onDownload=function(){if(n.state.current){var e=document.createElement("a");e.download=n.state.current.title+".png",e.href=n.state.current.url,e.click()}},n.onLoad=function(){n.state.current&&(n.props.loadJson(n.state.current.data),n.close())},n.viewer=function(e){return function(){n.setState({current:e})}},n.state={current:null,popup:ln.None},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"linkUrl",value:function(){if(this.state.current)return Object(Ft.b)(this.state.current.data)}},{key:"render",value:function(){var e,t=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Rn,{cellHeight:180,style:this.props.visible?{}:{display:"none"}},this.props.images.map((function(e,n){return o.a.createElement(Mn,Object(h.a)({},e,{key:e.url,onView:t.viewer(e)}))}))),o.a.createElement(xt.a,{open:null!==this.state.current,onClose:this.close},o.a.createElement(Ze.a,{style:{position:"relative"}},o.a.createElement(on.a,null,o.a.createElement(at.a,{onClick:this.close,title:"close",edge:"start"},o.a.createElement(a.Back,null)),o.a.createElement(at.a,{onClick:this.openDelete,title:"delete image"},o.a.createElement(a.Delete,null)),o.a.createElement(at.a,{onClick:this.onLoad,title:"load in fractal viewer"},o.a.createElement(a.Upload,null)),o.a.createElement(at.a,{onClick:this.onDownload,title:"download image"},o.a.createElement(a.Save,null)),o.a.createElement(Bt.a,{href:this.linkUrl(),variant:"subtitle1",style:{marginLeft:"1em"}},"Direct Link")),o.a.createElement("img",{alt:"fractal",src:(null===(e=this.state.current)||void 0===e?void 0:e.url)||"",style:{objectFit:"contain",maxWidth:"100%",maxHeight:"100%"}})),o.a.createElement(xt.a,{open:this.state.popup===ln.Delete,onClose:this.close},o.a.createElement(Ze.a,{m:2},o.a.createElement(We.a,null,"Delete this image?"),o.a.createElement(nt.a,{color:"primary",variant:"outlined"},o.a.createElement(Xe.a,{onClick:this.onDelete},"Yes"),o.a.createElement(Xe.a,{onClick:this.closePopup},"No"))))))}}]),t}(o.a.Component),Dn=Object(f.b)((function(e){return{visible:e.ui.nav===E.c.Gallery,images:e.gallery}}),(function(e){return{deleteImage:function(t){t&&e(Object(x.d)(t))},loadJson:function(t){e(Object(x.r)(t)),e(Object(x.h)()),e(Object(x.l)(E.c.Explore))}}}))(An),In=n(155),zn=Object(In.a)({root:{position:"absolute",overflow:"clip",display:"flex",flexDirection:"column",flexGrow:1,top:"50px",bottom:"55px",width:"100%"}});function Ln(){var e=zn();return o.a.createElement(Ze.a,{className:e.root},o.a.createElement(nn,null),o.a.createElement(bn,null),o.a.createElement(Dn,null),o.a.createElement(Cn,null))}var Tn=n(286),Un=Object(M.a)({label:{textTransform:"none"}})(Xe.a),_n=Object(f.b)((function(e){var t=Object(Kt.d)(e.fractal.algorithm).label;return{disabled:e.ui.modal===E.b.Info,formula:t}}),(function(e){return{onClick:function(){return e(Object(x.k)(E.b.Info))}}}))((function(e){var t=e.formula,n=Object(C.a)(e,["formula"]);return o.a.createElement(Un,n,o.a.createElement(He,{data:t}))})),Fn=Object(f.b)(null,(function(e){return{onClick:function(){e(Object(x.f)()),e(Object(x.h)())}}}))((function(e){return o.a.createElement(at.a,Object.assign({},e,{title:"recenter image at origin"}),o.a.createElement(a.Recenter,null))})),Bn=Object(In.a)({toolbar:{justifyContent:"flex-start"},gallery:{flexGrow:1,textAlign:"center"},formula:{},recenter:{},Params:{"& $gallery":{display:"none"}},Explore:{"& $gallery":{display:"none"}},Capture:{"& $gallery":{display:"none"},"& $recenter":{display:"none"}},Gallery:{"& $formula":{display:"none"},"& $recenter":{display:"none"}}});var Jn=Object(f.b)((function(e){return{nav:e.ui.nav,disableMenu:e.ui.modal===E.b.Menu}}),(function(e){return{openMenu:function(){return e(Object(x.k)(E.b.Menu))}}}))((function(e){var t=Bn(),n=e.nav===E.c.Params?"Params":e.nav===E.c.Explore?"Explore":e.nav===E.c.Capture?"Capture":"Gallery";return o.a.createElement(Tn.a,{position:"static",elevation:0},o.a.createElement(on.a,{className:t.toolbar+" "+t[n]},o.a.createElement(at.a,{onClick:e.openMenu,edge:"start"},o.a.createElement(a.Menu,null)),o.a.createElement(_n,{className:t.formula,title:"algorithm information",style:{marginLeft:"auto",marginRight:"auto"}}),o.a.createElement(We.a,{className:t.gallery},"Saved Fractals"),o.a.createElement(Fn,{className:t.recenter})))})),Gn=Object(S.a)((function(e){return{text:{fontSize:"1em"}}}));function Wn(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=e.toPrecision(4),n=t.split("e");return 1===n.length?t:n[0]+"\\times 10^{"+n[1]+"}"}var Vn=Object(f.b)((function(e){var t=e.fractal.view,n=t.cx,a=t.cy,r=t.ppu,o=t.w/r/2,c=t.h/r/2;return{visible:e.ui.modal===E.b.Info,cx:n,cy:a,rx:o,ry:c,algorithm:e.fractal.algorithm}}),(function(e){return{onClose:function(){return e(Object(x.k)(E.b.None))}}}))(Object(M.a)(Gn)((function(e){var t=e.algorithm,n=Object(Kt.d)(t).describe,a=function(e){var t=Math.pow(10,e);return function(e){return Math.round(e*t)/t}}(3-Math.floor(Math.log10(e.rx))),r="x_c = "+a(e.cx),c="y_c = "+a(e.cy),i="|x - x_c| \\leq "+Wn(Math.abs(e.rx)),u="|y - y_c| \\leq "+Wn(Math.abs(e.ry)),l=e.classes;return o.a.createElement(xt.a,{open:e.visible,onClose:e.onClose,marginThreshold:10},o.a.createElement(rn.a,null,o.a.createElement(Ze.a,{p:2,onClick:e.onClose},o.a.createElement(He,{data:n,className:l.text}),o.a.createElement(We.a,{style:{marginTop:"1em"},className:l.text},"The currently displayed portion of this fractal is centered at ",o.a.createElement(Ge,{math:"(x_c, y_c)"}),", where"),o.a.createElement(Ge,{math:r+"\\text{ and }"+c,displayMode:!0,className:l.text}),o.a.createElement(We.a,{className:l.text},"and plotted over ",o.a.createElement(Ge,{math:"(x, y)"})," such that"),o.a.createElement(Ge,{math:i+"\\text{ and }"+u,displayMode:!0,className:l.text}))))}))),Hn=n(287),qn=n(291),Yn=Object(In.a)({root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},typography:{color:"white"},progress:{outline:"none"}});var $n=Object(f.b)((function(e){return{open:e.ui.waiting}}))((function(e){var t=e.open,n=Yn();return o.a.createElement(qn.a,{open:t,className:n.root},o.a.createElement(o.a.Fragment,null,o.a.createElement(Hn.a,{className:n.progress}),o.a.createElement(We.a,{className:n.typography},"Rendering Image")))})),Zn=Object(In.a)((function(e){return{root:{height:"100%",flexDirection:"column",top:0,bottom:0,left:0,right:0,position:"absolute",overflow:"hidden",justifyContent:"space-between"}}}));function Xn(){var e=Zn();return o.a.createElement("div",{className:e.root},o.a.createElement($n,null),o.a.createElement(Ln,null),o.a.createElement(Jn,null),o.a.createElement(Zt,null),o.a.createElement(Vn,null),o.a.createElement(jt,null))}var Kn=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.store;return o.a.createElement(f.a,{store:e},o.a.createElement(k,null,o.a.createElement(Xn,null)))}}]),t}(o.a.Component),Qn=n(58),ea=n(35),ta=(n(204),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function na(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(214),Qn.a.dispatch(Object(ea.m)(window.location.search)),i.a.render(o.a.createElement(Kn,{store:Qn.a}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/fractal-explorer",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/fractal-explorer","/service-worker.js");ta?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):na(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):na(t,e)}))}}()},214:function(e,t,n){"use strict";n.r(t);var a=n(28),r=n(13),o=n(10),c=n(15),i=n(16),u=n(17),l=n(58),s=n(8),p=n(23),m=n(6),f=n(32),h=function(){function e(){Object(r.a)(this,e)}return Object(o.a)(e,[{key:"rotateParam",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.frames,r=void 0===n?30:n,o=t.center,c=void 0===o?[0,0]:o,i=t.angle,u=void 0===i?2*Math.PI:i,l=t.incl,s=void 0===l||l,p=t.ms,m=void 0===p?0:p,h=this.getParam(e),d=Object(f.a)(h,2),b=d[0],v=d[1],g=Object(f.a)(c,2),O=g[0],y=g[1],j=b-O,w=v-y,k=Math.atan2(w,j),C=Math.sqrt(j*j+w*w);function E(t){var n=k+t,r=O+C*Math.cos(n),o=y+C*Math.sin(n);return Object(a.a)({},e,[r,o])}return this.animate(0,u,r,{incl:s,ms:m})(E)}},{key:"getParam",value:function(e){return this.getParams()[e]}},{key:"setColorScheme",value:function(e,t){var n=p.b[e];n?this._updateColor(Object(m.a)({scheme:n,schemeName:e},t)):console.error("unknown schemeName:",e)}}]),e}(),d=n(110),b=n.n(d),v=b.a.mark(g);function g(e,t,n){var a,r,o,c,i=arguments;return b.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(a=!(i.length>3&&void 0!==i[3])||i[3],r=t-e,!a){u.next=12;break}o=0;case 4:if(!(o<n)){u.next=10;break}return u.next=7,e+r*(o/(n-1));case 7:o++,u.next=4;break;case 10:u.next=19;break;case 12:c=1;case 13:if(!(c<=n)){u.next=19;break}return u.next=16,e+r*(c/n);case 16:c++,u.next=13;break;case 19:case"end":return u.stop()}}),v)}function O(e,t,n){var a=e.next();return a.done?new Promise((function(e){e(a)})):(t(a.value),new Promise((function(a){setTimeout((function(){return a(O(e,t,n))}),n)})))}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return O(g(e,t,n,a),r,o)}}var j=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.a,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(r.a)(this,t),(e=Object(c.a)(this,Object(i.a)(t).call(this))).store=void 0,e.autodraw=void 0,e.store=n,e.autodraw=a,e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"loadJson",value:function(e){return this.dispatch(s.r(e)),this}},{key:"animate",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.incl,c=void 0===o||o,i=r.ms,u=void 0===i?0:i;return 0===a&&(a=t-e+1),function(r){var o=n.autodraw;return n.autodraw=!0,y(e,t,a,c)((function(e){n.updateParams(r(e))}),u).then((function(){return n.autodraw=o,n}))}}},{key:"dispatch",value:function(e){this.store.dispatch(e),this.autodraw&&this.redraw()}},{key:"redraw",value:function(){this.store.dispatch(s.h())}},{key:"getFractal",value:function(){return this.store.getState().fractal}},{key:"getAlgorithm",value:function(){return this.getFractal().algorithm}},{key:"getColor",value:function(){return this.getFractal().color}},{key:"getView",value:function(){return this.getFractal().view}},{key:"getMethod",value:function(){return this.getFractal().algorithm.methodName}},{key:"getParams",value:function(){return this.getFractal().algorithm.params}},{key:"getParam",value:function(e){return this.getParams()[e]}},{key:"setMethod",value:function(e){var t=p.a[e];t?this.dispatch(s.i(e,t)):console.error("unknown methodName:",e)}},{key:"updateParams",value:function(e){this.dispatch(s.o(e))}},{key:"setParam",value:function(e,t){this.dispatch(s.o(Object(a.a)({},e,t)))}},{key:"_updateColor",value:function(e){this.dispatch(s.n(e))}},{key:"_updateView",value:function(e){this.dispatch(s.p(e))}},{key:"recenter",value:function(){this.dispatch(s.f())}},{key:"setCenter",value:function(e,t){this.dispatch(s.j(e,t))}},{key:"zoom",value:function(e){this.dispatch(s.s(e))}}],[{key:"new",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new t(l.a,e)}}]),t}(h),w=n(97),k=n(34),C=n(160),E=n.n(C),x=function(){function e(){Object(r.a)(this,e),this.zip=void 0,this.count=void 0,this.zip=new E.a,this.count=0}return Object(o.a)(e,[{key:"addFile",value:function(e){var t="img"+String(this.count++).padStart(4,"0")+".png";this.zip.file(t,e)}},{key:"download",value:function(e){this.zip.generateAsync({type:"blob"}).then((function(t){var n=URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download=e,a.style.display="none",document.body.append(a),a.click(),setTimeout((function(){a.remove(),URL.revokeObjectURL(n)}),1e3)}))}}]),e}(),P=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this))).fractal=void 0,n.drawer=void 0,n.zipper=void 0,n.fractal=e,n.drawer=new p.c,n.zipper=new x,n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"json",value:function(){return Object(k.c)(this.fractal)}},{key:"url",value:function(){return Object(k.b)(this.json())}},{key:"clear",value:function(){this.zipper=new x}},{key:"loadJson",value:function(e){var t=Object(k.a)(e);return t&&(this.fractal.algorithm=Object(m.a)({},this.fractal.algorithm,{},t.algorithm),this.fractal.color=Object(m.a)({},this.fractal.color,{},t.color),this.fractal.view=Object(m.a)({},this.fractal.view,{},t.view)),this}},{key:"animate",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.incl,c=void 0===o||o,i=r.ms,u=void 0===i?0:i;return 0===a&&(a=t-e),function(r){return y(e,t,a,c)((function(e){n.updateParams(r(e)),n.redraw(),n.drawer.toBlob((function(e){e&&n.zipper.addFile(e)}))}),u).then((function(){return n}))}}},{key:"download",value:function(e){this.drawer.toURL((function(t){var n=document.createElement("a");n.href=t,n.download=e,document.body.append(n),n.click(),setTimeout((function(){n.remove(),URL.revokeObjectURL(t)}),100)}))}},{key:"saveToGallery",value:function(){var e=this;this.redraw(),this.drawer.toURL((function(t){var n="fract"+Math.floor(Date.now()-new Date(2020,0,25).getTime()).toString(16);l.a.dispatch(Object(s.b)(t,Object(k.c)(e.getFractal()),n))}))}},{key:"getFractal",value:function(){return{algorithm:this.getAlgorithm(),color:this.getColor(),view:this.getView()}}},{key:"getAlgorithm",value:function(){return this.fractal.algorithm}},{key:"getColor",value:function(){return this.fractal.color}},{key:"getView",value:function(){return Object(m.a)({},this.fractal.view,{pixelCount:this.fractal.view.w*this.fractal.view.h})}},{key:"redraw",value:function(){this.drawer.draw(this.getFractal())}},{key:"getMethod",value:function(){return this.fractal.algorithm.methodName}},{key:"getParams",value:function(){return this.fractal.algorithm.params}},{key:"getParam",value:function(e){return this.getParams()[e]}},{key:"setMethod",value:function(e){var t=p.a[e];t?(this.fractal.algorithm.method=t,this.fractal.algorithm.methodName=e):console.error("unknown methodName:",e)}},{key:"updateParams",value:function(e){this.fractal.algorithm.params=Object(m.a)({},this.fractal.algorithm.params,{},e)}},{key:"setParam",value:function(e,t){this.fractal.algorithm.params[e]=t}},{key:"_updateColor",value:function(e){this.fractal.color=Object(m.a)({},this.fractal.color,{},e)}},{key:"_updateView",value:function(e){this.fractal.view=Object(m.a)({},this.fractal.view,{},e)}},{key:"recenter",value:function(){this.fractal.view.cx=0,this.fractal.view.cy=0,this.fractal.view.ppu=Object(w.b)(this.fractal.view)}},{key:"setCenter",value:function(e,t){this.fractal.view.cx=e,this.fractal.view.cy=t}},{key:"zoom",value:function(e){this.fractal.view.ppu*=e}}],[{key:"parseState",value:function(e){return{algorithm:Object(m.a)({},e.algorithm),color:Object(m.a)({},e.color),view:Object(m.a)({},e.view)}}},{key:"fromState",value:function(e){return new t(t.parseState(e))}},{key:"new",value:function(){return new t(l.a.getState().fractal)}}]),t}(h);function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.volatility,a=void 0===n?.4:n,r=t.frames,o=void 0===r?30:r,c=t.rounds,i=void 0===c?3:c,u=t.ms,l=void 0===u?0:u,s=t.param,p=void 0===s?"c":s,m=e.getParam(p);if(m&&Array.isArray(m)){var h=Object(f.a)(m,2),d=h[0],b=h[1],v=d,g=b;e.setParam("c",[v,g]);var O=function(){return a*(.5-Math.random())},y=function(){var e=[v+O(),v+O()];return[v=e[0],g=e[1]]},j=0,w=function t(){if(++j<=i){console.log("round",j);var n=(Math.random()*Math.PI+Math.PI)/2;return e.rotateParam("c",{frames:o,center:y(),angle:n,incl:!1,ms:l}).then(t)}console.log("returning");var a=e.getParam("c"),r=Object(f.a)(a,2),c=r[0],u=r[1],s=(d+c)/2,p=(b+u)/2;return e.rotateParam("c",{frames:o,center:[s,p],angle:Math.PI,ms:l})};return w()}console.error('magic failed - does the fractal have a complex parameter "'+p+'"?')}var N=n(49),S={controller:j.new(!0),hidden:function(){return P.new()},get logDrawTime(){return N.a.logDrawTime},set logDrawTime(e){N.a.logDrawTime=e},magic:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length&&"getParam"in t[0]&&"setParam"in t[0]&&"rotateParam"in t[0]?R.apply(void 0,t):R.apply(void 0,[this.controller].concat(t))}};window.fractalex=S},23:function(e,t,n){"use strict";n.d(t,"d",(function(){return c}));var a=n(49);n.d(t,"c",(function(){return a.a}));var r=n(88);n.d(t,"a",(function(){return r.a}));var o=n(45);function c(e){var t=e.method,n=e.params;return{label:t.label,calc:t.calc(n),range:t.range(n),describe:t.describe(n),controls:t.controls}}n.d(t,"b",(function(){return o.a}))},30:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),function(e){e[e.None=0]="None",e[e.Draw=1]="Draw",e[e.Color=2]="Color",e[e.Capture=3]="Capture"}(a||(a={}));var r="FRACTAL_UPDATE"},31:function(e,t,n){"use strict";n.r(t),n.d(t,"PI",(function(){return a})),n.d(t,"TAU",(function(){return r})),n.d(t,"abs",(function(){return o})),n.d(t,"asin",(function(){return c})),n.d(t,"atan2",(function(){return i})),n.d(t,"cos",(function(){return d})),n.d(t,"exp",(function(){return u})),n.d(t,"floor",(function(){return l})),n.d(t,"pow",(function(){return s})),n.d(t,"random",(function(){return p})),n.d(t,"round",(function(){return m})),n.d(t,"sin",(function(){return f})),n.d(t,"sqrt",(function(){return h}));var a=Math.PI,r=2*a,o=Math.abs,c=Math.asin,i=Math.atan2,u=Math.exp,l=Math.floor,s=Math.pow,p=Math.random,m=Math.round,f=Math.sin,h=Math.sqrt,d=Math.cos},34:function(e,t,n){"use strict";var a=n(2),r=n(23);var o=n(109),c=n(32),i=n(14);function u(e){return function(e){var t=e.algorithm,n=e.color,a=e.view,o=n.schemeName,c=r.b[o]?null:n.scheme,u=[n.schemeName,n.skew,n.reverse?1:0];return Array.isArray(c)&&u.push.apply(u,Object(i.a)(c)),{v:"2",alg:[t.methodName,t.params],col:u,view:[a.cx,a.cy,a.w,a.h,a.ppu]}}(e)}function l(e){return"1"===e.v?function(e){var t=r.a[e.alg.m],n=r.b[e.col.sc];if(t)return{algorithm:{methodName:e.alg.m,method:t,params:e.alg.p},color:{schemeName:n?e.col.sc:"Rainbow",scheme:n||r.b.Rainbow,skew:e.col.sk,reverse:e.col.rv},view:{cx:e.view.cx,cy:e.view.cy,w:e.view.w,h:e.view.h,ppu:e.view.pp}}}(e):function(e){var t={};if(e.alg){var n=e.alg[0],a=r.a[n];a&&(t.algorithm={methodName:n,method:a,params:e.alg[1]})}if(e.col){var o=e.col[0],c=r.b[o];c||(c=e.col.slice(3)),t.color={schemeName:c&&c.length?o:"Rainbow",scheme:c&&c.length?c:r.b.Rainbow,skew:e.col[1],reverse:!!e.col[2]}}return e.view&&(t.view={cx:e.view[0],cy:e.view[1],w:e.view[2],h:e.view[3],ppu:e.view[4]}),t}(e)}function s(e){return window.location.href.split("?")[0]+"?"+("1"===e.v?function(e){var t=new URLSearchParams,n=e.v,r=Object(a.a)(e,["v"]);return t.append("v",n),t.append("data",btoa(JSON.stringify(r))),t.toString()}(e):function(e){var t=new URLSearchParams,n=e.v,a=e.alg,r=e.col,o=e.view;if(t.append("v",n),a){var i=Object.entries(a[1]).map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return n+":"+JSON.stringify(a)})).join(";");t.append("al",a[0]+";"+i)}return r&&t.append("co",r.join(";")),o&&t.append("vw",o.join(";")),t.toString()}(e))}function p(e){try{var t=new URLSearchParams(e),n=t.get("v");if("1"===n)return function(e){try{var t=e.get("data");if(t){var n=JSON.parse(atob(t)),a=n.alg,r=n.col,o=n.view;if(a&&r&&o)return{v:"1",alg:a,col:r,view:o}}}catch(c){}}(t);if("2"===n)return function(e){try{var t=e.get("al"),n=e.get("co"),a=e.get("vw"),r={v:"2"};if(t)try{var u=t.split(";"),l=Object(o.a)(u),s=l[0],p=l.slice(1),m=Object.fromEntries(p.map((function(e){var t=e.split(":");try{return[t[0],JSON.parse(t[1])]}catch(n){return console.log("bad param",e),["BAD_PARAM","BAD_PARAM"]}})).filter((function(e){return"BAD_PARAM"!==e[1]})));r.alg=[s,m]}catch(x){}if(n)try{var f=n.split(";"),h=Object(o.a)(f),d=h[0],b=h[1],v=h[2],g=h.slice(3);r.col=[d,+b,+v].concat(Object(i.a)(g))}catch(P){}if(a)try{var O=a.split(";").map((function(e){return+e})),y=Object(c.a)(O,5),j=y[0],w=y[1],k=y[2],C=y[3],E=y[4];r.view=[j,w,k,C,E]}catch(R){}return r}catch(N){}}(t)}catch(a){}}n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return p}))},35:function(e,t,n){"use strict";var a=n(34),r=n(30),o=n(66),c=function(e){return{type:o.c,payload:e}},i=function(e,t,n){return{type:o.a,payload:{methodName:e,method:t,params:n}}},u=n(95),l=function(e){return{type:u.a,payload:e}},s=n(47),p=function(e){return{type:s.b,payload:e}},m=function(){return{type:s.a}},f=function(e,t){return{type:s.b,payload:{cx:e,cy:t}}},h=function(e){return{type:s.c,payload:e}},d=function(e){return{type:s.d,payload:e}},b=n(55);n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return g})),n.d(t,"m",(function(){return O})),n.d(t,"f",(function(){return i})),n.d(t,"i",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"j",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return f})),n.d(t,"n",(function(){return h})),n.d(t,"o",(function(){return d})),n.d(t,"e",(function(){return b.e})),n.d(t,"d",(function(){return b.d})),n.d(t,"a",(function(){return b.b})),n.d(t,"b",(function(){return b.c}));var v=function(e){return{type:r.b,payload:e}},g=function(e){return{type:r.b,payload:Object(a.a)(e)}},O=function(e){var t=Object(a.d)(e);return t?{type:r.b,payload:Object(a.a)(t)}:{type:r.b,payload:void 0}}},4:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"q",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return d})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return v})),n.d(t,"n",(function(){return g})),n.d(t,"m",(function(){return x})),n.d(t,"a",(function(){return P})),n.d(t,"p",(function(){return N})),n.d(t,"o",(function(){return S}));var a=n(61),r=n(31);function o(e,t){return{re:e,im:t}}function c(e){var t=e.angle,n=e.radius;return{re:n*r.cos(t),im:n*r.sin(t)}}function i(e){return{angle:r.atan2(e.im,e.re),radius:r.sqrt(e.re*e.re+e.im*e.im)}}function u(e,t){return{re:e.re+t.re,im:e.im+t.im}}function l(e,t){return{re:e.re+t,im:e.im}}function s(e,t){return u(e,c(t))}function p(e,t){return{re:e.re-t.re,im:e.im-t.im}}function m(e,t){return{re:e.re*t.re-e.im*t.im,im:e.re*t.im+e.im*t.re}}function f(e,t){return{re:t*e.re,im:t*e.im}}function h(e,t){var n=P(t);return{re:(e.re*t.re+e.im*t.im)/n,im:(e.im*t.re-e.re*t.im)/n}}function d(e){return c({radius:r.exp(e.re),angle:e.im})}function b(e,t){return c(a.c(i(e),t))}function v(e,t){return t<0?h(o(1,0),v(e,-t)):0===t?o(1,0):1===t?e:2===t?m(e,e):3===t?m(m(e,e),e):4===t?m(m(m(e,e),e),e):5===t?m(m(m(m(e,e),e),e),e):6===t?m(m(m(m(m(e,e),e),e),e),e):7===t?m(m(m(m(m(m(e,e),e),e),e),e),e):8===t?m(m(m(m(m(m(m(e,e),e),e),e),e),e),e):b(e,t)}function g(e,t){return v(e,t)}var O=function(e){return m(e,e)},y=function(e){return m(m(e,e),e)},j=function(e){return m(m(m(e,e),e),e)},w=function(e){return m(m(m(m(e,e),e),e),e)},k=function(e){return m(m(m(m(m(e,e),e),e),e),e)},C=function(e){return m(m(m(m(m(m(e,e),e),e),e),e),e)},E=function(e){return O(O(O(e)))};function x(e){if(e<0){var t=x(-e);return function(e){return h(o(1,0),t(e))}}if(0===e)return function(e){return o(1,0)};if(1===e)return function(e){return e};if(2===e)return O;if(3===e)return y;if(4===e)return j;if(5===e)return w;if(6===e)return k;if(7===e)return C;if(8===e)return E;if(e%1===0){if(e%2===0){var n=x(e/2);return function(e){return O(n(e))}}var a=x((e-1)/2);return function(e){return m(e,O(a(e)))}}return function(t){return b(t,e)}}function P(e){return e.re*e.re+e.im*e.im}function R(e){return r.sqrt(P(e))}function N(e){return c({angle:r.atan2(e.im,e.re)/2,radius:r.sqrt(R(e))})}function S(e){return function(e,t){return{re:e.re/t,im:e.im/t}}(p(d(e),d({re:-(t=e).re,im:-t.im})),2);var t}},42:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return l}));var a=n(23),r="Jl1",o="Rainbow",c=9e4,i={w:1920,h:1080},u={w:600,h:500},l=a.a[r];a.b[o]},45:function(e,t,n){"use strict";var a=n(19);function r(e){var t=Array.isArray(e.scheme)?Object(a.L)(a.k,e.scheme):e.scheme,n=e.reverse?[1,0]:[0,1],r=Math.pow(2,e.skew);return function(e){var o=Object(a.M)().domain(e).range(n).exponent(r);return function(e){return t(o(e))}}}var o=n(6),c={Cool:a.e,Cubehelix:a.f,Greys:a.i,Inferno:a.j,Magma:a.l,Plasma:a.q,Rainbow:a.w,Sinebow:a.D,Spectral:a.E,Viridis:a.F,Warm:a.G},i={Blues:a.a,BrBG:a.b,BuGn:a.c,BuPu:a.d,GnBu:a.g,Greens:a.h,OrRd:a.m,Oranges:a.n,PRGn:a.o,PiYG:a.p,PuBu:a.r,PuBuGn:a.s,PuOr:a.t,PuRd:a.u,Purples:a.v,RdBu:a.x,RdGy:a.y,RdPu:a.z,RdYlBu:a.A,RdYlGn:a.B,Reds:a.C,YlGn:a.H,YlGnBu:a.I,YlOrBr:a.J,YlOrRd:a.K},u=Object(o.a)({},c,{},i,{},{Paint:["#3db5ec","#73c2b0","#b9e375","#f4bb44","#eb591b"],Ink:["#000000","#FFDD8C"]});n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return u}))},47:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return c}));var a="VIEW_UPDATE",r="VIEW_ZOOM_IN",o="VIEW_ZOOM_OUT",c="VIEW_RECENTER"},49:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return s}));var a=n(32),r=n(6),o=n(13),c=n(10),i=n(45),u=n(23);function l(e,t){var n=(t[1]-t[0])/(e[1]-e[0]),a=t[0]-n*e[0];return function(e){return n*e+a}}function s(e){var t=e.w,n=e.h,a=e.ppu,r=e.pixelCount,o=t*n,c=Math.sqrt(r/o);return{w:Math.round(t*c),h:Math.round(n*c),ppu:Math.round(a*c)}}function p(e){return"x"in e}var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(o.a)(this,e),this.ctx=void 0,this.fullResolution=void 0,this.cmap=void 0,this.image=void 0,this.ctx=document.createElement("canvas").getContext("2d"),this.fullResolution=t,this.cmap=[],this.image=new ImageData(1,1)}return Object(c.a)(e,[{key:"getView",value:function(e){return p(e)?e:Object(r.a)({},e,{},s(e))}},{key:"recolor",value:function(e){this.draw(e)}},{key:"draw",value:function(t){var n=performance.now();this.makeCMap(t),this.makeImage(t);var a=performance.now();e.logDrawTime&&console.log("draw time:",a-n,"ms")}},{key:"makeCMap",value:function(e){for(var t=e.color,n=e.algorithm,r=Object(u.d)(n).range,o=Object(i.b)(t)(r),c=[],l=0;l<=r[1];l++){this.ctx.fillStyle=o(l);var s=[this.ctx.fillStyle.slice(1,3),this.ctx.fillStyle.slice(3,5),this.ctx.fillStyle.slice(5,7)].map((function(e){return parseInt(e,16)})),p=Object(a.a)(s,3),m=p[0],f=p[1],h=p[2];c.push([m,f,h])}this.cmap=c}},{key:"makeImage",value:function(e){var t,n,a=e.algorithm,r=this.cmap,o=this.getView(e.view),c=o.w,i=o.h,s=Object(u.d)(a).calc,m=new ImageData(c,i);if(p(o))t=o.x,n=o.y;else{var f=o.cx,h=o.cy,d=o.w,b=o.h,v=o.ppu,g=d/v/2,O=b/v/2;t=[f-g,f+g],n=[h+O,h-O]}for(var y=l([-.5,c-.5],t),j=l([-.5,i-.5],n),w=0;w<i;w++)for(var k=j(w),C=c*w,E=0;E<c;E++){var x=4*(E+C),P=r[s(y(E),k)];m.data[x]=P[0],m.data[x+1]=P[1],m.data[x+2]=P[2],m.data[x+3]=255}this.image=m}},{key:"putOnCanvas",value:function(e){var t;e.width=this.image.width,e.height=this.image.height,null===(t=e.getContext("2d"))||void 0===t||t.putImageData(this.image,0,0)}},{key:"toBlob",value:function(e){var t=document.createElement("canvas");this.putOnCanvas(t),t.toBlob(e)}},{key:"toURL",value:function(e){this.toBlob((function(t){if(t){var n=URL.createObjectURL(t);e(n)}}))}}]),e}();m.logDrawTime=!1,t.a=m},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}));var a="GALLERY_ADD",r="MASS_ADD_TO_GALLERY",o="GALLERY_DELETE"},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l}));var a=n(30),r="FRACTAL_FINISH_DRAW";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a.None,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FRACTAL_SET_DRAW":return t.payload;case r:return a.a.None;default:return e}}var c=function(){return{type:"FRACTAL_SET_DRAW",payload:a.a.Draw}},i=function(){return{type:"FRACTAL_SET_DRAW",payload:a.a.Color}},u=function(){return{type:"FRACTAL_SET_DRAW",payload:a.a.Capture}},l=function(){return{type:r}}},58:function(e,t,n){"use strict";var a=n(59),r=n(6),o=n(66),c=n(42),i={methodName:c.e,method:c.d,params:c.d.newParams()},u=n(45),l=n(95),s={schemeName:c.c,scheme:u.a[c.c],reverse:!1,skew:0},p=n(97),m=n(55),f=n(30),h=Object(a.b)({algorithm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.b:return Object(r.a)({},e,{},t.payload);case o.a:return{methodName:t.payload.methodName,method:t.payload.method,params:t.payload.params?t.payload.params:t.payload.method.newParams()};case o.c:return Object(r.a)({},e,{params:Object(r.a)({},e.params,{},t.payload)});default:return e}},color:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.a:return Object(r.a)({},e,{},t.payload);default:return e}},view:p.a,drawState:m.f}),d=n(28),b=n(11),v=n(52),g=n(88),O={nav:b.c.Explore,modal:b.b.None,canvasStretch:b.g.Contain,galleryBadge:0,methodList:g.a,colorSchemeList:Object(r.a)({},u.a),waiting:!1},y=n(14),j=[],w=Object(a.b)({fractal:function(e,t){if(t.type===f.b){if(void 0!==t.payload){var n=Object(r.a)({},e.view,{},t.payload.view),a=n.w/e.view.w,o=n.h/e.view.h;return a>o?n.h=e.view.h*a:n.w=e.view.w*o,{algorithm:Object(r.a)({},e.algorithm,{},t.payload.algorithm),color:Object(r.a)({},e.color,{},t.payload.color),view:n,drawState:e.drawState}}return e}return h(e,t)},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.h:return Object(r.a)({},e,{},t.payload);case b.e:return t.payload===b.c.Gallery?Object(r.a)({},e,{nav:t.payload,galleryBadge:0}):Object(r.a)({},e,{nav:t.payload});case b.d:return Object(r.a)({},e,{modal:t.payload});case b.f:return Object(r.a)({},e,{canvasStretch:t.payload});case b.a:return Object(r.a)({},e,{colorSchemeList:Object(r.a)({},e.colorSchemeList,Object(d.a)({},t.payload.name,t.payload.scheme))});case v.a:return Object(r.a)({},e,{galleryBadge:e.galleryBadge+1});case f.b:return t.payload&&t.payload.color&&t.payload.color.schemeName&&!e.colorSchemeList[t.payload.color.schemeName]?Object(r.a)({},e,{colorSchemeList:Object(r.a)({},e.colorSchemeList,Object(d.a)({},t.payload.color.schemeName,t.payload.color.scheme))}):e;case m.a:return Object(r.a)({},e,{waiting:!1});default:return e}},gallery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.a:return[].concat(Object(y.a)(e),[t.payload]);case v.b:return URL.revokeObjectURL(t.payload),e.filter((function(e){return e.url!==t.payload}));case v.c:return console.log(t),[].concat(Object(y.a)(e),Object(y.a)(t.payload));default:return e}}});t.a=Object(a.c)(w)},61:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c}));var a=n(31);function r(e,t){return{angle:e.angle,radius:t*e.radius}}function o(e,t){return{angle:e.angle-t.angle,radius:e.radius/t.radius}}function c(e,t){return{angle:e.angle*t,radius:a.pow(e.radius,t)}}},66:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o}));var a="ALGORITHM_UPDATE",r="ALGORITHM_SET",o="ALGORITHM_UPDATE_PARAMS"},8:function(e,t,n){"use strict";var a=n(35),r=n(11),o=function(e){return{type:r.d,payload:e}},c=function(e){return{type:r.e,payload:e}},i=function(){return{type:r.h,payload:{waiting:!0}}},u=function(e,t){return{type:r.a,payload:{name:e,scheme:t}}},l=n(52),s=function(e,t,n){return{type:l.a,payload:{url:e,data:t,title:n}}},p=function(e){return{type:l.b,payload:e}};n.d(t,"i",(function(){return a.f})),n.d(t,"o",(function(){return a.i})),n.d(t,"n",(function(){return a.h})),n.d(t,"p",(function(){return a.j})),n.d(t,"f",(function(){return a.c})),n.d(t,"j",(function(){return a.g})),n.d(t,"s",(function(){return a.n})),n.d(t,"t",(function(){return a.o})),n.d(t,"h",(function(){return a.e})),n.d(t,"g",(function(){return a.d})),n.d(t,"c",(function(){return a.a})),n.d(t,"e",(function(){return a.b})),n.d(t,"q",(function(){return a.k})),n.d(t,"r",(function(){return a.l})),n.d(t,"l",(function(){return c})),n.d(t,"k",(function(){return o})),n.d(t,"m",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return p}))},81:function(e,t,n){e.exports={Outer:"Canvas_Outer__3WApH",Canvas:"Canvas_Canvas__2ENmD",Stretch:"Canvas_Stretch__2sMXG"}},88:function(e,t,n){"use strict";var a=n(14),r=n(18),o=n(6),c=n(2),i=function(e){var t=e.controls,n=void 0===t?[]:t,a=Object(c.a)(e,["controls"]);return Object(o.a)({},a,{controls:n})},u=n(4),l=function(e,t){var n=e*e;return function(e){for(var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{re:0,im:0},r=0,o=a;r<t&&Object(u.a)(o)<n;)r+=1,o=e(o);return r}},s=n(12),p={bd:10,iter:20};function m(e){return function(){return Object(o.a)({},p,{},e())}}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 0===t?function(t){var n=e(t);return function(e,a){return l(t.bd,t.iter)(n(Object(u.e)(e,a)))}}:"c"===t?function(t){var n=e(t);return function(e,a){return l(t.bd,t.iter)(n(Object(u.e)(e,a)),Object(u.e)(e,a))}}:function(n){var a=e(n),r=t(n);return function(e,t){return l(n.bd,n.iter)(a(Object(u.e)(e,t)),r(Object(u.e)(e,t)))}}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return b(e(n),0===t?"0":"c"===t?"x+yi":t(n),n.bd,n.iter)}}function d(e){if("describe"in e)return i({label:e.label,calc:f(e.f,e.z0),range:function(e){return[0,e.iter]},describe:e.describe,newParams:m(e.newParams),controls:e.controls});var t=void 0!==e.latexZ0||0!==e.z0&&"c"!==e.z0?e.latexZ0:e.z0;return i({label:e.label,calc:f(e.f,e.z0),range:function(e){return[0,e.iter]},describe:h(e.latexF,t),newParams:m(e.newParams),controls:e.controls})}function b(e,t,n,a){return[{math:"\\begin{aligned}z_0 &= "+t+"\\\\z_{n+1} &= "+(-1===e.indexOf("z_")?e.replace(/z/g,"z_n"):e)+"\\end{aligned}",displayMode:!0},"The color of the pixel located at ",{math:"(x, y)"}," corresponds to ",{math:"k"},", where ",{math:"z_k"}," is the first term of the above sequence such that ",{math:"|z_k| > ".concat(Object(s.b)(n))},". If this does not occur in the first ",{math:Object(s.b)(a)}," terms of the sequence, then ",{math:"k = "+Object(s.b)(a)},"."]}function v(e){return Array.isArray(e)?["Julia: "].concat(Object(a.a)(e)):["Julia: ",e]}function g(e){return function(t){var n=e(t),a=l(t.bd,t.iter);return function(e,t){return a(n,Object(u.e)(e,t))}}}function O(e){var t=e.f,n=e.label,a=e.latexF,r=Object(c.a)(e,["f","label","latexF"]);return i({label:v(n),calc:g(t),range:function(e){return[0,e.iter]},describe:function(e){return b(a(e),"x+yi",e.bd,e.iter)},newParams:m(r.newParams),controls:r.controls})}var y=n(61),j=n(31);function w(e){return e%1===0}var k=function(e){return function(e){for(var t in e)if(!w(+t)||+t<0)return!1;return!0}(e)?function(t){var n={re:0,im:0};for(var a in e)n=Object(u.b)(n,Object(u.j)(Object(u.l)(t,+a),e[a]));return n}:function(t){var n=Object(u.q)(t),a={re:0,im:0};for(var r in e)a=Object(u.c)(a,y.b(y.c(n,+r),e[r]));return a}},C=function(e){return Object(u.e)(j.abs(e.re),j.abs(e.im))};function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;if(t){var n=E(e),a=Object(u.e)(t[0],t[1]);return function(e){return Object(u.b)(n(e),a)}}if(1===e)return C;var r=Object(u.m)(e);return function(e){return r(Object(u.e)(j.abs(e.re),j.abs(e.im)))}}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a=2*e,r=function(t){return t>e?a-t:t<-e?-a-t:t},o=t*t,c=1/o,i=function(e){var t=Object(u.a)(e);return t<c?Object(u.j)(e,n*o):t<1?Object(u.j)(e,n/t):Object(u.j)(e,n)};return function(e){return i(Object(u.e)(r(e.re),r(e.im)))}}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(u.e)(0,0),n=t;return function(t){var a=e(t,n);return n=t,a}}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-.5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2?arguments[2]:void 0,a=Object(u.m)(t);if(n){var r=Object(u.e)(n[0],n[1]);return function(t,n){return Object(u.b)(Object(u.b)(a(t),r),Object(u.j)(n,e))}}return function(t,n){return Object(u.b)(a(t),Object(u.j)(n,e))}}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.step,a=void 0===n?1:n,i=Object(c.a)(t,["step"]);return Object(o.a)({type:r.a.Number,param:e,label:i.label?i.label:e,step:a},i)}function S(e){return{re:j.abs(e.re),im:j.abs(e.im)}}var M=d({label:"Burning Ship",latexF:function(e){return"\\left(|Re(z)|+|Im(z)|\\right)^{".concat(Object(s.b)(e.k),"}+x-yi")},f:function(e){var t=e.k;return w(t)?function(e){var n={re:e.re,im:-e.im};return function(e){return Object(u.b)(Object(u.l)(S(e),t),n)}}:function(e){var n={re:e.re,im:-e.im};return function(e){return Object(u.b)(Object(u.k)(S(e),t),n)}}},newParams:function(){return{k:2}},controls:[{type:r.a.Number,label:"exponent (k)",param:"k",step:.1,min:0}]}),A=d({label:"Burning Ship (Mandelbox Remix)",f:function(e){var t=e.box1,n=e.box2,a=e.box3,r=e.k,o=w(r)&&r>0?u.l:u.k,c=x(t,n,a);return function(e){return function(t){var n=Object(u.j)(o(Object(u.e)(j.abs(t.re),-j.abs(t.im)),r),1/a);return Object(u.b)(c(n),e)}}},z0:0,describe:function(e){e.box1,e.box2;var t=e.box3,n=e.k;e.bd,e.iter;return["This follows the same algorithm as the Mandelbox fractal, but first applies the function ",{math:"z \\mapsto \\left(|Re(z)|-|Im(z)|\\right)^{".concat(Object(s.b)(n),"} \\div ").concat(Object(s.b)(t)),displayMode:!0}]},newParams:function(){return{box1:1,box2:2,box3:2.2,k:2,bd:50}},controls:[{type:r.a.Call,icon:"Random",onCall:function(){return{box3:j.round(100*j.random())/100+.5}}}].concat(Object(a.a)(["box1","box2","box3"].map((function(e){return N(e,{step:.1})}))),[N("k",{step:.1,min:0}),N("bd",{step:5,min:0})])}),D=n(28);function I(){var e=j.PI-2*j.asin(j.pow(j.random(),.9));j.random()<.5&&(e=2*j.PI-e);var t=.3+.6*j.sin(e/2)*(.4*j.random()+.8);return[j.round(t*j.cos(e)*1e3)/1e3,j.round(t*j.sin(e)*1e3)/1e3]}var z={k:{type:r.a.Number,label:"exponent (k)",param:"k",step:.5},c:{type:r.a.Complex,label:"c",param:"c",stepRadius:.02,stepAngle:.05},randomC:{type:r.a.Call,icon:"Random",onCall:function(){return{c:I()}}}},L=O({label:{math:"z^k+c"},f:function(e){var t=e.k,n=e.c,a=Object(u.e)(n[0],n[1]),r=Object(u.m)(t);return function(e){return Object(u.b)(r(e),a)}},latexF:function(e){var t=e.k,n=e.c;return"z^{".concat(s.b(t),"}").concat(s.a(n,{sign:!0}))},newParams:function(){return{k:2,c:I()}},controls:[z.randomC,z.c,z.k,{type:r.a.Number,label:"bound",param:"bd",step:5,min:0}]}),T=O({label:{math:"az^m+bz^n+c"},f:function(e){var t,n=e.a,a=e.b,r=e.c,o=e.m,c=e.n,i=k((t={},Object(D.a)(t,o,n),Object(D.a)(t,c,a),t)),l=Object(u.e)(r[0],r[1]);return function(e){return Object(u.b)(i(e),l)}},latexF:function(e){var t=e.a,n=e.b,a=e.c,r=e.m,o=e.n;return"".concat(s.b(t),"z^{").concat(s.b(r),"}")+"".concat(s.b(n,{sign:!0}),"z^{").concat(s.b(o),"}")+"".concat(s.a(a,{sign:!0}))},newParams:function(){return{a:-5,m:-2,b:1,n:1,c:[-.5,.5]}},controls:[].concat(Object(a.a)(["a","m","b","n"].map((function(e){return{type:r.a.Number,param:e,label:e,step:"a"===e||"b"===e?1:.1}}))),[z.c])}),U=O({label:{math:"e^{z^k}+c"},newParams:function(){return{k:3,c:[-.6,0]}},latexF:function(e){var t=e.k,n=e.c;return"e^{z^{".concat(s.b(t),"}}").concat(s.a(n,{sign:!0}))},f:function(e){var t=e.k,n=e.c,a=Object(u.e)(n[0],n[1]);return function(e){return Object(u.b)(Object(u.g)(Object(u.n)(e,t)),a)}},controls:[z.randomC,z.c,z.k,{type:r.a.Number,label:"bound",param:"bd",min:0,step:1}]}),_=O({label:{math:"\\sqrt{\\sinh(z^{k})}+c"},newParams:function(){return{k:2,c:[.06,.12]}},latexF:function(e){var t=e.k,n=e.c;return"\\sqrt{\\sinh(z^{".concat(s.b(t),"})}").concat(s.a(n,{sign:!0}))},f:function(e){var t=e.k,n=e.c,a=Object(u.e)(n[0],n[1]);return function(e){return Object(u.b)(Object(u.p)(Object(u.o)(Object(u.n)(e,t))),a)}},controls:[z.randomC,z.c,z.k,{type:r.a.Number,label:"bound",param:"bd",min:0,step:1}]}),F=O({label:"Burning Ship",newParams:function(){return{k:2,c:[-.52,-1.1]}},f:function(e){var t=e.k,n=e.c,a=Object(u.e)(n[0],n[1]),r=E(t);return function(e){return Object(u.b)(r(e),a)}},latexF:function(e){var t=e.k,n=e.c;return"(|Re(z)|+|Im(z)|)^{".concat(s.b(t),"}").concat(s.a(n,{sign:!0}))},controls:[z.randomC,z.c,z.k]}),B=d({label:"Magnet Type I",f:function(e){var t=e.k,n=w(t)&&t>0?u.l:u.k;return function(e){var a=Object(u.d)(e,-1),r=Object(u.d)(e,-2);return function(e){return n(Object(u.f)(Object(u.b)(Object(u.l)(e,2),a),Object(u.b)(Object(u.j)(e,2),r)),t)}}},latexF:function(e){var t=e.k;return"\\left(\\frac{z^2 + x+yi - 1}{2z + x+yi - 2}\\right)^{"+s.b(t)+"}"},newParams:function(){return{k:2}},controls:[{type:r.a.Number,param:"k",label:"exponent",step:.5},{type:r.a.Number,param:"bd",label:"bound",step:5,min:0}]}),J=d({label:"Magnet Type II",newParams:function(){return{k:2}},f:function(e){var t=e.k,n=w(t)&&t>0?u.l:u.k;return function(e){var a=Object(u.d)(e,-1),r=Object(u.d)(e,-2),o=Object(u.j)(a,3),c=Object(u.j)(r,3),i=Object(u.i)(a,r);return function(e){return n(Object(u.f)(Object(u.b)(Object(u.b)(Object(u.l)(e,3),Object(u.i)(o,e)),i),Object(u.b)(Object(u.b)(Object(u.j)(Object(u.l)(e,2),3),Object(u.i)(c,e)),Object(u.d)(i,1))),t)}}},latexF:function(e){var t=e.k;return"\\left(\\frac{z^3 + 3(x+yi-1)z + (x+yi-1)(x+yi-2)}{3z^2 + 3(x+yi-2)z + (x+yi-1)(x+yi-2) + 1}\\right)^{"+s.b(t)+"}"},controls:[{type:r.a.Number,param:"k",label:"exponent",step:.5},{type:r.a.Number,param:"bd",label:"bound",step:5,min:0}]});var G=function(e){return"\\left\\{\\begin{aligned}"+"".concat(s.b(2*e),"z &, \\text{ if $|z|<").concat(s.b(1/e),"$}\\\\")+"z \\div |z|^2 &, \\text{ if $".concat(s.b(1/e)," \\leq |z| < 1$}\\\\")+"z &, \\text{ otherwise}\\\\\\end{aligned}\\right."};function W(e,t,n,r,o){return[{math:"f_{\\mathbb{R}\\mapsto\\mathbb{R}}(n) ="+(c=e,"\\left\\{\\begin{aligned}"+"".concat(s.b(2*c)," - n &, \\text{ if $n > ").concat(s.b(c),"$}\\\\")+"".concat(s.b(-2*c)," - n &, \\text{ if $n < ").concat(s.b(-c),"$}\\\\")+"n &, \\text{ otherwise}\\end{aligned}\\right."),displayMode:!0},{math:"A_{\\mathbb{C}\\mapsto\\mathbb{C}}(z) =f(Re(z))+f(Im(z))i",displayMode:!0},{math:"B_{\\mathbb{C}\\mapsto\\mathbb{C}}(z) ="+G(t),displayMode:!0}].concat(Object(a.a)(b(function(e){return s.b(e)+"\\cdot B(A(z)) + x + yi"}(n),"0",r,o)));var c}var V={type:r.a.Call,icon:"Random",onCall:function(){return{box3:j.round(20*j.random())/10+2}}},H=[N("box1",{step:.1}),N("box2",{step:.1}),N("box3",{step:.1})],q=d({label:"Mandelbox",f:function(e){var t=x(e.box1,e.box2,e.box3);return function(e){return function(n){return Object(u.b)(t(n),e)}}},newParams:function(){return{box1:1,box2:2,box3:2.2}},describe:function(e){return W(e.box1,e.box2,e.box3,e.bd,e.iter)},controls:[V].concat(H,[{type:r.a.Number,param:"bd",label:"bound",step:10,min:0}])}),Y=d({label:"Mandelcorner",f:function(e){var t=e.box1,n=e.box2,a=e.box3;return function(e){var r=Object(u.e)(e.re,-e.im),o=x(t,n,a),c=E();return function(e){var t=Object(u.e)(e.re,e.im);return t=o(t),Object(u.b)(c(t),r)}}},newParams:function(){return{box1:1,box2:2,box3:3}},describe:function(e){return["Mandelbox("+[e.box1,e.box2,e.box3].map((function(e){return s.b(e)})).join(",")+") -> Burning Ship"]},controls:[V].concat(H,[{type:r.a.Number,param:"bd",label:"bound",step:1}])}),$=d({label:"Mandelbrot",latexF:function(e){return"z^{".concat(Object(s.b)(e.k),"}+x+yi")},f:function(e){var t=e.k;return w(t)?function(e){return function(n){return Object(u.b)(Object(u.l)(n,t),e)}}:function(e){return function(n){return Object(u.b)(Object(u.k)(n,t),e)}}},newParams:function(){return{k:2}},controls:[{type:r.a.Number,label:"exponent (k)",param:"k",step:1,min:0}]}),Z=d({label:"Phoenix",newParams:function(){return{p:-.5,k:2,c:[.5667,0],iter:40}},f:function(e){var t=e.p,n=e.k,a=e.c;return function(e){return P(R(t,n,a))}},z0:function(){return function(e){return Object(u.e)(e.im,e.re)}},latexZ0:function(){return"y+xi"},latexF:function(e){var t=e.p,n=e.k,a=e.c;return"z_{n}^{".concat(s.b(n),"}").concat(s.a(a,{sign:!0})).concat(s.b(t,{sign:!0}),"z_{n-1}")},controls:[{type:r.a.Complex,param:"c",label:"c",stepRadius:.02,stepAngle:.05},{type:r.a.Number,param:"p",label:"p",step:.1},{type:r.a.Number,param:"k",label:"k",step:.5}]}),X=d({label:"Phoenix/Burning Ship",newParams:function(){return{p:-.5,k:2,c:[.6,0]}},f:function(e){var t=e.p,n=e.k,a=e.c,r=E(n),o=R(t,1,a),c=function(e,t){return o(r(e),t)};return function(e){return P(c)}},z0:function(){return function(e){return Object(u.e)(e.im,e.re)}},latexZ0:function(){return"y+xi"},latexF:function(e){var t=e.p,n=e.k,a=e.c;return"\\left(|Re(z_{n})|+|Im(z_{n})|\\right)^{".concat(s.b(n),"}").concat(s.a(a,{sign:!0})).concat(s.b(t,{sign:!0}),"z_{n-1}")},controls:[{type:r.a.Complex,param:"c",label:"c",stepRadius:.02,stepAngle:Math.PI/60},{type:r.a.Number,param:"p",label:"p",step:.1},{type:r.a.Number,param:"k",label:"k",step:.5}]}),K=(d({label:{math:"e^{z^k}+c"},newParams:function(){return{k:3}},latexF:function(e){var t=e.k;return"e^{z^{".concat(s.b(t),"}}+x+yi")},f:function(e){var t=e.k;return function(e){return function(n){return Object(u.b)(Object(u.g)(Object(u.n)(n,t)),e)}}},controls:[{type:r.a.Number,label:"k",param:"k",step:.5},{type:r.a.Number,label:"bound",param:"bd",min:0,step:1}]}),d({label:"Test",newParams:function(){return{p:.5,k:2,m1:2,m2:2,m3:2,c:[.001,0]}},f:function(e){var t=e.p,n=e.k,a=e.m1,r=e.m2,o=e.m3,c=e.c,i=E(n),u=x(a,r,o),l=R(t,1,c),s=function(e,t){return u(l(i(e),t))};return function(e){return P(s)}},z0:function(){return function(e){return e}},describe:function(){return[""]},controls:[function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.stepRadius,a=void 0===n?.02:n,i=t.stepAngle,u=void 0===i?.05:i,l=Object(c.a)(t,["stepRadius","stepAngle"]);return Object(o.a)({type:r.a.Complex,param:e,label:l.label?l.label:e,stepRadius:a,stepAngle:u},l)}("c"),N("k",{step:.5}),N("p",{step:.5}),N("m1",{step:.1}),N("m2",{step:.5}),N("m3",{step:.1})]}));n.d(t,"a",(function(){return Q}));var Q={Bs:M,BsMbx:A,JlBs:F,Jl1:L,Jl2:T,JlExp:U,JlSinh:_,Mg1:B,Mg2:J,Mbx:q,Md:$,MbxBs:Y,Ph:Z,PhBs:X,Test1:K}},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="COLOR_UPDATE"},97:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var a=n(6),r=n(47),o=n(42),c=Object(a.a)({},o.a,{cx:0,cy:0,ppu:256,pixelCount:o.f});function i(e){var t=e.w,n=e.h;return Math.round(Math.min(n,t)/5)}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(a.a)({},c,{ppu:i(c)}),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.b:return Object(a.a)({},e,{},t.payload);case r.a:return Object(a.a)({},e,{cx:0,cy:0,ppu:i(e)});case r.c:return Object(a.a)({},e,{ppu:e.ppu*t.payload});case r.d:return Object(a.a)({},e,{ppu:Math.round(e.ppu/t.payload)});default:return e}}}},[[193,1,2]]]);
//# sourceMappingURL=main.7916b92e.chunk.js.map